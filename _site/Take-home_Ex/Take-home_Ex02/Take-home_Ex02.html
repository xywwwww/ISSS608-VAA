<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Wan Xinyu">

<title>ISSS608-VAA - Take-home_Ex02</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../research.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="../../site_libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../../site_libs/datatables-binding-0.26/datatables.js"></script>
<link href="../../site_libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../../site_libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../../site_libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script>
<link href="../../site_libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="../../site_libs/vis-9.1.0/vis-network.min.js"></script>
<script src="../../site_libs/visNetwork-binding-2.1.2/visNetwork.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../research.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISSS608-VAA</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hands-on Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercise">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html">
 <span class="dropdown-text">Hands-on Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html">
 <span class="dropdown-text">Hands-on Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Hands_on_Ex03.html">
 <span class="dropdown-text">Hands-on Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Hands_on_Ex03.2.html">
 <span class="dropdown-text">Hands-on Exercise 3.2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04.html">
 <span class="dropdown-text">Hands-on Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html">
 <span class="dropdown-text">Hands-on Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex06/Hands-on_Ex06.html">
 <span class="dropdown-text">Hands-on Exercise 6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex07/Hands-on_Ex07.html">
 <span class="dropdown-text">Hands-on Exercise 7</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex08/Hands-on_Ex08.html">
 <span class="dropdown-text">Hands-on Exercise 8</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex09/Hands-on_Ex09.html">
 <span class="dropdown-text">Hands-on Exercise 9</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">In-class Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercise">    
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex01/In-class_Ex01.html">
 <span class="dropdown-text">In-class Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex03/In-class_Ex03.html">
 <span class="dropdown-text">In-class Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex04/In-class_Ex04.html">
 <span class="dropdown-text">In-class Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex05/In-class_Ex05.html">
 <span class="dropdown-text">In-class Exercise 5</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Take-home Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercise">    
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex01/Take-home_Ex01/Take-home_Ex01.html">
 <span class="dropdown-text">Take-home Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html">
 <span class="dropdown-text">Take-home Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex03/Take-home_Ex03/Take-home_Ex03.html">
 <span class="dropdown-text">Take-home Exercise 3</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#from-kickstarter" id="toc-from-kickstarter" class="nav-link active" data-scroll-target="#from-kickstarter">From kickstarter</a>
  <ul class="collapse">
  <li><a href="#loading-the-packages" id="toc-loading-the-packages" class="nav-link" data-scroll-target="#loading-the-packages">Loading the packages</a></li>
  <li><a href="#loading-the-files" id="toc-loading-the-files" class="nav-link" data-scroll-target="#loading-the-files">Loading the files</a></li>
  <li><a href="#creating-the-node-dataframe" id="toc-creating-the-node-dataframe" class="nav-link" data-scroll-target="#creating-the-node-dataframe">Creating the node dataframe</a>
  <ul class="collapse">
  <li><a href="#sneak-peak-at-the-dataframe" id="toc-sneak-peak-at-the-dataframe" class="nav-link" data-scroll-target="#sneak-peak-at-the-dataframe">Sneak Peak at the dataframe</a></li>
  </ul></li>
  <li><a href="#checking-and-displaying-duplicate-rolls" id="toc-checking-and-displaying-duplicate-rolls" class="nav-link" data-scroll-target="#checking-and-displaying-duplicate-rolls">Checking and displaying duplicate rolls</a></li>
  <li><a href="#creating-the-edge-data-frame" id="toc-creating-the-edge-data-frame" class="nav-link" data-scroll-target="#creating-the-edge-data-frame">Creating the edge data frame</a>
  <ul class="collapse">
  <li><a href="#sneak-peak-at-the-data-frame" id="toc-sneak-peak-at-the-data-frame" class="nav-link" data-scroll-target="#sneak-peak-at-the-data-frame">Sneak peak at the data frame</a></li>
  </ul></li>
  <li><a href="#checking-and-displaying-duplicates" id="toc-checking-and-displaying-duplicates" class="nav-link" data-scroll-target="#checking-and-displaying-duplicates">Checking and displaying duplicates</a>
  <ul class="collapse">
  <li><a href="#removing-duplicates-from-the-data-frame" id="toc-removing-duplicates-from-the-data-frame" class="nav-link" data-scroll-target="#removing-duplicates-from-the-data-frame">Removing duplicates from the data frame</a></li>
  </ul></li>
  <li><a href="#changing-the-data-type" id="toc-changing-the-data-type" class="nav-link" data-scroll-target="#changing-the-data-type">Changing the data type</a></li>
  <li><a href="#wrangling-attributes" id="toc-wrangling-attributes" class="nav-link" data-scroll-target="#wrangling-attributes">Wrangling attributes</a></li>
  <li><a href="#preparing-nodes-data" id="toc-preparing-nodes-data" class="nav-link" data-scroll-target="#preparing-nodes-data">Preparing nodes data</a></li>
  <li><a href="#using-tbl_graph-to-build-tidygraph-data-model." id="toc-using-tbl_graph-to-build-tidygraph-data-model." class="nav-link" data-scroll-target="#using-tbl_graph-to-build-tidygraph-data-model.">Using tbl_graph() to build tidygraph data model.</a></li>
  <li><a href="#changing-the-active-object" id="toc-changing-the-active-object" class="nav-link" data-scroll-target="#changing-the-active-object">Changing the active object</a></li>
  </ul></li>
  <li><a href="#initial-approach" id="toc-initial-approach" class="nav-link" data-scroll-target="#initial-approach">Initial approach</a>
  <ul class="collapse">
  <li><a href="#exploring-the-distribution-of-weight" id="toc-exploring-the-distribution-of-weight" class="nav-link" data-scroll-target="#exploring-the-distribution-of-weight">Exploring the distribution of weight</a></li>
  <li><a href="#examining-outliers" id="toc-examining-outliers" class="nav-link" data-scroll-target="#examining-outliers">Examining outliers</a></li>
  </ul></li>
  <li><a href="#bundle-manipulation" id="toc-bundle-manipulation" class="nav-link" data-scroll-target="#bundle-manipulation">Bundle manipulation</a>
  <ul class="collapse">
  <li><a href="#creating-a-combined-dataframe-with-distinct-hs-code" id="toc-creating-a-combined-dataframe-with-distinct-hs-code" class="nav-link" data-scroll-target="#creating-a-combined-dataframe-with-distinct-hs-code">Creating a combined dataframe with distinct HS code</a></li>
  <li><a href="#adding-category-column-to-mc2_edges-by-merging-the-two-data-frames" id="toc-adding-category-column-to-mc2_edges-by-merging-the-two-data-frames" class="nav-link" data-scroll-target="#adding-category-column-to-mc2_edges-by-merging-the-two-data-frames">Adding category column to MC2_edges by merging the two data frames</a></li>
  <li><a href="#examining-the-outlier" id="toc-examining-the-outlier" class="nav-link" data-scroll-target="#examining-the-outlier">Examining the outlier</a></li>
  </ul></li>
  <li><a href="#summary-and-conclusion" id="toc-summary-and-conclusion" class="nav-link" data-scroll-target="#summary-and-conclusion">Summary and conclusion</a></li>
  <li><a href="#the-second-approach" id="toc-the-second-approach" class="nav-link" data-scroll-target="#the-second-approach">The second approach</a>
  <ul class="collapse">
  <li><a href="#adding-months-in-mc2_edges-dataframe" id="toc-adding-months-in-mc2_edges-dataframe" class="nav-link" data-scroll-target="#adding-months-in-mc2_edges-dataframe">Adding months in MC2_edges dataframe</a></li>
  <li><a href="#weight-examination-of-mc2_edges" id="toc-weight-examination-of-mc2_edges" class="nav-link" data-scroll-target="#weight-examination-of-mc2_edges">Weight examination of MC2_edges</a></li>
  <li><a href="#count-exmination-of-mc2_edges" id="toc-count-exmination-of-mc2_edges" class="nav-link" data-scroll-target="#count-exmination-of-mc2_edges">Count exmination of MC2_edges</a></li>
  <li><a href="#scrutinizing-the-irregularities" id="toc-scrutinizing-the-irregularities" class="nav-link" data-scroll-target="#scrutinizing-the-irregularities">Scrutinizing the irregularities</a></li>
  <li><a href="#jammu-kashmir-ab-consultants-and-tamil-nadu-coporation-compass-associated-companies" id="toc-jammu-kashmir-ab-consultants-and-tamil-nadu-coporation-compass-associated-companies" class="nav-link" data-scroll-target="#jammu-kashmir-ab-consultants-and-tamil-nadu-coporation-compass-associated-companies">‘Jammu &amp; Kashmir AB consultants’ and ‘Tamil Nadu Coporation Compass’ associated companies</a></li>
  <li><a href="#network-chart-of-the-pair" id="toc-network-chart-of-the-pair" class="nav-link" data-scroll-target="#network-chart-of-the-pair">Network chart of the pair</a>
  <ul class="collapse">
  <li><a href="#common-companies" id="toc-common-companies" class="nav-link" data-scroll-target="#common-companies">Common companies</a></li>
  </ul></li>
  <li><a href="#ego-network---jammu-kashmir-ab-consultants" id="toc-ego-network---jammu-kashmir-ab-consultants" class="nav-link" data-scroll-target="#ego-network---jammu-kashmir-ab-consultants">Ego network - Jammu &amp; Kashmir AB Consultants</a></li>
  <li><a href="#ego-network---tamil-nadu-coporation-compass" id="toc-ego-network---tamil-nadu-coporation-compass" class="nav-link" data-scroll-target="#ego-network---tamil-nadu-coporation-compass">Ego network - Tamil nadu Coporation Compass</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take-home_Ex02</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Wan Xinyu </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="from-kickstarter" class="level1">
<h1>From kickstarter</h1>
<section id="loading-the-packages" class="level2">
<h2 class="anchored" data-anchor-id="loading-the-packages">Loading the packages</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(jsonlite,tidygraph, ggraph,visNetwork,tidyverse,igraph,ggplot2, scales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="loading-the-files" class="level2">
<h2 class="anchored" data-anchor-id="loading-the-files">Loading the files</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>MC2 <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"MC2/data/mc2_challenge_graph.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creating-the-node-dataframe" class="level2">
<h2 class="anchored" data-anchor-id="creating-the-node-dataframe">Creating the node dataframe</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>MC2_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(MC2<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(shpcountry, rcvcountry, id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="sneak-peak-at-the-dataframe" class="level3">
<h3 class="anchored" data-anchor-id="sneak-peak-at-the-dataframe">Sneak Peak at the dataframe</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(MC2_nodes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 34,576
Columns: 3
$ shpcountry &lt;chr&gt; "Polarinda", NA, "Oceanus", NA, "Oceanus", "Kondanovia", NA…
$ rcvcountry &lt;chr&gt; "Oceanus", NA, "Oceanus", NA, "Oceanus", "Utoporiana", NA, …
$ id         &lt;chr&gt; "AquaDelight Inc and Son's", "BaringoAmerica Marine Ges.m.b…</code></pre>
</div>
</div>
</section>
</section>
<section id="checking-and-displaying-duplicate-rolls" class="level2">
<h2 class="anchored" data-anchor-id="checking-and-displaying-duplicate-rolls">Checking and displaying duplicate rolls</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for duplicates</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>duplicate_rows <span class="ot">&lt;-</span> MC2_nodes[<span class="fu">duplicated</span>(MC2_nodes), ]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>duplicate_rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: shpcountry &lt;chr&gt;, rcvcountry &lt;chr&gt;, id &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="creating-the-edge-data-frame" class="level2">
<h2 class="anchored" data-anchor-id="creating-the-edge-data-frame">Creating the edge data frame</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>MC2_edges <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(MC2<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="sneak-peak-at-the-data-frame" class="level3">
<h3 class="anchored" data-anchor-id="sneak-peak-at-the-data-frame">Sneak peak at the data frame</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(MC2_edges)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 5,464,378
Columns: 8
$ arrivaldate      &lt;chr&gt; "2034-02-12", "2034-03-13", "2028-02-07", "2028-02-23…
$ hscode           &lt;chr&gt; "630630", "630630", "470710", "470710", "470710", "47…
$ valueofgoods_omu &lt;dbl&gt; 141015, 141015, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ volumeteu        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ weightkg         &lt;int&gt; 4780, 6125, 10855, 11250, 11165, 11290, 9000, 19490, …
$ source           &lt;chr&gt; "AquaDelight Inc and Son's", "AquaDelight Inc and Son…
$ target           &lt;chr&gt; "BaringoAmerica Marine Ges.m.b.H.", "BaringoAmerica M…
$ valueofgoodsusd  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 87110, 188140, NA, 221110, 58…</code></pre>
</div>
</div>
</section>
</section>
<section id="checking-and-displaying-duplicates" class="level2">
<h2 class="anchored" data-anchor-id="checking-and-displaying-duplicates">Checking and displaying duplicates</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for duplicates</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>duplicate_rows_1 <span class="ot">&lt;-</span> MC2_edges[<span class="fu">duplicated</span>(MC2_edges), ]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>duplicate_rows_1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 155,291 × 8
   arrivaldate hscode valueofgoods_omu volumeteu weightkg source          target
   &lt;chr&gt;       &lt;chr&gt;             &lt;dbl&gt;     &lt;dbl&gt;    &lt;int&gt; &lt;chr&gt;           &lt;chr&gt; 
 1 2028-03-09  851629               NA         0       20 French Crab S.… Mar d…
 2 2028-06-02  851629               NA         0      110 French Crab S.… Mar d…
 3 2028-01-02  852990               NA         0     2830 French Crab S.… -1992 
 4 2028-01-02  852990               NA         0     2830 French Crab S.… -1992 
 5 2028-01-04  852990               NA         0     2805 French Crab S.… -1992 
 6 2028-01-11  852990               NA         0     1895 French Crab S.… -1992 
 7 2028-01-11  852990               NA         0     2790 French Crab S.… -1992 
 8 2028-01-11  852990               NA         0     2790 French Crab S.… -1992 
 9 2028-01-18  852990               NA         0     1895 French Crab S.… -1992 
10 2028-01-18  852990               NA         0     2790 French Crab S.… -1992 
# ℹ 155,281 more rows
# ℹ 1 more variable: valueofgoodsusd &lt;dbl&gt;</code></pre>
</div>
</div>
<section id="removing-duplicates-from-the-data-frame" class="level3">
<h3 class="anchored" data-anchor-id="removing-duplicates-from-the-data-frame">Removing duplicates from the data frame</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove duplicates</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>MC2_edges <span class="ot">&lt;-</span> MC2_edges[<span class="sc">!</span><span class="fu">duplicated</span>(MC2_edges), ]</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View the dataframe without duplicates</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>MC2_edges</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,309,087 × 8
   arrivaldate hscode valueofgoods_omu volumeteu weightkg source          target
   &lt;chr&gt;       &lt;chr&gt;             &lt;dbl&gt;     &lt;dbl&gt;    &lt;int&gt; &lt;chr&gt;           &lt;chr&gt; 
 1 2034-02-12  630630           141015         0     4780 AquaDelight In… Barin…
 2 2034-03-13  630630           141015         0     6125 AquaDelight In… Barin…
 3 2028-02-07  470710               NA         0    10855 AquaDelight In… -15045
 4 2028-02-23  470710               NA         0    11250 AquaDelight In… -15045
 5 2028-09-11  470710               NA         0    11165 AquaDelight In… -15045
 6 2028-10-09  470710               NA         0    11290 AquaDelight In… -15045
 7 2028-04-12  304890               NA         0     9000 AquaDelight In… Océan…
 8 2028-06-04  304890               NA         0    19490 AquaDelight In… Olas …
 9 2028-09-03  303890               NA         0     6865 AquaDelight In… Shou …
10 2028-09-08  306170               NA         0    19065 AquaDelight In… Shou …
# ℹ 5,309,077 more rows
# ℹ 1 more variable: valueofgoodsusd &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="changing-the-data-type" class="level2">
<h2 class="anchored" data-anchor-id="changing-the-data-type">Changing the data type</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>MC2_edges <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span> <span class="fu">ymd</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="wrangling-attributes" class="level2">
<h2 class="anchored" data-anchor-id="wrangling-attributes">Wrangling attributes</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>MC2_edges_aggregated <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source, target) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source<span class="sc">!=</span>target) <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weight <span class="sc">&gt;=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="preparing-nodes-data" class="level2">
<h2 class="anchored" data-anchor-id="preparing-nodes-data">Preparing nodes data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>id1 <span class="ot">&lt;-</span> MC2_edges_aggregated <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> source)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>id2 <span class="ot">&lt;-</span> MC2_edges_aggregated <span class="sc">%&gt;%</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(target) <span class="sc">%&gt;%</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> target)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>MC2_nodes_extracted <span class="ot">&lt;-</span> <span class="fu">rbind</span>(id1, id2) <span class="sc">%&gt;%</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="using-tbl_graph-to-build-tidygraph-data-model." class="level2">
<h2 class="anchored" data-anchor-id="using-tbl_graph-to-build-tidygraph-data-model.">Using tbl_graph() to build tidygraph data model.</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>MC2_graph <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(<span class="at">nodes =</span> MC2_nodes_extracted,</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">edges =</span> MC2_edges_aggregated,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">directed =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="changing-the-active-object" class="level2">
<h2 class="anchored" data-anchor-id="changing-the-active-object">Changing the active object</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>MC2_graph <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(edges)<span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(weight))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tbl_graph: 34576 nodes and 244932 edges
#
# A directed simple graph with 1 component
#
# A tibble: 244,932 × 3
   from    to weight
  &lt;int&gt; &lt;int&gt;  &lt;int&gt;
1  6613  9270  26728
2  3846  9270  26626
3  2442  2286  23734
4  8064  3987  21665
5 11035  9472  20567
6  6546  8172  18017
# ℹ 244,926 more rows
#
# A tibble: 34,576 × 1
  id                                 
  &lt;chr&gt;                              
1 " Direct Herring Company Transit"  
2 " Direct LLC Marine biology"       
3 " Direct Limited Liability Company"
# ℹ 34,573 more rows</code></pre>
</div>
</div>
</section>
</section>
<section id="initial-approach" class="level1">
<h1>Initial approach</h1>
<section id="exploring-the-distribution-of-weight" class="level2">
<h2 class="anchored" data-anchor-id="exploring-the-distribution-of-weight">Exploring the distribution of weight</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the weight column from the edges of the largest connected component</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>weights <span class="ot">&lt;-</span> <span class="fu">E</span>(MC2_graph)<span class="sc">$</span>weight</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame with the weights</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">weight =</span> weights)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> weight)) <span class="sc">+</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Weight"</span>, <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Histogram of Weight with Log Scale"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From the above chart, we see that majority of the count of weights lies below count of 15000 so lets set weight of 15000 as an acceptable range of weight and we will examine those source and nodes which fall beyond the range.</p>
<p>Let’s retrieve the source and target node of these companies.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the edges based on the weight condition</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>filtered_edges <span class="ot">&lt;-</span> <span class="fu">E</span>(MC2_graph)[weight <span class="sc">&gt;</span> <span class="dv">15000</span>]</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve the source and target nodes</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>source_nodes <span class="ot">&lt;-</span> <span class="fu">ends</span>(MC2_graph, filtered_edges)[, <span class="dv">1</span>]</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>target_nodes <span class="ot">&lt;-</span> <span class="fu">ends</span>(MC2_graph, filtered_edges)[, <span class="dv">2</span>]</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the source and target nodes into a data frame</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>outliers <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Source =</span> source_nodes, <span class="at">Target =</span> target_nodes)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the outliers</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>outliers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  Source Target
1   2442   2286
2   3846   9270
3   6546   8172
4   6546   9270
5   6613   9270
6   8064   3987
7  11035   9472</code></pre>
</div>
</div>
<p>Let’s map the results into node names</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve the names of nodes using node IDs</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>source_node_names <span class="ot">&lt;-</span> <span class="fu">V</span>(MC2_graph)<span class="sc">$</span>id[source_nodes]</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>target_node_names <span class="ot">&lt;-</span> <span class="fu">V</span>(MC2_graph)<span class="sc">$</span>id[target_nodes]</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the node names into a data frame</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>outliers <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Source =</span> source_node_names, <span class="at">Target =</span> target_node_names)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a new column for weight</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>outliers<span class="sc">$</span>Weight <span class="ot">&lt;-</span> filtered_edges<span class="sc">$</span>weight</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Rank the results based on the weight column</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>outliers <span class="ot">&lt;-</span> outliers[<span class="fu">order</span>(outliers<span class="sc">$</span>Weight, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), ]</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the ranked outliers</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>outliers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                         Source                           Target Weight
5   Marine Masterminds Dry dock  Saltwater Supreme ОАО Forwading  26728
2  French Crab S.p.A. Worldwide  Saltwater Supreme ОАО Forwading  26626
1 Coastal Cruisers Pic Shipping        Caracola del Sol Services  23734
6              Olas del Sur Sea               Greek Sea Bass LLC  21665
7          Uttar Pradesh s CJSC  Sea Breezes GmbH &amp; Co. KG Shark  20567
3               Mar y Luna Sagl Panope Limited Liability Company  18017
4               Mar y Luna Sagl  Saltwater Supreme ОАО Forwading  16522</code></pre>
</div>
</div>
<p>Hence we will examine these source and node pairs with these extremely large weights in details</p>
</section>
<section id="examining-outliers" class="level2">
<h2 class="anchored" data-anchor-id="examining-outliers">Examining outliers</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>outlier1_edges_aggregated <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">"Marine Masterminds Dry dock"</span> <span class="sc">&amp;</span> target <span class="sc">==</span> <span class="st">"Saltwater Supreme ОАО Forwading"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(arrivaldate,hscode, valueofgoods_omu, </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>         volumeteu, weightkg, valueofgoodsusd) <span class="sc">%&gt;%</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s see how many distinct product were shipped</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the month from the 'arrivaldate'</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>outlier1_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">format</span>(outlier1_edges_aggregated<span class="sc">$</span>arrivaldate, <span class="st">"%b"</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the 'month' column to an ordered factor</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>outlier1_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">factor</span>(outlier1_edges_aggregated<span class="sc">$</span>month, <span class="at">levels =</span> month.abb)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the chart with facet wrap</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(outlier1_edges_aggregated, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> weightkg, <span class="at">fill =</span> hscode)) <span class="sc">+</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Weight (kg)"</span>, <span class="at">fill =</span> <span class="st">"HS Code"</span>) <span class="sc">+</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Weight by Month and HS Code"</span>) <span class="sc">+</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="fu">year</span>(arrivaldate)) <span class="sc">+</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="1440"></p>
</div>
</div>
<p>The above graph is not much of use other than informing that DEC 2033 and Aug 2034 have some extremely large values as they are categorized by hscodes. We need to use the bundle data set to group the hscode together and visualize this again.</p>
</section>
</section>
<section id="bundle-manipulation" class="level1">
<h1>Bundle manipulation</h1>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">carp</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Catfish</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Chub_mackerel</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Cods2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false">Herring</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-6" role="tab" aria-controls="tabset-1-6" aria-selected="false">Lichen</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-7" role="tab" aria-controls="tabset-1-7" aria-selected="false">Mackerel</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-8-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-8" role="tab" aria-controls="tabset-1-8" aria-selected="false">Pollock</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-9-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-9" role="tab" aria-controls="tabset-1-9" aria-selected="false">Salmon</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-10-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-10" role="tab" aria-controls="tabset-1-10" aria-selected="false">Salmon_wgl</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-11-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-11" role="tab" aria-controls="tabset-1-11" aria-selected="false">Tuna</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>carp <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"MC2/data/bundles/carp.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>carp_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(carp<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(shpcountry, rcvcountry, id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_carp_node <span class="ot">&lt;-</span> carp_nodes[<span class="fu">duplicated</span>(carp_nodes), ]</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_carp_node</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: shpcountry &lt;chr&gt;, rcvcountry &lt;chr&gt;, id &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>carp_edges <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(carp<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_carp_edges <span class="ot">&lt;-</span> carp_edges[<span class="fu">duplicated</span>(carp_edges), ]</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_carp_edges</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 8
# ℹ 8 variables: arrivaldate &lt;chr&gt;, hscode &lt;int&gt;, valueofgoods_omu &lt;dbl&gt;,
#   volumeteu &lt;dbl&gt;, weightkg &lt;int&gt;, generated_by &lt;chr&gt;, source &lt;chr&gt;,
#   target &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(carp_edges)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 165
Columns: 8
$ arrivaldate      &lt;chr&gt; "2034-03-20", "2034-08-01", "2034-11-27", "2034-10-10…
$ hscode           &lt;int&gt; 80440, 940179, 940161, 940161, 40729, 700711, 701090,…
$ valueofgoods_omu &lt;dbl&gt; 15915, NA, NA, NA, NA, NA, NA, 63125, NA, 57020, NA, …
$ volumeteu        &lt;dbl&gt; 0, 0, 0, 0, 15, 0, 5, 0, 0, 0, NA, 5, 5, NA, 0, NA, N…
$ weightkg         &lt;int&gt; 15720, 10795, 6555, 6675, 54775, 22430, 32890, 20775,…
$ generated_by     &lt;chr&gt; "carp", "carp", "carp", "carp", "carp", "carp", "carp…
$ source           &lt;chr&gt; "Tshimbua GmbH &amp; Co. KG", "Marine Masterminds Dry doc…
$ target           &lt;chr&gt; "Caracola del Sol Services", "Playa de la Luna Incorp…</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>carp_edges <span class="ot">&lt;-</span> carp_edges <span class="sc">%&gt;%</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span> <span class="fu">ymd</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>distinct_hscode_carp <span class="ot">&lt;-</span> <span class="fu">distinct</span>(carp_edges, hscode)<span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"carp"</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>distinct_hscode_carp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 125 × 2
   hscode category
    &lt;int&gt; &lt;chr&gt;   
 1  80440 carp    
 2 940179 carp    
 3 940161 carp    
 4  40729 carp    
 5 700711 carp    
 6 701090 carp    
 7 160419 carp    
 8 841950 carp    
 9 200600 carp    
10 870323 carp    
# ℹ 115 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>catfish <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"MC2/data/bundles/catfish.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>catfish_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(catfish<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(shpcountry, rcvcountry, id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_catfish_node <span class="ot">&lt;-</span> catfish_nodes[<span class="fu">duplicated</span>(catfish_nodes), ]</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_catfish_node</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: shpcountry &lt;chr&gt;, rcvcountry &lt;chr&gt;, id &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>catfish_edges <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(catfish<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_catfish_edges <span class="ot">&lt;-</span> catfish_edges[<span class="fu">duplicated</span>(catfish_edges), ]</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_catfish_edges</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 6
# ℹ 6 variables: arrivaldate &lt;chr&gt;, hscode &lt;int&gt;, valueofgoods_omu &lt;dbl&gt;,
#   generated_by &lt;chr&gt;, source &lt;chr&gt;, target &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>catfish_edges <span class="ot">&lt;-</span> catfish_edges <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span> <span class="fu">ymd</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>distinct_hscode_catfish <span class="ot">&lt;-</span> <span class="fu">distinct</span>(catfish_edges, hscode)<span class="sc">%&gt;%</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"catfish"</span>)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>distinct_hscode_catfish</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 188 × 2
   hscode category
    &lt;int&gt; &lt;chr&gt;   
 1 300590 catfish 
 2 961900 catfish 
 3 848180 catfish 
 4 250510 catfish 
 5 640419 catfish 
 6 340600 catfish 
 7 220840 catfish 
 8 761699 catfish 
 9 391732 catfish 
10 650500 catfish 
# ℹ 178 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>chub_mackerel <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"MC2/data/bundles/chub_mackerel.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>chub_mackerel_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(chub_mackerel<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(shpcountry, rcvcountry, id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_chub_mackerel_node <span class="ot">&lt;-</span> chub_mackerel_nodes[<span class="fu">duplicated</span>(chub_mackerel_nodes), ]</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_chub_mackerel_node</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: shpcountry &lt;chr&gt;, rcvcountry &lt;chr&gt;, id &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>chub_mackerel_edges <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(chub_mackerel<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_chub_mackerel_edges <span class="ot">&lt;-</span> chub_mackerel_edges[<span class="fu">duplicated</span>(chub_mackerel_edges), ]</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_chub_mackerel_edges</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 165 × 8
   arrivaldate hscode valueofgoods_omu volumeteu weightkg generated_by  source  
   &lt;chr&gt;        &lt;int&gt;            &lt;dbl&gt;     &lt;dbl&gt;    &lt;int&gt; &lt;chr&gt;         &lt;chr&gt;   
 1 2034-06-06  160414           119085         0    24030 chub_mackerel Ocean Q…
 2 2034-06-06  160414           119085         0    24030 chub_mackerel Ocean Q…
 3 2034-06-06  160414           119110         0    24020 chub_mackerel Ocean Q…
 4 2034-06-06  160414           119085         0    24030 chub_mackerel Ocean Q…
 5 2034-06-06  160414           119085         0    24030 chub_mackerel Ocean Q…
 6 2034-06-06  160414           119110         0    24035 chub_mackerel Ocean Q…
 7 2034-06-06  160414           119020         0    24025 chub_mackerel Ocean Q…
 8 2034-06-06  160414           119110         0    24020 chub_mackerel Ocean Q…
 9 2034-06-06  160414           119085         0    24030 chub_mackerel Ocean Q…
10 2034-08-14  160414            12210         0     2435 chub_mackerel Ocean Q…
# ℹ 155 more rows
# ℹ 1 more variable: target &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>chub_mackerel_edges <span class="ot">&lt;-</span> chub_mackerel_edges[<span class="sc">!</span><span class="fu">duplicated</span>(chub_mackerel_edges), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>chub_mackerel_edges <span class="ot">&lt;-</span> chub_mackerel_edges <span class="sc">%&gt;%</span> </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span> <span class="fu">ymd</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>distinct_hscode_chub_mackerel <span class="ot">&lt;-</span> <span class="fu">distinct</span>(chub_mackerel_edges, hscode)<span class="sc">%&gt;%</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"chub_mackerel"</span>)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>distinct_hscode_chub_mackerel</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 92 × 2
   hscode category     
    &lt;int&gt; &lt;chr&gt;        
 1 160414 chub_mackerel
 2 190490 chub_mackerel
 3 230910 chub_mackerel
 4 160411 chub_mackerel
 5  30749 chub_mackerel
 6 220830 chub_mackerel
 7 721934 chub_mackerel
 8 854442 chub_mackerel
 9 848190 chub_mackerel
10 220421 chub_mackerel
# ℹ 82 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>cod2 <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"MC2/data/bundles/cod2.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>cod2_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(cod2<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(shpcountry, rcvcountry, id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_cod2_node <span class="ot">&lt;-</span> cod2_nodes[<span class="fu">duplicated</span>(cod2_nodes), ]</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_cod2_node</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: shpcountry &lt;chr&gt;, rcvcountry &lt;chr&gt;, id &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>cod2_edges <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(cod2<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_cod2_edges <span class="ot">&lt;-</span> cod2_edges[<span class="fu">duplicated</span>(cod2_edges), ]</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_cod2_edges</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 189 × 8
   arrivaldate hscode valueofgoods_omu volumeteu weightkg generated_by source   
   &lt;chr&gt;        &lt;int&gt;            &lt;dbl&gt;     &lt;dbl&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;    
 1 2034-01-27   30729           148085         0    13175 cod2         Kariba D…
 2 2034-01-27   30729           148085         0    13175 cod2         Kariba D…
 3 2034-01-27   30729           148085         0    13175 cod2         Kariba D…
 4 2034-01-27   30729           148085         0    13175 cod2         Kariba D…
 5 2034-01-27   30729           148085         0    13175 cod2         Kariba D…
 6 2034-01-27   30729           148085         0    13175 cod2         Kariba D…
 7 2034-01-27   30729           148085         0    13175 cod2         Kariba D…
 8 2034-01-27   30729           148085         0    13175 cod2         Kariba D…
 9 2034-01-27   30729           148085         0    13175 cod2         Kariba D…
10 2034-01-27   30729           148085         0    13175 cod2         Kariba D…
# ℹ 179 more rows
# ℹ 1 more variable: target &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>cod2_edges <span class="ot">&lt;-</span> cod2_edges[<span class="sc">!</span><span class="fu">duplicated</span>(cod2_edges), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>cod2_edges <span class="ot">&lt;-</span> cod2_edges <span class="sc">%&gt;%</span> </span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span> <span class="fu">ymd</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>distinct_hscode_cod2 <span class="ot">&lt;-</span> <span class="fu">distinct</span>(cod2_edges, hscode)<span class="sc">%&gt;%</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"cod2"</span>)</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>distinct_hscode_cod2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  hscode category
   &lt;int&gt; &lt;chr&gt;   
1  30729 cod2    
2  30363 cod2    
3  30461 cod2    </code></pre>
</div>
</div>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>herring <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"MC2/data/bundles/herring.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>herring_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(herring<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(shpcountry, rcvcountry, id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_herring_node <span class="ot">&lt;-</span> herring_nodes[<span class="fu">duplicated</span>(herring_nodes), ]</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_herring_node</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: shpcountry &lt;chr&gt;, rcvcountry &lt;chr&gt;, id &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>herring_edges <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(herring<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_herring_edges <span class="ot">&lt;-</span> herring_edges[<span class="fu">duplicated</span>(herring_edges), ]</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_herring_edges</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 8
# ℹ 8 variables: arrivaldate &lt;chr&gt;, hscode &lt;int&gt;, volumeteu &lt;dbl&gt;,
#   weightkg &lt;int&gt;, generated_by &lt;chr&gt;, source &lt;chr&gt;, target &lt;chr&gt;,
#   valueofgoods_omu &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>herring_edges <span class="ot">&lt;-</span> herring_edges[<span class="sc">!</span><span class="fu">duplicated</span>(herring_edges), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>herring_edges <span class="ot">&lt;-</span> herring_edges <span class="sc">%&gt;%</span> </span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span> <span class="fu">ymd</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>distinct_hscode_herring <span class="ot">&lt;-</span> <span class="fu">distinct</span>(herring_edges, hscode)<span class="sc">%&gt;%</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"herring"</span>)</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>distinct_hscode_herring</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 111 × 2
   hscode category
    &lt;int&gt; &lt;chr&gt;   
 1 841869 herring 
 2 320990 herring 
 3 392690 herring 
 4 701090 herring 
 5 870829 herring 
 6 210390 herring 
 7 950510 herring 
 8 640419 herring 
 9 611020 herring 
10 570390 herring 
# ℹ 101 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-1-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-6-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>lichen <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"MC2/data/bundles/lichen.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>lichen_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(lichen<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(shpcountry, rcvcountry, id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_lichen_node <span class="ot">&lt;-</span> lichen_nodes[<span class="fu">duplicated</span>(lichen_nodes), ]</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_lichen_node</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: shpcountry &lt;chr&gt;, rcvcountry &lt;chr&gt;, id &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>lichen_edges <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(lichen<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_lichen_edges <span class="ot">&lt;-</span> lichen_edges[<span class="fu">duplicated</span>(lichen_edges), ]</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_lichen_edges</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 161 × 8
   arrivaldate hscode volumeteu weightkg generated_by source              target
   &lt;chr&gt;        &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;               &lt;chr&gt; 
 1 2034-05-19  920590         0     2710 lichen       Jammu Limited Liab… Coral…
 2 2034-05-19  920590         0     2710 lichen       Jammu Limited Liab… Coral…
 3 2034-04-16  920590         0     2675 lichen       Jammu Limited Liab… Coral…
 4 2034-05-19  920590         0     2710 lichen       Jammu Limited Liab… Coral…
 5 2034-11-04  920590         0     1560 lichen       Jammu Limited Liab… Coral…
 6 2034-09-23  920590         0     3995 lichen       Jammu Limited Liab… Coral…
 7 2034-09-23  920590         0     3995 lichen       Jammu Limited Liab… Coral…
 8 2034-07-15  920710         0     2435 lichen       Jammu Limited Liab… Coral…
 9 2034-05-19  920590         0     2710 lichen       Jammu Limited Liab… Coral…
10 2034-07-15  920710         0     2435 lichen       Jammu Limited Liab… Coral…
# ℹ 151 more rows
# ℹ 1 more variable: valueofgoods_omu &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>lichen_edges <span class="ot">&lt;-</span> lichen_edges[<span class="sc">!</span><span class="fu">duplicated</span>(lichen_edges), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>lichen_edges <span class="ot">&lt;-</span> lichen_edges <span class="sc">%&gt;%</span> </span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span> <span class="fu">ymd</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>distinct_hscode_lichen <span class="ot">&lt;-</span> <span class="fu">distinct</span>(lichen_edges, hscode)<span class="sc">%&gt;%</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"lichen"</span>)</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>distinct_hscode_lichen</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18 × 2
   hscode category
    &lt;int&gt; &lt;chr&gt;   
 1 920590 lichen  
 2 920710 lichen  
 3 920790 lichen  
 4 851769 lichen  
 5 950300 lichen  
 6 854442 lichen  
 7 850690 lichen  
 8 846694 lichen  
 9 720449 lichen  
10 845490 lichen  
11 847720 lichen  
12 610910 lichen  
13 620630 lichen  
14 611020 lichen  
15 850790 lichen  
16 841290 lichen  
17 848180 lichen  
18 300510 lichen  </code></pre>
</div>
</div>
</div>
<div id="tabset-1-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-7-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>mackerel <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"MC2/data/bundles/mackerel.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>mackerel_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(mackerel<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(shpcountry, rcvcountry, id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_mackerel_node <span class="ot">&lt;-</span> mackerel_nodes[<span class="fu">duplicated</span>(mackerel_nodes), ]</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_mackerel_node</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: shpcountry &lt;chr&gt;, rcvcountry &lt;chr&gt;, id &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>mackerel_edges <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(mackerel<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_mackerel_edges <span class="ot">&lt;-</span> mackerel_edges[<span class="fu">duplicated</span>(mackerel_edges), ]</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_mackerel_edges</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 6
# ℹ 6 variables: arrivaldate &lt;chr&gt;, hscode &lt;int&gt;, valueofgoods_omu &lt;dbl&gt;,
#   generated_by &lt;chr&gt;, source &lt;chr&gt;, target &lt;chr&gt;</code></pre>
</div>
</div>
<p>No duplicates</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>mackerel_edges <span class="ot">&lt;-</span> mackerel_edges[<span class="sc">!</span><span class="fu">duplicated</span>(mackerel_edges), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>mackerel_edges <span class="ot">&lt;-</span> mackerel_edges <span class="sc">%&gt;%</span> </span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span> <span class="fu">ymd</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>distinct_hscode_mackerel <span class="ot">&lt;-</span> <span class="fu">distinct</span>(mackerel_edges, hscode)<span class="sc">%&gt;%</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"mackerel"</span>)</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>distinct_hscode_mackerel</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 145 × 2
   hscode category
    &lt;int&gt; &lt;chr&gt;   
 1 381190 mackerel
 2 320417 mackerel
 3 860900 mackerel
 4 848180 mackerel
 5 870899 mackerel
 6 851629 mackerel
 7 841490 mackerel
 8 200989 mackerel
 9 210690 mackerel
10 340213 mackerel
# ℹ 135 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-1-8" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-8-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>pollock <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"MC2/data/bundles/pollock.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>pollock_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(pollock<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(shpcountry, rcvcountry, id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_pollock_node <span class="ot">&lt;-</span> pollock_nodes[<span class="fu">duplicated</span>(pollock_nodes), ]</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_pollock_node</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: shpcountry &lt;chr&gt;, rcvcountry &lt;chr&gt;, id &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>pollock_edges <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(pollock<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_pollock_edges <span class="ot">&lt;-</span> pollock_edges[<span class="fu">duplicated</span>(pollock_edges), ]</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_pollock_edges</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 55 × 8
   arrivaldate hscode valueofgoods_omu volumeteu weightkg generated_by source   
   &lt;chr&gt;        &lt;int&gt;            &lt;dbl&gt;     &lt;dbl&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;    
 1 2034-09-19  160414           132055         0    34675 pollock      Ocean Qu…
 2 2034-08-14  160414           354030         5    77035 pollock      Ocean Qu…
 3 2034-08-14  160414           354030         5    77035 pollock      Ocean Qu…
 4 2034-08-22  160414            84355         0    18385 pollock      Ocean Qu…
 5 2034-08-22  160414            84355         0    18385 pollock      Ocean Qu…
 6 2034-09-26  160411            32800         0     6315 pollock      Ocean Qu…
 7 2034-08-14  160414           354030         5    77035 pollock      Ocean Qu…
 8 2034-08-22  160414            84355         0    18385 pollock      Ocean Qu…
 9 2034-12-12  160414            64435         0    16595 pollock      Ocean Qu…
10 2034-09-25  160414           230160         5    41840 pollock      Ocean Qu…
# ℹ 45 more rows
# ℹ 1 more variable: target &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>pollock_edges <span class="ot">&lt;-</span> pollock_edges[<span class="sc">!</span><span class="fu">duplicated</span>(pollock_edges), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>pollock_edges <span class="ot">&lt;-</span> pollock_edges <span class="sc">%&gt;%</span> </span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span> <span class="fu">ymd</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>distinct_hscode_pollock <span class="ot">&lt;-</span> <span class="fu">distinct</span>(pollock_edges, hscode)<span class="sc">%&gt;%</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"pollock"</span>)</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a>distinct_hscode_pollock</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 61 × 2
   hscode category
    &lt;int&gt; &lt;chr&gt;   
 1 160414 pollock 
 2 160411 pollock 
 3 481920 pollock 
 4 190490 pollock 
 5 230910 pollock 
 6 190590 pollock 
 7 420212 pollock 
 8  30475 pollock 
 9  30323 pollock 
10 262190 pollock 
# ℹ 51 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-1-9" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-9-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>salmon <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"MC2/data/bundles/salmon.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>salmon_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(salmon<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(shpcountry, rcvcountry, id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_salmon_node <span class="ot">&lt;-</span> salmon_nodes[<span class="fu">duplicated</span>(salmon_nodes), ]</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_salmon_node</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: shpcountry &lt;chr&gt;, rcvcountry &lt;chr&gt;, id &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>salmon_edges <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(salmon<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_salmon_edges <span class="ot">&lt;-</span> salmon_edges[<span class="fu">duplicated</span>(salmon_edges), ]</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_salmon_edges</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 119 × 8
   arrivaldate hscode valueofgoods_omu volumeteu weightkg generated_by source   
   &lt;chr&gt;        &lt;int&gt;            &lt;dbl&gt;     &lt;dbl&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;    
 1 2034-10-23   30619            94150         0    20980 salmon       Samaka C…
 2 2034-10-14   30619            94170         0    20980 salmon       Samaka C…
 3 2034-10-14   30619            94170         0    20980 salmon       Samaka C…
 4 2034-10-14   30619            94170         0    20980 salmon       Samaka C…
 5 2034-10-23   30619            94150         0    20980 salmon       Samaka C…
 6 2034-10-23   30619            94150         0    20980 salmon       Samaka C…
 7 2034-10-23   30619            94150         0    20980 salmon       Samaka C…
 8 2034-10-23   30619            94150         0    20980 salmon       Samaka C…
 9 2034-10-14   30619            94170         0    20980 salmon       Samaka C…
10 2034-10-14   30619            94170         0    20980 salmon       Samaka C…
# ℹ 109 more rows
# ℹ 1 more variable: target &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>salmon_edges <span class="ot">&lt;-</span> salmon_edges[<span class="sc">!</span><span class="fu">duplicated</span>(salmon_edges), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>salmon_edges <span class="ot">&lt;-</span> salmon_edges <span class="sc">%&gt;%</span> </span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span> <span class="fu">ymd</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>distinct_hscode_salmon <span class="ot">&lt;-</span> <span class="fu">distinct</span>(salmon_edges, hscode)<span class="sc">%&gt;%</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"salmon"</span>)</span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>distinct_hscode_salmon</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 2
  hscode category
   &lt;int&gt; &lt;chr&gt;   
1  30619 salmon  
2  30614 salmon  
3 820559 salmon  
4 392113 salmon  
5 401699 salmon  
6 400821 salmon  
7 392690 salmon  </code></pre>
</div>
</div>
</div>
<div id="tabset-1-10" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-10-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>salmon_wgl <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"MC2/data/bundles/salmon_wgl.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>salmon_wgl_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(salmon_wgl<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(shpcountry, rcvcountry, id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_salmon_wgl_node <span class="ot">&lt;-</span> salmon_wgl_nodes[<span class="fu">duplicated</span>(salmon_wgl_nodes), ]</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_salmon_wgl_node</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: shpcountry &lt;chr&gt;, rcvcountry &lt;chr&gt;, id &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>salmon_wgl_edges <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(salmon_wgl<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_salmon_wgl_edges <span class="ot">&lt;-</span> salmon_wgl_edges[<span class="fu">duplicated</span>(salmon_wgl_edges), ]</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_salmon_wgl_edges</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 124 × 8
   arrivaldate hscode volumeteu weightkg generated_by source              target
   &lt;chr&gt;        &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;               &lt;chr&gt; 
 1 2034-08-13  845490         0     6805 salmon_wgl   Harbah Motorboat A… Playa…
 2 2034-08-13  845490         0     6805 salmon_wgl   Harbah Motorboat A… Playa…
 3 2034-08-13  845490         0     6805 salmon_wgl   Harbah Motorboat A… Playa…
 4 2034-08-13  845490         0     6805 salmon_wgl   Harbah Motorboat A… Playa…
 5 2034-08-13  845490         0     6805 salmon_wgl   Harbah Motorboat A… Playa…
 6 2034-08-13  845490         0     6805 salmon_wgl   Harbah Motorboat A… Playa…
 7 2034-08-13  845490         0     6805 salmon_wgl   Harbah Motorboat A… Playa…
 8 2034-08-13  845490         0     6805 salmon_wgl   Harbah Motorboat A… Playa…
 9 2034-08-13  845490         0     6805 salmon_wgl   Harbah Motorboat A… Playa…
10 2034-08-13  845490         0     6805 salmon_wgl   Harbah Motorboat A… Playa…
# ℹ 114 more rows
# ℹ 1 more variable: valueofgoods_omu &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>salmon_wgl_edges <span class="ot">&lt;-</span> salmon_wgl_edges[<span class="sc">!</span><span class="fu">duplicated</span>(salmon_wgl_edges), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>salmon_wgl_edges <span class="ot">&lt;-</span> salmon_wgl_edges <span class="sc">%&gt;%</span> </span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span> <span class="fu">ymd</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>distinct_hscode_salmon_wgl <span class="ot">&lt;-</span> <span class="fu">distinct</span>(salmon_wgl_edges, hscode)<span class="sc">%&gt;%</span></span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"salmon_wgl"</span>)</span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a>distinct_hscode_salmon_wgl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 74 × 2
   hscode category  
    &lt;int&gt; &lt;chr&gt;     
 1 845490 salmon_wgl
 2 300510 salmon_wgl
 3 841290 salmon_wgl
 4 850790 salmon_wgl
 5 848180 salmon_wgl
 6  71080 salmon_wgl
 7 820559 salmon_wgl
 8  20319 salmon_wgl
 9 410631 salmon_wgl
10 732690 salmon_wgl
# ℹ 64 more rows</code></pre>
</div>
</div>
<p>##Shark</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>shark <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"MC2/data/bundles/shark.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>shark_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(shark<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(shpcountry, rcvcountry, id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_shark_node <span class="ot">&lt;-</span> shark_nodes[<span class="fu">duplicated</span>(shark_nodes), ]</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_shark_node</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: shpcountry &lt;chr&gt;, rcvcountry &lt;chr&gt;, id &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>shark_edges <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(shark<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_shark_edges <span class="ot">&lt;-</span> shark_edges[<span class="fu">duplicated</span>(shark_edges), ]</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_shark_edges</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 237 × 8
   arrivaldate hscode volumeteu weightkg generated_by source              target
   &lt;chr&gt;        &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;               &lt;chr&gt; 
 1 2034-09-23  920590         0     3995 shark        Jammu Limited Liab… Coral…
 2 2034-07-15  920710         0     2435 shark        Jammu Limited Liab… Coral…
 3 2034-05-19  920590         0     2710 shark        Jammu Limited Liab… Coral…
 4 2034-11-04  920590         0     1560 shark        Jammu Limited Liab… Coral…
 5 2034-04-16  920590         0     2675 shark        Jammu Limited Liab… Coral…
 6 2034-07-15  920710         0     2435 shark        Jammu Limited Liab… Coral…
 7 2034-09-23  920590         0     3995 shark        Jammu Limited Liab… Coral…
 8 2034-07-15  920710         0     2435 shark        Jammu Limited Liab… Coral…
 9 2034-07-15  920710         0     2435 shark        Jammu Limited Liab… Coral…
10 2034-11-04  920590         0     1560 shark        Jammu Limited Liab… Coral…
# ℹ 227 more rows
# ℹ 1 more variable: valueofgoods_omu &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>shark_edges <span class="ot">&lt;-</span> shark_edges[<span class="sc">!</span><span class="fu">duplicated</span>(shark_edges), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>shark_edges <span class="ot">&lt;-</span> shark_edges <span class="sc">%&gt;%</span> </span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span> <span class="fu">ymd</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>distinct_hscode_shark <span class="ot">&lt;-</span> <span class="fu">distinct</span>(shark_edges, hscode)<span class="sc">%&gt;%</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"shark"</span>)</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>distinct_hscode_shark</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 2
   hscode category
    &lt;int&gt; &lt;chr&gt;   
 1 920710 shark   
 2 920590 shark   
 3 920790 shark   
 4 845490 shark   
 5 847720 shark   
 6 846694 shark   
 7 720449 shark   
 8 620630 shark   
 9 610910 shark   
10 611020 shark   
11 950300 shark   
12 854442 shark   
13 850690 shark   
14 851769 shark   
15 840991 shark   </code></pre>
</div>
</div>
</div>
<div id="tabset-1-11" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-11-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>tuna <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"MC2/data/bundles/tuna.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>tuna_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(tuna<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(shpcountry, rcvcountry, id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_tuna_node <span class="ot">&lt;-</span> tuna_nodes[<span class="fu">duplicated</span>(tuna_nodes), ]</span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb151-4"><a href="#cb151-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_tuna_node</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: shpcountry &lt;chr&gt;, rcvcountry &lt;chr&gt;, id &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>tuna_edges <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(tuna<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>duplicate_rows_tuna_edges <span class="ot">&lt;-</span> tuna_edges[<span class="fu">duplicated</span>(tuna_edges), ]</span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the duplicate rows</span></span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a>duplicate_rows_tuna_edges</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 257 × 6
   arrivaldate hscode generated_by source                target valueofgoods_omu
   &lt;chr&gt;        &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;                 &lt;chr&gt;             &lt;dbl&gt;
 1 2034-08-05  441600 tuna         Andhra Pradesh  Sp W… Jhark…               NA
 2 2034-09-21  840999 tuna         Andhra Pradesh  Sp W… Jhark…               NA
 3 2034-09-21  220300 tuna         Andhra Pradesh  Sp W… Jhark…               NA
 4 2034-08-19  847989 tuna         Andhra Pradesh  Sp W… Jhark…               NA
 5 2034-08-05  441600 tuna         Andhra Pradesh  Sp W… Jhark…               NA
 6 2034-08-05  441600 tuna         Andhra Pradesh  Sp W… Jhark…               NA
 7 2034-08-05  441600 tuna         Andhra Pradesh  Sp W… Jhark…               NA
 8 2034-08-19  847989 tuna         Andhra Pradesh  Sp W… Jhark…               NA
 9 2034-08-05  441600 tuna         Andhra Pradesh  Sp W… Jhark…               NA
10 2034-08-05  441600 tuna         Andhra Pradesh  Sp W… Jhark…               NA
# ℹ 247 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>tuna_edges <span class="ot">&lt;-</span> tuna_edges[<span class="sc">!</span><span class="fu">duplicated</span>(tuna_edges), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>tuna_edges <span class="ot">&lt;-</span> tuna_edges <span class="sc">%&gt;%</span> </span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span> <span class="fu">ymd</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>distinct_hscode_tuna <span class="ot">&lt;-</span> <span class="fu">distinct</span>(tuna_edges, hscode)<span class="sc">%&gt;%</span></span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"tuna"</span>)</span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a>distinct_hscode_tuna</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 33 × 2
   hscode category
    &lt;int&gt; &lt;chr&gt;   
 1 840999 tuna    
 2 846820 tuna    
 3 220300 tuna    
 4 847989 tuna    
 5 441600 tuna    
 6 850440 tuna    
 7 853990 tuna    
 8 890710 tuna    
 9 440791 tuna    
10 200911 tuna    
# ℹ 23 more rows</code></pre>
</div>
</div>
</div>
</div>
</div>
<section id="creating-a-combined-dataframe-with-distinct-hs-code" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-combined-dataframe-with-distinct-hs-code">Creating a combined dataframe with distinct HS code</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>combined_df <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(distinct_hscode_tuna <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"carp"</span>),</span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>                         distinct_hscode_carp <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"catfish"</span>),</span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>                         distinct_hscode_carp <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"chub_mackerel"</span>),</span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a>                         distinct_hscode_carp <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"cod2"</span>),</span>
<span id="cb160-5"><a href="#cb160-5" aria-hidden="true" tabindex="-1"></a>                         distinct_hscode_carp <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"herring"</span>),</span>
<span id="cb160-6"><a href="#cb160-6" aria-hidden="true" tabindex="-1"></a>                         distinct_hscode_carp <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"lichen"</span>),</span>
<span id="cb160-7"><a href="#cb160-7" aria-hidden="true" tabindex="-1"></a>                         distinct_hscode_carp <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"mackerel"</span>),</span>
<span id="cb160-8"><a href="#cb160-8" aria-hidden="true" tabindex="-1"></a>                         distinct_hscode_carp <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"pollock"</span>),</span>
<span id="cb160-9"><a href="#cb160-9" aria-hidden="true" tabindex="-1"></a>                         distinct_hscode_carp <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"salmon"</span>),</span>
<span id="cb160-10"><a href="#cb160-10" aria-hidden="true" tabindex="-1"></a>                         distinct_hscode_carp <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"salmon_wgl"</span>),</span>
<span id="cb160-11"><a href="#cb160-11" aria-hidden="true" tabindex="-1"></a>                         distinct_hscode_carp <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"shark"</span>),</span>
<span id="cb160-12"><a href="#cb160-12" aria-hidden="true" tabindex="-1"></a>                         distinct_hscode_carp <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">category =</span> <span class="st">"tuna"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="adding-category-column-to-mc2_edges-by-merging-the-two-data-frames" class="level2">
<h2 class="anchored" data-anchor-id="adding-category-column-to-mc2_edges-by-merging-the-two-data-frames">Adding category column to MC2_edges by merging the two data frames</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>combined_df <span class="ot">&lt;-</span> combined_df <span class="sc">%&gt;%</span></span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a>MC2_edges <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(combined_df, <span class="at">by =</span> <span class="st">"hscode"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">category =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(category), <span class="st">"no_category"</span>, category))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="examining-the-outlier" class="level2">
<h2 class="anchored" data-anchor-id="examining-the-outlier">Examining the outlier</h2>
<p>Let’s perform the graph for our anomalies source and nodes again</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Outlier 1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Outlier 2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Outlier 3</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Outlier 4</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-5" role="tab" aria-controls="tabset-2-5" aria-selected="false">Outlier 5</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-6" role="tab" aria-controls="tabset-2-6" aria-selected="false">Outlier 6</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-7" role="tab" aria-controls="tabset-2-7" aria-selected="false">Outlier 7</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>outlier1_edges_aggregated <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">"French Crab S.p.A. Worldwide"</span> <span class="sc">&amp;</span> target <span class="sc">==</span> <span class="st">"Saltwater Supreme ОАО Forwading"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(arrivaldate,hscode, valueofgoods_omu, </span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a>         volumeteu, weightkg, valueofgoodsusd) <span class="sc">%&gt;%</span></span>
<span id="cb162-5"><a href="#cb162-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the month from the 'arrivaldate'</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>outlier1_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">format</span>(outlier1_edges_aggregated<span class="sc">$</span>arrivaldate, <span class="st">"%b"</span>)</span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the 'month' column to an ordered factor</span></span>
<span id="cb163-5"><a href="#cb163-5" aria-hidden="true" tabindex="-1"></a>outlier1_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">factor</span>(outlier1_edges_aggregated<span class="sc">$</span>month, <span class="at">levels =</span> month.abb)</span>
<span id="cb163-6"><a href="#cb163-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-7"><a href="#cb163-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a color palette with 12 distinct colors</span></span>
<span id="cb163-8"><a href="#cb163-8" aria-hidden="true" tabindex="-1"></a>color_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#E41A1C"</span>, <span class="st">"#377EB8"</span>, <span class="st">"#4DAF4A"</span>, <span class="st">"#984EA3"</span>, <span class="st">"#FF7F00"</span>, <span class="st">"#FFFF33"</span>, <span class="st">"#A65628"</span>, <span class="st">"#F781BF"</span>, <span class="st">"#999999"</span>, <span class="st">"#66C2A5"</span>, <span class="st">"#FC8D62"</span>, <span class="st">"#8DA0CB"</span>, <span class="st">"#FDAE61"</span>)</span>
<span id="cb163-9"><a href="#cb163-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-10"><a href="#cb163-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-11"><a href="#cb163-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the chart with facet wrap</span></span>
<span id="cb163-12"><a href="#cb163-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(outlier1_edges_aggregated, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> weightkg, <span class="at">fill =</span> category)) <span class="sc">+</span></span>
<span id="cb163-13"><a href="#cb163-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb163-14"><a href="#cb163-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> color_palette) <span class="sc">+</span></span>
<span id="cb163-15"><a href="#cb163-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Weight (kg)"</span>, <span class="at">fill =</span> <span class="st">"Category"</span>) <span class="sc">+</span></span>
<span id="cb163-16"><a href="#cb163-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Weight by Month and category"</span>) <span class="sc">+</span></span>
<span id="cb163-17"><a href="#cb163-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="fu">year</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-118-1.png" class="img-fluid" width="1440"></p>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>outlier2_edges_aggregated <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">"French Crab S.p.A. Worldwide"</span> <span class="sc">&amp;</span> target <span class="sc">==</span> <span class="st">"Saltwater Supreme ОАО Forwading"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(arrivaldate,hscode, valueofgoods_omu, </span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a>         volumeteu, weightkg, valueofgoodsusd) <span class="sc">%&gt;%</span></span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the month from the 'arrivaldate'</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a>outlier2_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">format</span>(outlier2_edges_aggregated<span class="sc">$</span>arrivaldate, <span class="st">"%b"</span>)</span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the 'month' column to an ordered factor</span></span>
<span id="cb165-5"><a href="#cb165-5" aria-hidden="true" tabindex="-1"></a>outlier2_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">factor</span>(outlier2_edges_aggregated<span class="sc">$</span>month, <span class="at">levels =</span> month.abb)</span>
<span id="cb165-6"><a href="#cb165-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-7"><a href="#cb165-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a color palette with 12 distinct colors</span></span>
<span id="cb165-8"><a href="#cb165-8" aria-hidden="true" tabindex="-1"></a>color_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#E41A1C"</span>, <span class="st">"#377EB8"</span>, <span class="st">"#4DAF4A"</span>, <span class="st">"#984EA3"</span>, <span class="st">"#FF7F00"</span>, <span class="st">"#FFFF33"</span>, <span class="st">"#A65628"</span>, <span class="st">"#F781BF"</span>, <span class="st">"#999999"</span>, <span class="st">"#66C2A5"</span>, <span class="st">"#FC8D62"</span>, <span class="st">"#8DA0CB"</span>, <span class="st">"#FDAE61"</span>)</span>
<span id="cb165-9"><a href="#cb165-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-10"><a href="#cb165-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-11"><a href="#cb165-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the chart with facet wrap</span></span>
<span id="cb165-12"><a href="#cb165-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(outlier2_edges_aggregated, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> weightkg, <span class="at">fill =</span> category)) <span class="sc">+</span></span>
<span id="cb165-13"><a href="#cb165-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb165-14"><a href="#cb165-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> color_palette) <span class="sc">+</span></span>
<span id="cb165-15"><a href="#cb165-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Weight (kg)"</span>, <span class="at">fill =</span> <span class="st">"Category"</span>) <span class="sc">+</span></span>
<span id="cb165-16"><a href="#cb165-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Weight by Month and category"</span>) <span class="sc">+</span></span>
<span id="cb165-17"><a href="#cb165-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="fu">year</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-120-1.png" class="img-fluid" width="1440"></p>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>outlier3_edges_aggregated <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">"Coastal Cruisers Pic Shipping"</span> <span class="sc">&amp;</span> target <span class="sc">==</span> <span class="st">"Caracola del Sol Services"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(arrivaldate,hscode, valueofgoods_omu, </span>
<span id="cb166-4"><a href="#cb166-4" aria-hidden="true" tabindex="-1"></a>         volumeteu, weightkg, valueofgoodsusd) <span class="sc">%&gt;%</span></span>
<span id="cb166-5"><a href="#cb166-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the month from the 'arrivaldate'</span></span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>outlier3_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">format</span>(outlier3_edges_aggregated<span class="sc">$</span>arrivaldate, <span class="st">"%b"</span>)</span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the 'month' column to an ordered factor</span></span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a>outlier3_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">factor</span>(outlier3_edges_aggregated<span class="sc">$</span>month, <span class="at">levels =</span> month.abb)</span>
<span id="cb167-6"><a href="#cb167-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-7"><a href="#cb167-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a color palette with 12 distinct colors</span></span>
<span id="cb167-8"><a href="#cb167-8" aria-hidden="true" tabindex="-1"></a>color_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#E41A1C"</span>, <span class="st">"#377EB8"</span>, <span class="st">"#4DAF4A"</span>, <span class="st">"#984EA3"</span>, <span class="st">"#FF7F00"</span>, <span class="st">"#FFFF33"</span>, <span class="st">"#A65628"</span>, <span class="st">"#F781BF"</span>, <span class="st">"#999999"</span>, <span class="st">"#66C2A5"</span>, <span class="st">"#FC8D62"</span>, <span class="st">"#8DA0CB"</span>, <span class="st">"#FDAE61"</span>)</span>
<span id="cb167-9"><a href="#cb167-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-10"><a href="#cb167-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-11"><a href="#cb167-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the chart with facet wrap</span></span>
<span id="cb167-12"><a href="#cb167-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(outlier3_edges_aggregated, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> weightkg, <span class="at">fill =</span> category)) <span class="sc">+</span></span>
<span id="cb167-13"><a href="#cb167-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb167-14"><a href="#cb167-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> color_palette) <span class="sc">+</span></span>
<span id="cb167-15"><a href="#cb167-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Weight (kg)"</span>, <span class="at">fill =</span> <span class="st">"Category"</span>) <span class="sc">+</span></span>
<span id="cb167-16"><a href="#cb167-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Weight by Month and category"</span>) <span class="sc">+</span></span>
<span id="cb167-17"><a href="#cb167-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="fu">year</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-122-1.png" class="img-fluid" width="1440"></p>
</div>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a>outlier4_edges_aggregated <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">"Olas del Sur Sea"</span> <span class="sc">&amp;</span> target <span class="sc">==</span> <span class="st">"Greek Sea Bass LLC"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(arrivaldate,hscode, valueofgoods_omu, </span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a>         volumeteu, weightkg, valueofgoodsusd) <span class="sc">%&gt;%</span></span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the month from the 'arrivaldate'</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a>outlier4_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">format</span>(outlier4_edges_aggregated<span class="sc">$</span>arrivaldate, <span class="st">"%b"</span>)</span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the 'month' column to an ordered factor</span></span>
<span id="cb169-5"><a href="#cb169-5" aria-hidden="true" tabindex="-1"></a>outlier4_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">factor</span>(outlier4_edges_aggregated<span class="sc">$</span>month, <span class="at">levels =</span> month.abb)</span>
<span id="cb169-6"><a href="#cb169-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-7"><a href="#cb169-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a color palette with 12 distinct colors</span></span>
<span id="cb169-8"><a href="#cb169-8" aria-hidden="true" tabindex="-1"></a>color_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#E41A1C"</span>, <span class="st">"#377EB8"</span>, <span class="st">"#4DAF4A"</span>, <span class="st">"#984EA3"</span>, <span class="st">"#FF7F00"</span>, <span class="st">"#FFFF33"</span>, <span class="st">"#A65628"</span>, <span class="st">"#F781BF"</span>, <span class="st">"#999999"</span>, <span class="st">"#66C2A5"</span>, <span class="st">"#FC8D62"</span>, <span class="st">"#8DA0CB"</span>, <span class="st">"#FDAE61"</span>)</span>
<span id="cb169-9"><a href="#cb169-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-10"><a href="#cb169-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-11"><a href="#cb169-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the chart with facet wrap</span></span>
<span id="cb169-12"><a href="#cb169-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(outlier4_edges_aggregated, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> weightkg, <span class="at">fill =</span> category)) <span class="sc">+</span></span>
<span id="cb169-13"><a href="#cb169-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb169-14"><a href="#cb169-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> color_palette) <span class="sc">+</span></span>
<span id="cb169-15"><a href="#cb169-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Weight (kg)"</span>, <span class="at">fill =</span> <span class="st">"Category"</span>) <span class="sc">+</span></span>
<span id="cb169-16"><a href="#cb169-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Weight by Month and category"</span>) <span class="sc">+</span></span>
<span id="cb169-17"><a href="#cb169-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="fu">year</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-124-1.png" class="img-fluid" width="1440"></p>
</div>
</div>
</div>
<div id="tabset-2-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-5-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a>outlier5_edges_aggregated <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">"Uttar Pradesh s CJSC"</span> <span class="sc">&amp;</span> target <span class="sc">==</span> <span class="st">"Sea Breezes GmbH &amp; Co. KG Shark"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(arrivaldate,hscode, valueofgoods_omu, </span>
<span id="cb170-4"><a href="#cb170-4" aria-hidden="true" tabindex="-1"></a>         volumeteu, weightkg, valueofgoodsusd) <span class="sc">%&gt;%</span></span>
<span id="cb170-5"><a href="#cb170-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the month from the 'arrivaldate'</span></span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a>outlier5_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">format</span>(outlier5_edges_aggregated<span class="sc">$</span>arrivaldate, <span class="st">"%b"</span>)</span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the 'month' column to an ordered factor</span></span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a>outlier5_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">factor</span>(outlier5_edges_aggregated<span class="sc">$</span>month, <span class="at">levels =</span> month.abb)</span>
<span id="cb171-6"><a href="#cb171-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-7"><a href="#cb171-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a color palette with 12 distinct colors</span></span>
<span id="cb171-8"><a href="#cb171-8" aria-hidden="true" tabindex="-1"></a>color_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#E41A1C"</span>, <span class="st">"#377EB8"</span>, <span class="st">"#4DAF4A"</span>, <span class="st">"#984EA3"</span>, <span class="st">"#FF7F00"</span>, <span class="st">"#FFFF33"</span>, <span class="st">"#A65628"</span>, <span class="st">"#F781BF"</span>, <span class="st">"#999999"</span>, <span class="st">"#66C2A5"</span>, <span class="st">"#FC8D62"</span>, <span class="st">"#8DA0CB"</span>, <span class="st">"#FDAE61"</span>)</span>
<span id="cb171-9"><a href="#cb171-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-10"><a href="#cb171-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-11"><a href="#cb171-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the chart with facet wrap</span></span>
<span id="cb171-12"><a href="#cb171-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(outlier5_edges_aggregated, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> weightkg, <span class="at">fill =</span> category)) <span class="sc">+</span></span>
<span id="cb171-13"><a href="#cb171-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb171-14"><a href="#cb171-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> color_palette) <span class="sc">+</span></span>
<span id="cb171-15"><a href="#cb171-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Weight (kg)"</span>, <span class="at">fill =</span> <span class="st">"Category"</span>) <span class="sc">+</span></span>
<span id="cb171-16"><a href="#cb171-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Weight by Month and category"</span>) <span class="sc">+</span></span>
<span id="cb171-17"><a href="#cb171-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="fu">year</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-126-1.png" class="img-fluid" width="1440"></p>
</div>
</div>
</div>
<div id="tabset-2-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-6-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>outlier6_edges_aggregated <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">"Mar y Luna Sagl"</span> <span class="sc">&amp;</span> target <span class="sc">==</span> <span class="st">"Panope Limited Liability Company"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb172-3"><a href="#cb172-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(arrivaldate,hscode, valueofgoods_omu, </span>
<span id="cb172-4"><a href="#cb172-4" aria-hidden="true" tabindex="-1"></a>         volumeteu, weightkg, valueofgoodsusd) <span class="sc">%&gt;%</span></span>
<span id="cb172-5"><a href="#cb172-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the month from the 'arrivaldate'</span></span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a>outlier6_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">format</span>(outlier6_edges_aggregated<span class="sc">$</span>arrivaldate, <span class="st">"%b"</span>)</span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the 'month' column to an ordered factor</span></span>
<span id="cb173-5"><a href="#cb173-5" aria-hidden="true" tabindex="-1"></a>outlier6_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">factor</span>(outlier6_edges_aggregated<span class="sc">$</span>month, <span class="at">levels =</span> month.abb)</span>
<span id="cb173-6"><a href="#cb173-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-7"><a href="#cb173-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a color palette with 12 distinct colors</span></span>
<span id="cb173-8"><a href="#cb173-8" aria-hidden="true" tabindex="-1"></a>color_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#E41A1C"</span>, <span class="st">"#377EB8"</span>, <span class="st">"#4DAF4A"</span>, <span class="st">"#984EA3"</span>, <span class="st">"#FF7F00"</span>, <span class="st">"#FFFF33"</span>, <span class="st">"#A65628"</span>, <span class="st">"#F781BF"</span>, <span class="st">"#999999"</span>, <span class="st">"#66C2A5"</span>, <span class="st">"#FC8D62"</span>, <span class="st">"#8DA0CB"</span>, <span class="st">"#FDAE61"</span>)</span>
<span id="cb173-9"><a href="#cb173-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-10"><a href="#cb173-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-11"><a href="#cb173-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the chart with facet wrap</span></span>
<span id="cb173-12"><a href="#cb173-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(outlier6_edges_aggregated, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> weightkg, <span class="at">fill =</span> category)) <span class="sc">+</span></span>
<span id="cb173-13"><a href="#cb173-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb173-14"><a href="#cb173-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> color_palette) <span class="sc">+</span></span>
<span id="cb173-15"><a href="#cb173-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Weight (kg)"</span>, <span class="at">fill =</span> <span class="st">"Category"</span>) <span class="sc">+</span></span>
<span id="cb173-16"><a href="#cb173-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Weight by Month and category"</span>) <span class="sc">+</span></span>
<span id="cb173-17"><a href="#cb173-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="fu">year</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-128-1.png" class="img-fluid" width="1440"></p>
</div>
</div>
</div>
<div id="tabset-2-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-7-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a>outlier7_edges_aggregated <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">"Mar y Luna Sagl"</span> <span class="sc">&amp;</span> target <span class="sc">==</span> <span class="st">"Saltwater Supreme ОАО Forwading"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(arrivaldate,hscode, valueofgoods_omu, </span>
<span id="cb174-4"><a href="#cb174-4" aria-hidden="true" tabindex="-1"></a>         volumeteu, weightkg, valueofgoodsusd) <span class="sc">%&gt;%</span></span>
<span id="cb174-5"><a href="#cb174-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the month from the 'arrivaldate'</span></span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a>outlier7_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">format</span>(outlier7_edges_aggregated<span class="sc">$</span>arrivaldate, <span class="st">"%b"</span>)</span>
<span id="cb175-3"><a href="#cb175-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-4"><a href="#cb175-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the 'month' column to an ordered factor</span></span>
<span id="cb175-5"><a href="#cb175-5" aria-hidden="true" tabindex="-1"></a>outlier7_edges_aggregated<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">factor</span>(outlier7_edges_aggregated<span class="sc">$</span>month, <span class="at">levels =</span> month.abb)</span>
<span id="cb175-6"><a href="#cb175-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-7"><a href="#cb175-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a color palette with 12 distinct colors</span></span>
<span id="cb175-8"><a href="#cb175-8" aria-hidden="true" tabindex="-1"></a>color_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#E41A1C"</span>, <span class="st">"#377EB8"</span>, <span class="st">"#4DAF4A"</span>, <span class="st">"#984EA3"</span>, <span class="st">"#FF7F00"</span>, <span class="st">"#FFFF33"</span>, <span class="st">"#A65628"</span>, <span class="st">"#F781BF"</span>, <span class="st">"#999999"</span>, <span class="st">"#66C2A5"</span>, <span class="st">"#FC8D62"</span>, <span class="st">"#8DA0CB"</span>, <span class="st">"#FDAE61"</span>)</span>
<span id="cb175-9"><a href="#cb175-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-10"><a href="#cb175-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-11"><a href="#cb175-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the chart with facet wrap</span></span>
<span id="cb175-12"><a href="#cb175-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(outlier7_edges_aggregated, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> weightkg, <span class="at">fill =</span> category)) <span class="sc">+</span></span>
<span id="cb175-13"><a href="#cb175-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb175-14"><a href="#cb175-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> color_palette) <span class="sc">+</span></span>
<span id="cb175-15"><a href="#cb175-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Weight (kg)"</span>, <span class="at">fill =</span> <span class="st">"Category"</span>) <span class="sc">+</span></span>
<span id="cb175-16"><a href="#cb175-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Weight by Month and category"</span>) <span class="sc">+</span></span>
<span id="cb175-17"><a href="#cb175-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="fu">year</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-130-1.png" class="img-fluid" width="1440"></p>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="summary-and-conclusion" class="level1">
<h1>Summary and conclusion</h1>
<p>Assuming that we only use the count of shipping between the source and node, we suspect that the these 7 companies may have participated on illegal fishing activities due to the count. To further scrutinize, based on the charts provided, it appears that apart from outlier 1, the remaining 6 sources and nodes exhibit irregularities in their patterns. The observed patterns in these companies align with the characteristics typically associated with illegal fishing operations. These companies tend to show periods of minimal or no activity during the analysis period, followed by or prior to abnormally high catches in terms of kilograms. Hence they should be closely examined</p>
</section>
<section id="the-second-approach" class="level1">
<h1>The second approach</h1>
<section id="adding-months-in-mc2_edges-dataframe" class="level2">
<h2 class="anchored" data-anchor-id="adding-months-in-mc2_edges-dataframe">Adding months in MC2_edges dataframe</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the month from the 'arrivaldate'</span></span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a>MC2_edges<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">format</span>(MC2_edges<span class="sc">$</span>arrivaldate, <span class="st">"%b"</span>)</span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-4"><a href="#cb176-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the 'month' column to an ordered factor</span></span>
<span id="cb176-5"><a href="#cb176-5" aria-hidden="true" tabindex="-1"></a>MC2_edges<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">factor</span>(MC2_edges<span class="sc">$</span>month, <span class="at">levels =</span> month.abb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s apply the categories identified from the bundles directly to the MC2 edge data</p>
</section>
<section id="weight-examination-of-mc2_edges" class="level2">
<h2 class="anchored" data-anchor-id="weight-examination-of-mc2_edges">Weight examination of MC2_edges</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a color palette with 12 distinct colors</span></span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a>color_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#E41A1C"</span>, <span class="st">"#377EB8"</span>, <span class="st">"#4DAF4A"</span>, <span class="st">"#984EA3"</span>, <span class="st">"#FF7F00"</span>, <span class="st">"#FFFF33"</span>, <span class="st">"#A65628"</span>, <span class="st">"#F781BF"</span>, <span class="st">"#999999"</span>, <span class="st">"#66C2A5"</span>, <span class="st">"#FC8D62"</span>, <span class="st">"#8DA0CB"</span>, <span class="st">"#FDAE61"</span>)</span>
<span id="cb177-3"><a href="#cb177-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-4"><a href="#cb177-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the size of the plot</span></span>
<span id="cb177-5"><a href="#cb177-5" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repr.plot.width =</span> <span class="dv">10</span>, <span class="at">repr.plot.height =</span> <span class="dv">6</span>)</span>
<span id="cb177-6"><a href="#cb177-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-7"><a href="#cb177-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the chart with facet wrap</span></span>
<span id="cb177-8"><a href="#cb177-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(MC2_edges, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> weightkg, <span class="at">fill =</span> category)) <span class="sc">+</span></span>
<span id="cb177-9"><a href="#cb177-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb177-10"><a href="#cb177-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> color_palette) <span class="sc">+</span></span>
<span id="cb177-11"><a href="#cb177-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Weight (kg)"</span>, <span class="at">fill =</span> <span class="st">"Category"</span>) <span class="sc">+</span></span>
<span id="cb177-12"><a href="#cb177-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Weight by Month and Category"</span>) <span class="sc">+</span></span>
<span id="cb177-13"><a href="#cb177-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="fu">year</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-132-1.png" class="img-fluid" width="1440"></p>
</div>
</div>
<p>From the above chart (filled with weightkg for each category of catch) there is an interesting discovery we can see. Most of the periods have a relatively stable catch in terms of weight. Those with HS code with no categories seems to always take up highest proportion of weight. However, there are some abnormalies observed Aug, Oct and Dec of 2032 and Jul and Aug of 2033 where in these months the proportion of categories surge and take up seemingly equal proporation of weight</p>
</section>
<section id="count-exmination-of-mc2_edges" class="level2">
<h2 class="anchored" data-anchor-id="count-exmination-of-mc2_edges">Count exmination of MC2_edges</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a>MC2_edges_aggregated_1 <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(arrivaldate,source, target,category) <span class="sc">%&gt;%</span></span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb178-4"><a href="#cb178-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source<span class="sc">!=</span>target) <span class="sc">%&gt;%</span></span>
<span id="cb178-5"><a href="#cb178-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weight <span class="sc">&gt;=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb178-6"><a href="#cb178-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb178-7"><a href="#cb178-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-8"><a href="#cb178-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the month from the 'arrivaldate'</span></span>
<span id="cb178-9"><a href="#cb178-9" aria-hidden="true" tabindex="-1"></a>MC2_edges_aggregated_1<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">format</span>(MC2_edges_aggregated_1<span class="sc">$</span>arrivaldate, <span class="st">"%b"</span>)</span>
<span id="cb178-10"><a href="#cb178-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-11"><a href="#cb178-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the 'month' column to an ordered factor</span></span>
<span id="cb178-12"><a href="#cb178-12" aria-hidden="true" tabindex="-1"></a>MC2_edges_aggregated_1<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">factor</span>(MC2_edges_aggregated_1<span class="sc">$</span>month, <span class="at">levels =</span> month.abb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a color palette with 12 distinct colors</span></span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a>color_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#E41A1C"</span>, <span class="st">"#377EB8"</span>, <span class="st">"#4DAF4A"</span>, <span class="st">"#984EA3"</span>, <span class="st">"#FF7F00"</span>, <span class="st">"#FFFF33"</span>, <span class="st">"#A65628"</span>, <span class="st">"#F781BF"</span>, <span class="st">"#999999"</span>, <span class="st">"#66C2A5"</span>, <span class="st">"#FC8D62"</span>, <span class="st">"#8DA0CB"</span>, <span class="st">"#FDAE61"</span>)</span>
<span id="cb179-3"><a href="#cb179-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-4"><a href="#cb179-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the size of the plot</span></span>
<span id="cb179-5"><a href="#cb179-5" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repr.plot.width =</span> <span class="dv">10</span>, <span class="at">repr.plot.height =</span> <span class="dv">6</span>)</span>
<span id="cb179-6"><a href="#cb179-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-7"><a href="#cb179-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the chart with facet wrap</span></span>
<span id="cb179-8"><a href="#cb179-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(MC2_edges_aggregated_1, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> weight, <span class="at">fill =</span> category)) <span class="sc">+</span></span>
<span id="cb179-9"><a href="#cb179-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb179-10"><a href="#cb179-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> color_palette) <span class="sc">+</span></span>
<span id="cb179-11"><a href="#cb179-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Weight"</span>, <span class="at">fill =</span> <span class="st">"Category"</span>) <span class="sc">+</span></span>
<span id="cb179-12"><a href="#cb179-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Weight by Month and Category"</span>) <span class="sc">+</span></span>
<span id="cb179-13"><a href="#cb179-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="fu">year</span>(arrivaldate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-134-1.png" class="img-fluid" width="1440"></p>
</div>
</div>
<p>Above is a plot of the count of shipments of different categories of fishery against period. We can observe that the count is generally consistent across the years. Comparing the chart above with the plot for weight, it is fair to assume that illegal fishing may have occurred in aug,oct dec in 2032 and jul and aug in 2033 as the number of shipments remain consistent but amount of shipment spiked. This will serve as the basis for our analysis in detecting companies who might have engaged in illegal fishing.</p>
</section>
<section id="scrutinizing-the-irregularities" class="level2">
<h2 class="anchored" data-anchor-id="scrutinizing-the-irregularities">Scrutinizing the irregularities</h2>
<p>Lets take these period out and plot these irregularities</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert weightkg column to numeric</span></span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a>MC2_edges<span class="sc">$</span>weightkg <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(MC2_edges<span class="sc">$</span>weightkg)</span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-4"><a href="#cb180-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for the year 2032 and the months from August to December</span></span>
<span id="cb180-5"><a href="#cb180-5" aria-hidden="true" tabindex="-1"></a>data_aug_dec_2032 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MC2_edges, </span>
<span id="cb180-6"><a href="#cb180-6" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">month</span>(arrivaldate) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span>,<span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">12</span>) <span class="sc">&amp;</span> </span>
<span id="cb180-7"><a href="#cb180-7" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">year</span>(arrivaldate) <span class="sc">==</span> <span class="dv">2032</span>)</span>
<span id="cb180-8"><a href="#cb180-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-9"><a href="#cb180-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Group the data by source, target, and month, and calculate the weightkg statistics</span></span>
<span id="cb180-10"><a href="#cb180-10" aria-hidden="true" tabindex="-1"></a>pair_stats <span class="ot">&lt;-</span> data_aug_dec_2032 <span class="sc">%&gt;%</span></span>
<span id="cb180-11"><a href="#cb180-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source, target, month) <span class="sc">%&gt;%</span></span>
<span id="cb180-12"><a href="#cb180-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb180-13"><a href="#cb180-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_weight =</span> <span class="fu">max</span>(weightkg)</span>
<span id="cb180-14"><a href="#cb180-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb180-15"><a href="#cb180-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-16"><a href="#cb180-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort the pairs by max_weight in descending order</span></span>
<span id="cb180-17"><a href="#cb180-17" aria-hidden="true" tabindex="-1"></a>pair_stats <span class="ot">&lt;-</span> pair_stats <span class="sc">%&gt;%</span></span>
<span id="cb180-18"><a href="#cb180-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(max_weight))</span>
<span id="cb180-19"><a href="#cb180-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-20"><a href="#cb180-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Take the top 100 pairs by weight</span></span>
<span id="cb180-21"><a href="#cb180-21" aria-hidden="true" tabindex="-1"></a>top_pairs <span class="ot">&lt;-</span> <span class="fu">head</span>(pair_stats, <span class="dv">100</span>)</span>
<span id="cb180-22"><a href="#cb180-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb180-23"><a href="#cb180-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar plot to visualize the weightkg values for each pair with facet wrap by month</span></span>
<span id="cb180-24"><a href="#cb180-24" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(top_pairs, <span class="fu">aes</span>(<span class="at">x =</span> source, <span class="at">y =</span> max_weight, <span class="at">fill =</span> target, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Source: "</span>, source, <span class="st">"&lt;br&gt;Target: "</span>, target, <span class="st">"&lt;br&gt;Max Weight: "</span>, max_weight))) <span class="sc">+</span></span>
<span id="cb180-25"><a href="#cb180-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb180-26"><a href="#cb180-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Weightkg Values for Top 100 Source-Target Pairs (Aug-Dec 2032)"</span>,</span>
<span id="cb180-27"><a href="#cb180-27" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Source"</span>, <span class="at">y =</span> <span class="st">"Max Weightkg"</span>) <span class="sc">+</span></span>
<span id="cb180-28"><a href="#cb180-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb180-29"><a href="#cb180-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> month, <span class="at">ncol =</span> <span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb180-30"><a href="#cb180-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill=</span> <span class="cn">FALSE</span>)</span>
<span id="cb180-31"><a href="#cb180-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-32"><a href="#cb180-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the ggplot plot to an interactive plotly plot</span></span>
<span id="cb180-33"><a href="#cb180-33" aria-hidden="true" tabindex="-1"></a>plotly_plot <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(p, <span class="at">tooltip =</span> <span class="st">"text"</span>, <span class="at">height =</span> <span class="dv">1000</span>, <span class="at">width =</span> <span class="dv">750</span>)</span>
<span id="cb180-34"><a href="#cb180-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-35"><a href="#cb180-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the interactive plot</span></span>
<span id="cb180-36"><a href="#cb180-36" aria-hidden="true" tabindex="-1"></a>plotly_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="htmlwidget-5195ce5781957b7b5bf7" style="width:100%;height:866px;" class="plotly html-widget "></div>
<script type="application/json" data-for="htmlwidget-5195ce5781957b7b5bf7">{"x":{"data":[{"orientation":"v","width":0.899999999999999,"base":0,"x":[21],"y":[15749455],"text":"Source:  Selous Game Reserve  A/S <br>Target:  Mar de la Luz Pic Carriers <br>Max Weight:  15749455","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,168,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[17],"y":[6728920],"text":"Source:  Mar de la Luna LLC <br>Target:  Lake Kainji  Marine life Inc Overseas <br>Max Weight:  6728920","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,174,250,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":155382595,"x":[26],"y":[70982470],"text":"Source:  Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants <br>Target:  Konkan Coast  SRL Logistics <br>Max Weight:  70982470","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,179,241,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[9],"y":[276941885],"text":"Source:  Jammu & Kashmir  AB Consultants <br>Target:  Kambala and A/S Shipping <br>Max Weight:  276941885","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,183,232,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[9],"y":[39500660],"text":"Source:  Jammu & Kashmir  AB Consultants <br>Target:  Kambala and A/S Shipping <br>Max Weight:  39500660","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,183,232,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[9],"y":[297869960],"text":"Source:  Jammu & Kashmir  AB Consultants <br>Target:  Kambala and A/S Shipping <br>Max Weight:  297869960","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,183,232,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[22],"y":[388112230],"text":"Source:  Selous Game Reserve  Kga <br>Target:  Caracola del Sol Services <br>Max Weight:  388112230","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,185,44,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.899999999999999],"base":[0,0],"x":[22,18],"y":[19689530,12859450],"text":["Source:  Selous Game Reserve  Kga <br>Target:  Caracola del Sol Services <br>Max Weight:  19689530","Source:  OceanicHarvest Ltd. Liability Co Family <br>Target:  Caracola del Sol Services <br>Max Weight:  12859450"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,185,44,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[10],"y":[31028895],"text":"Source:  Kafue River  Seaside ОАО Transport <br>Target:  Caracola del Sol Services <br>Max Weight:  31028895","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,185,44,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":132612245,"x":[5],"y":[48893095],"text":"Source:  Coral del Sur AG Seabass <br>Target:  Coastal Castaway Coast Corporation Worldwide <br>Max Weight:  48893095","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,187,75,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[47709405],"text":"Source:  Coral del Sur AG Seabass <br>Target:  Coastal Castaway Coast Corporation Worldwide <br>Max Weight:  47709405","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,187,75,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":276941885,"x":[9],"y":[127104140],"text":"Source:  Jammu & Kashmir  AB Consultants <br>Target:  Jammu & Kashmir  AB Consultants <br>Max Weight:  127104140","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,187,221,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":670202540,"x":[20],"y":[12194785],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Coastal Currents Plc Distribution <br>Max Weight:  12194785","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,189,98,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[20],"y":[10018565],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Coastal Currents Plc Distribution <br>Max Weight:  10018565","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,189,98,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.899999999999999],"base":[47827135,0],"x":[22,13],"y":[19069935,10505770],"text":["Source:  Selous Game Reserve  Kga <br>Target:  hǎi dǎn Corporation Wharf <br>Max Weight:  19069935","Source:  Lake Tana  N.V. Enterprises <br>Target:  hǎi dǎn Corporation Wharf <br>Max Weight:  10505770"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,189,209,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.899999999999999],"base":[0,0],"x":[8,13],"y":[30033420,15002815],"text":["Source:  Gambia River   Ltd Shipping <br>Target:  hǎi dǎn Corporation Wharf <br>Max Weight:  30033420","Source:  Lake Tana  N.V. Enterprises <br>Target:  hǎi dǎn Corporation Wharf <br>Max Weight:  15002815"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,189,209,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.899999999999999],"base":[0,11519110],"x":[13,15],"y":[15749350,7239335],"text":["Source:  Lake Tana  N.V. Enterprises <br>Target:  hǎi dǎn Corporation Wharf <br>Max Weight:  15749350","Source:  Manipur  Market Charter Boat  <br>Target:  hǎi dǎn Corporation Wharf <br>Max Weight:  7239335"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,189,209,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.899999999999999],"base":[144913630,11445090],"x":[26,15],"y":[43444010,6105915],"text":["Source:  Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants <br>Target:  hǎi dǎn Corporation Wharf <br>Max Weight:  43444010","Source:  Manipur  Market Charter Boat  <br>Target:  hǎi dǎn Corporation Wharf <br>Max Weight:  6105915"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,189,209,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[13],"y":[15004000],"text":"Source:  Lake Tana  N.V. Enterprises <br>Target:  hǎi dǎn Corporation Wharf <br>Max Weight:  15004000","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,189,209,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[23],"y":[14806480],"text":"Source:  Spanish Red Snapper CJSC Transport <br>Target:  Coral Cove BV Delivery <br>Max Weight:  14806480","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,118,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[132612245],"text":"Source:  Coral del Sur AG Seabass <br>Target:  Fisherman's Best Marine conservation <br>Max Weight:  132612245","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[22],"y":[48461310],"text":"Source:  Selous Game Reserve  Kga <br>Target:  Fisherman's Best Marine conservation <br>Max Weight:  48461310","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":20068780,"x":[20],"y":[25256695],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Coral del Cielo A/S <br>Max Weight:  25256695","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,136,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":299104080,"x":[26],"y":[68994725],"text":"Source:  Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants <br>Target:  Costa de la Felicidad Shipping <br>Max Weight:  68994725","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,152,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":226365065,"x":[26],"y":[72739015],"text":"Source:  Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants <br>Target:  Dutch Mussels Pic Marine biology <br>Max Weight:  72739015","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,183,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":5964175,"x":[6],"y":[5911875],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  Danish Shrimp Kga Solutions <br>Max Weight:  5911875","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,168,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[60994760],"text":"Source:  Black Sea Sprat Pic Line <br>Target:  Barents Sea Shrimp GmbH & Co. KG Marine ecology <br>Max Weight:  60994760","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(47,182,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[57009140],"text":"Source:  Black Sea Sprat Pic Line <br>Target:  Barents Sea Shrimp GmbH & Co. KG Marine ecology <br>Max Weight:  57009140","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(47,182,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[56166380],"text":"Source:  Black Sea Sprat Pic Line <br>Target:  Barents Sea Shrimp GmbH & Co. KG Marine ecology <br>Max Weight:  56166380","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(47,182,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[49809700],"text":"Source:  Black Sea Sprat Pic Line <br>Target:  Barents Sea Shrimp GmbH & Co. KG Marine ecology <br>Max Weight:  49809700","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(47,182,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.9],"base":[69277660,0],"x":[26,4],"y":[86104935,9791930],"text":["Source:  Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants <br>Target:  Mar del Este CJSC <br>Max Weight:  86104935","Source:  Chuan gou  Ltd Marine ecology <br>Target:  Mar del Este CJSC <br>Max Weight:  9791930"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(61,161,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.9],"base":[78665600,0],"x":[26,4],"y":[81612530,9001380],"text":["Source:  Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants <br>Target:  Mar del Este CJSC <br>Max Weight:  81612530","Source:  Chuan gou  Ltd Marine ecology <br>Target:  Mar del Este CJSC <br>Max Weight:  9001380"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(61,161,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.9],"base":[0,0],"x":[26,4],"y":[80328480,6728405],"text":["Source:  Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants <br>Target:  Mar del Este CJSC <br>Max Weight:  80328480","Source:  Chuan gou  Ltd Marine ecology <br>Target:  Mar del Este CJSC <br>Max Weight:  6728405"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(61,161,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.899999999999999],"base":[0,0],"x":[15,19],"y":[11519110,10914135],"text":["Source:  Manipur  Market Charter Boat  <br>Target:  Mar del Este CJSC <br>Max Weight:  11519110","Source:  Scottish Herring BV United <br>Target:  Mar del Este CJSC <br>Max Weight:  10914135"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(61,161,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.899999999999999,0.9,0.899999999999999],"base":[72479885,0,0,0],"x":[26,15,4,19],"y":[72433745,11445090,8903250,6446755],"text":["Source:  Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants <br>Target:  Mar del Este CJSC <br>Max Weight:  72433745","Source:  Manipur  Market Charter Boat  <br>Target:  Mar del Este CJSC <br>Max Weight:  11445090","Source:  Chuan gou  Ltd Marine ecology <br>Target:  Mar del Este CJSC <br>Max Weight:  8903250","Source:  Scottish Herring BV United <br>Target:  Mar del Este CJSC <br>Max Weight:  6446755"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(61,161,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.9],"base":[0,0],"x":[15,4],"y":[14051965,5753310],"text":["Source:  Manipur  Market Charter Boat  <br>Target:  Mar del Este CJSC <br>Max Weight:  14051965","Source:  Chuan gou  Ltd Marine ecology <br>Target:  Mar del Este CJSC <br>Max Weight:  5753310"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(61,161,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[25],"y":[10819110],"text":"Source:  The Salty Dog Oyj <br>Target:  Arunachal Pradesh s Brine <br>Max Weight:  10819110","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(87,179,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":650056075,"x":[20],"y":[20146465],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Olas del Mar Worldwide <br>Max Weight:  20146465","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(111,153,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":49064105,"x":[20],"y":[10489170],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Ancla del Este Merchants <br>Max Weight:  10489170","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(113,176,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":31028895,"x":[10],"y":[20724250],"text":"Source:  Kafue River  Seaside ОАО Transport <br>Target:  Ancla del Este Merchants <br>Max Weight:  20724250","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(113,176,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":27538980,"x":[2],"y":[8090150],"text":"Source:  Caracola de Coral Limited Liability Company Carriers <br>Target:  Agua Oceanfront Limited Liability Company Transportation <br>Max Weight:  8090150","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(133,172,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.9],"base":[0,0],"x":[21,2],"y":[16370260,6367230],"text":["Source:  Selous Game Reserve  A/S <br>Target:  Agua Oceanfront Limited Liability Company Transportation <br>Max Weight:  16370260","Source:  Caracola de Coral Limited Liability Company Carriers <br>Target:  Agua Oceanfront Limited Liability Company Transportation <br>Max Weight:  6367230"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(133,172,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[14],"y":[28723090],"text":"Source:  Manipur  Market AG Worldwide <br>Target:  Agua Oceanfront Limited Liability Company Transportation <br>Max Weight:  28723090","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(133,172,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[22],"y":[47827135],"text":"Source:  Selous Game Reserve  Kga <br>Target:  Pao gan SE Seal <br>Max Weight:  47827135","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(143,145,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[18],"y":[5890575],"text":"Source:  OceanicHarvest Ltd. Liability Co Family <br>Target:  Pao gan SE Seal <br>Max Weight:  5890575","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(143,145,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[22],"y":[30346360],"text":"Source:  Selous Game Reserve  Kga <br>Target:  Pao gan SE Seal <br>Max Weight:  30346360","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(143,145,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[19013900],"text":"Source:  Coral del Sur AG Seabass <br>Target:  3 Trawler Corp Distribution <br>Max Weight:  19013900","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(151,169,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[19018520],"text":"Source:  Coral del Sur AG Seabass <br>Target:  3 Trawler Corp Distribution <br>Max Weight:  19018520","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(151,169,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":47709405,"x":[5],"y":[17015120],"text":"Source:  Coral del Sur AG Seabass <br>Target:  3 Trawler Corp Distribution <br>Max Weight:  17015120","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(151,169,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":19013900,"x":[5],"y":[12984835],"text":"Source:  Coral del Sur AG Seabass <br>Target:  -6944 <br>Max Weight:  12984835","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(166,165,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":19018520,"x":[5],"y":[12828100],"text":"Source:  Coral del Sur AG Seabass <br>Target:  -6944 <br>Max Weight:  12828100","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(166,165,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":16307210,"x":[20],"y":[32756895],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Playa de Arena Submarine S.A. de C.V. Marine <br>Max Weight:  32756895","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(169,137,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":495492485,"x":[20],"y":[154563590],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Playa de Arena Submarine S.A. de C.V. Marine <br>Max Weight:  154563590","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(169,137,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":50478410,"x":[20],"y":[35009205],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Playa de Arena Submarine S.A. de C.V. Marine <br>Max Weight:  35009205","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(169,137,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[20],"y":[20068780],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Playa de Arena Submarine S.A. de C.V. Marine <br>Max Weight:  20068780","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(169,137,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[20],"y":[34055955],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Playa de Arena Submarine S.A. de C.V. Marine <br>Max Weight:  34055955","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(169,137,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":181505340,"x":[5],"y":[15033225],"text":"Source:  Coral del Sur AG Seabass <br>Target:  -6928 <br>Max Weight:  15033225","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(179,160,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[24],"y":[18573045],"text":"Source:  Surf and Sea AG <br>Target:  ReefRider Foods Ltd. Corporation Family <br>Max Weight:  18573045","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,128,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[21],"y":[10005325],"text":"Source:  Selous Game Reserve  A/S <br>Target:  -4721 <br>Max Weight:  10005325","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(191,156,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[21],"y":[10183725],"text":"Source:  Selous Game Reserve  A/S <br>Target:  -4721 <br>Max Weight:  10183725","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(191,156,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[21],"y":[5794140],"text":"Source:  Selous Game Reserve  A/S <br>Target:  -4721 <br>Max Weight:  5794140","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(191,156,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[3],"y":[45390045],"text":"Source:  Caracola del Este Corporation Express <br>Target:  -4245 <br>Max Weight:  45390045","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(202,151,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[20],"y":[16307210],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Rift Valley fishery Inc <br>Max Weight:  16307210","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(207,120,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[20],"y":[495492485],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Rift Valley fishery Inc <br>Max Weight:  495492485","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(207,120,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":8903250,"x":[4],"y":[5552555],"text":"Source:  Chuan gou  Ltd Marine ecology <br>Target:  -3985 <br>Max Weight:  5552555","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(212,146,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":160278130,"x":[26],"y":[69009425],"text":"Source:  Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants <br>Target:  -21528 <br>Max Weight:  69009425","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(221,141,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[6],"y":[5878940],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  Sailors and Surfers Incorporated Enterprises <br>Max Weight:  5878940","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(222,113,249,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[12],"y":[9705175],"text":"Source:  Lake Kainji  S.p.A. Export <br>Target:  Sailors and Surfers Incorporated Enterprises <br>Max Weight:  9705175","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(222,113,249,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[6],"y":[5841935],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  Sailors and Surfers Incorporated Enterprises <br>Max Weight:  5841935","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(222,113,249,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[6],"y":[5763265],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  Sailors and Surfers Incorporated Enterprises <br>Max Weight:  5763265","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(222,113,249,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[6],"y":[5964175],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  Sailors and Surfers Incorporated Enterprises <br>Max Weight:  5964175","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(222,113,249,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[48577805],"text":"Source:  Coral del Sur AG Seabass <br>Target:  -21455 <br>Max Weight:  48577805","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(229,135,5,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[21],"y":[9526550],"text":"Source:  Selous Game Reserve  A/S <br>Target:  Saltwater Sizzle Co Carriers <br>Max Weight:  9526550","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(233,106,241,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[26],"y":[21015550],"text":"Source:  Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants <br>Target:  -19969 <br>Max Weight:  21015550","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(236,130,60,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[26],"y":[72479885],"text":"Source:  Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants <br>Target:  Saltwater Supreme Pelican Ltd Enterprises <br>Max Weight:  72479885","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(242,101,231,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":188357640,"x":[26],"y":[146690315],"text":"Source:  Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants <br>Target:  -19968 <br>Max Weight:  146690315","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(243,124,87,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":10914135,"x":[19],"y":[14559100],"text":"Source:  Scottish Herring BV United <br>Target:  -11893 <br>Max Weight:  14559100","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[11],"y":[25017140],"text":"Source:  Lake Edward  Co United <br>Target:  Sea Breeze Sagl Oceanfront <br>Max Weight:  25017140","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(249,98,220,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[20],"y":[50478410],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Uttarakhand  Market Limited Liability Company Nautical <br>Max Weight:  50478410","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(252,113,128,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[27538980],"text":"Source:  Caracola de Coral Limited Liability Company Carriers <br>Target:  Sea Spray Ltd. Liability Co Marine <br>Max Weight:  27538980","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(254,97,207,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[16],"y":[5935840],"text":"Source:  Mar de Cristalino Beach <br>Target:  Seashell Sanctum Worldwide Saltwater <br>Max Weight:  5935840","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,97,194,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[16],"y":[6228905],"text":"Source:  Mar de Cristalino Beach <br>Target:  Seashell Sanctum Worldwide Saltwater <br>Max Weight:  6228905","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,97,194,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[7],"y":[10976905],"text":"Source:  Dry Creek CJSC Marine <br>Target:  Selous Game Reserve  S.A. de C.V. <br>Max Weight:  10976905","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,100,179,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[26],"y":[69277660],"text":"Source:  Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants <br>Target:  Surf's Up  Kga Shipping <br>Max Weight:  69277660","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,103,163,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[26],"y":[78665600],"text":"Source:  Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants <br>Target:  Surf's Up  Kga Shipping <br>Max Weight:  78665600","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,103,163,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[9],"y":[342938385],"text":"Source:  Jammu & Kashmir  AB Consultants <br>Target:  Tamil Nadu   Corporation Compass <br>Max Weight:  342938385","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,108,146,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y3","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":50.703196347032,"r":7.30593607305936,"b":327.671232876712,"l":54.7945205479452},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Weightkg Values for Top 100 Source-Target Pairs (Aug-Dec 2032)","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,0.492694063926941],"automargin":true,"type":"linear","autorange":false,"range":[0.4,26.6],"tickmode":"array","ticktext":["Black Sea Sprat Pic Line","Caracola de Coral Limited Liability Company Carriers","Caracola del Este Corporation Express","Chuan gou  Ltd Marine ecology","Coral del Sur AG Seabass","Danish Shrimp Kga Solutions","Dry Creek CJSC Marine","Gambia River   Ltd Shipping","Jammu & Kashmir  AB Consultants","Kafue River  Seaside ОАО Transport","Lake Edward  Co United","Lake Kainji  S.p.A. Export","Lake Tana  N.V. Enterprises","Manipur  Market AG Worldwide","Manipur  Market Charter Boat ","Mar de Cristalino Beach","Mar de la Luna LLC","OceanicHarvest Ltd. Liability Co Family","Scottish Herring BV United","Sea Striders Mudflat GmbH Forwading","Selous Game Reserve  A/S","Selous Game Reserve  Kga","Spanish Red Snapper CJSC Transport","Surf and Sea AG","The Salty Dog Oyj","Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],"categoryorder":"array","categoryarray":["Black Sea Sprat Pic Line","Caracola de Coral Limited Liability Company Carriers","Caracola del Este Corporation Express","Chuan gou  Ltd Marine ecology","Coral del Sur AG Seabass","Danish Shrimp Kga Solutions","Dry Creek CJSC Marine","Gambia River   Ltd Shipping","Jammu & Kashmir  AB Consultants","Kafue River  Seaside ОАО Transport","Lake Edward  Co United","Lake Kainji  S.p.A. Export","Lake Tana  N.V. Enterprises","Manipur  Market AG Worldwide","Manipur  Market Charter Boat ","Mar de Cristalino Beach","Mar de la Luna LLC","OceanicHarvest Ltd. Liability Co Family","Scottish Herring BV United","Sea Striders Mudflat GmbH Forwading","Selous Game Reserve  A/S","Selous Game Reserve  Kga","Spanish Red Snapper CJSC Transport","Surf and Sea AG","The Salty Dog Oyj","Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"annotations":[{"text":"Source","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-314.155251141553},{"text":"Max Weightkg","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-39.4520547945205},{"text":"Jul","x":0.24634703196347,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Aug","x":0.75365296803653,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Sep","x":0.24634703196347,"y":0.652420091324201,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Oct","x":0.75365296803653,"y":0.652420091324201,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Nov","x":0.24634703196347,"y":0.319086757990868,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Dec","x":0.75365296803653,"y":0.319086757990868,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0.680913242009133,1],"automargin":true,"type":"linear","autorange":false,"range":[-34119866.25,716517191.25],"tickmode":"array","ticktext":["0e+00","2e+08","4e+08","6e+08"],"tickvals":[0,200000000,400000000,600000000],"categoryorder":"array","categoryarray":["0e+00","2e+08","4e+08","6e+08"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.492694063926941,"y0":0.680913242009133,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.492694063926941,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.507305936073059,"x1":1,"y0":0.680913242009133,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.507305936073059,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.492694063926941,"y0":0.347579908675799,"y1":0.652420091324201},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.492694063926941,"y0":0,"y1":23.37899543379,"yanchor":0.652420091324201,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.507305936073059,"x1":1,"y0":0.347579908675799,"y1":0.652420091324201},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.507305936073059,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":0.652420091324201,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.492694063926941,"y0":0,"y1":0.319086757990868},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.492694063926941,"y0":0,"y1":23.37899543379,"yanchor":0.319086757990868,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.507305936073059,"x1":1,"y0":0,"y1":0.319086757990868},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.507305936073059,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":0.319086757990868,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[0.4,26.6],"tickmode":"array","ticktext":["Black Sea Sprat Pic Line","Caracola de Coral Limited Liability Company Carriers","Caracola del Este Corporation Express","Chuan gou  Ltd Marine ecology","Coral del Sur AG Seabass","Danish Shrimp Kga Solutions","Dry Creek CJSC Marine","Gambia River   Ltd Shipping","Jammu & Kashmir  AB Consultants","Kafue River  Seaside ОАО Transport","Lake Edward  Co United","Lake Kainji  S.p.A. Export","Lake Tana  N.V. Enterprises","Manipur  Market AG Worldwide","Manipur  Market Charter Boat ","Mar de Cristalino Beach","Mar de la Luna LLC","OceanicHarvest Ltd. Liability Co Family","Scottish Herring BV United","Sea Striders Mudflat GmbH Forwading","Selous Game Reserve  A/S","Selous Game Reserve  Kga","Spanish Red Snapper CJSC Transport","Surf and Sea AG","The Salty Dog Oyj","Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],"categoryorder":"array","categoryarray":["Black Sea Sprat Pic Line","Caracola de Coral Limited Liability Company Carriers","Caracola del Este Corporation Express","Chuan gou  Ltd Marine ecology","Coral del Sur AG Seabass","Danish Shrimp Kga Solutions","Dry Creek CJSC Marine","Gambia River   Ltd Shipping","Jammu & Kashmir  AB Consultants","Kafue River  Seaside ОАО Transport","Lake Edward  Co United","Lake Kainji  S.p.A. Export","Lake Tana  N.V. Enterprises","Manipur  Market AG Worldwide","Manipur  Market Charter Boat ","Mar de Cristalino Beach","Mar de la Luna LLC","OceanicHarvest Ltd. Liability Co Family","Scottish Herring BV United","Sea Striders Mudflat GmbH Forwading","Selous Game Reserve  A/S","Selous Game Reserve  Kga","Spanish Red Snapper CJSC Transport","Surf and Sea AG","The Salty Dog Oyj","Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.507305936073059,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[-34119866.25,716517191.25],"tickmode":"array","ticktext":["0e+00","2e+08","4e+08","6e+08"],"tickvals":[0,200000000,400000000,600000000],"categoryorder":"array","categoryarray":["0e+00","2e+08","4e+08","6e+08"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.347579908675799,0.652420091324201],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[-34119866.25,716517191.25],"tickmode":"array","ticktext":["0e+00","2e+08","4e+08","6e+08"],"tickvals":[0,200000000,400000000,600000000],"categoryorder":"array","categoryarray":["0e+00","2e+08","4e+08","6e+08"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.319086757990868],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","width":750,"height":1000,"barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2ec05a901c57":{"x":{},"y":{},"fill":{},"text":{},"type":"bar"}},"cur_data":"2ec05a901c57","visdat":{"2ec05a901c57":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>For the above chart, we have taken out top 100 source and pair transactions(in terms of max weightkg transacted) for second half of the year 2032. The left 3 graphs are non-abnormal month and the right are the abnormal month.</p>
<p>Lets take a look at Jul and Aug 2033 where anomalies exist as well.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for the months July and August 2033</span></span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a>data_jul_aug_2033 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MC2_edges,</span>
<span id="cb181-3"><a href="#cb181-3" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">month</span>(arrivaldate) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">8</span>) <span class="sc">&amp;</span></span>
<span id="cb181-4"><a href="#cb181-4" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">year</span>(arrivaldate) <span class="sc">==</span> <span class="dv">2033</span>)</span>
<span id="cb181-5"><a href="#cb181-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-6"><a href="#cb181-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Group the data by source, target, and month, and calculate the weightkg statistics for Jul-Aug 2033</span></span>
<span id="cb181-7"><a href="#cb181-7" aria-hidden="true" tabindex="-1"></a>pair_stats_jul_aug_2033 <span class="ot">&lt;-</span> data_jul_aug_2033 <span class="sc">%&gt;%</span></span>
<span id="cb181-8"><a href="#cb181-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source, target, month) <span class="sc">%&gt;%</span></span>
<span id="cb181-9"><a href="#cb181-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb181-10"><a href="#cb181-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_weight =</span> <span class="fu">max</span>(weightkg)</span>
<span id="cb181-11"><a href="#cb181-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb181-12"><a href="#cb181-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-13"><a href="#cb181-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort the pairs by max_weight in descending order for Jul-Aug 2033</span></span>
<span id="cb181-14"><a href="#cb181-14" aria-hidden="true" tabindex="-1"></a>pair_stats_jul_aug_2033 <span class="ot">&lt;-</span> pair_stats_jul_aug_2033 <span class="sc">%&gt;%</span></span>
<span id="cb181-15"><a href="#cb181-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(max_weight))</span>
<span id="cb181-16"><a href="#cb181-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-17"><a href="#cb181-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Take the top 100 pairs by weight for Jul-Aug 2033</span></span>
<span id="cb181-18"><a href="#cb181-18" aria-hidden="true" tabindex="-1"></a>top_pairs_jul_aug_2033 <span class="ot">&lt;-</span> <span class="fu">head</span>(pair_stats_jul_aug_2033, <span class="dv">100</span>)</span>
<span id="cb181-19"><a href="#cb181-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-20"><a href="#cb181-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar plot to visualize the weightkg values for each pair with facet wrap by month for Jul-Aug 2033</span></span>
<span id="cb181-21"><a href="#cb181-21" aria-hidden="true" tabindex="-1"></a>p_jul_aug_2033 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(top_pairs_jul_aug_2033, <span class="fu">aes</span>(<span class="at">x =</span> source, <span class="at">y =</span> max_weight, <span class="at">fill =</span> target, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Source: "</span>, source, <span class="st">"&lt;br&gt;Target: "</span>, target, <span class="st">"&lt;br&gt;Max Weight: "</span>, max_weight))) <span class="sc">+</span></span>
<span id="cb181-22"><a href="#cb181-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb181-23"><a href="#cb181-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Weightkg Values for Top 100 Source-Target Pairs (Jul-Aug 2033)"</span>,</span>
<span id="cb181-24"><a href="#cb181-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Source"</span>, <span class="at">y =</span> <span class="st">"Max Weightkg"</span>) <span class="sc">+</span></span>
<span id="cb181-25"><a href="#cb181-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb181-26"><a href="#cb181-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> month, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb181-27"><a href="#cb181-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>)</span>
<span id="cb181-28"><a href="#cb181-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-29"><a href="#cb181-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the ggplot plot to an interactive plotly plot</span></span>
<span id="cb181-30"><a href="#cb181-30" aria-hidden="true" tabindex="-1"></a>plotly_plot_jul_aug_2033 <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(p_jul_aug_2033, <span class="at">tooltip =</span> <span class="st">"text"</span>, <span class="at">height =</span> <span class="dv">600</span>, <span class="at">width =</span> <span class="dv">800</span>)</span>
<span id="cb181-31"><a href="#cb181-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-32"><a href="#cb181-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the interactive plot for Jul-Aug 2033</span></span>
<span id="cb181-33"><a href="#cb181-33" aria-hidden="true" tabindex="-1"></a>plotly_plot_jul_aug_2033</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="htmlwidget-7e04d5e70e8a75ca7adb" style="width:100%;height:487px;" class="plotly html-widget "></div>
<script type="application/json" data-for="htmlwidget-7e04d5e70e8a75ca7adb">{"x":{"data":[{"orientation":"v","width":0.899999999999999,"base":0,"x":[20],"y":[1331745],"text":"Source:  Oceanic Explorers Sashimi Inc Solutions <br>Target:  Oceanic Explorers Sashimi Inc Solutions <br>Max Weight:  1331745","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,166,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":76934970,"x":[24],"y":[19886060],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Nile   Beach Pic Overseas <br>Max Weight:  19886060","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,170,253,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[9],"y":[3151520],"text":"Source:  Greek ermen _ GmbH & Co. KG Brothers <br>Target:  Marmooska Hull Limited Liability Company Solutions <br>Max Weight:  3151520","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,174,249,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[6001595],"text":"Source:  Chuan gou  Ltd Marine ecology <br>Target:  Mar del Este CJSC <br>Max Weight:  6001595","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,178,243,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[48433895],"text":"Source:  AquaFresh Foods BV Solutions <br>Target:  Mar de la Costa LLC Transport <br>Max Weight:  48433895","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,181,237,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":50096890,"x":[10],"y":[3667725],"text":"Source:  Himachal Pradesh   Limited Liability Company <br>Target:  Caracola Azul Oyj & <br>Max Weight:  3667725","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,184,27,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[21],"y":[18858980],"text":"Source:  Olas del Mar Ltd <br>Target:  Lake Victoria Nile    Consulting <br>Max Weight:  18858980","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,184,230,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":15416575,"x":[3],"y":[5134125],"text":"Source:  Caracola de Coral Limited Liability Company Carriers <br>Target:  Caracola de Coral Limited Liability Company Carriers <br>Max Weight:  5134125","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[11],"y":[1758405],"text":"Source:  Ianira Starfish Sagl Import <br>Target:  Kong zhong diao yu  Express Charter Boat  <br>Max Weight:  1758405","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,222,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[11],"y":[2003785],"text":"Source:  Ianira Starfish Sagl Import <br>Target:  Kong zhong diao yu  Express Charter Boat  <br>Max Weight:  2003785","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,222,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":1357440,"x":[6],"y":[49293345],"text":"Source:  Coral del Sur AG Seabass <br>Target:  Coastal Castaway Coast Corporation Worldwide <br>Max Weight:  49293345","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,187,76,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":2025595,"x":[6],"y":[47409810],"text":"Source:  Coral del Sur AG Seabass <br>Target:  Coastal Castaway Coast Corporation Worldwide <br>Max Weight:  47409810","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,187,76,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[11005940],"text":"Source:  Coastal Castaway SRL International <br>Target:  Karnataka  Ltd. Corporation Manatee <br>Max Weight:  11005940","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,188,214,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":1484435,"x":[12],"y":[1866415],"text":"Source:  Icelandic Cod Pier ОАО Transport <br>Target:  Coral Cove BV Delivery <br>Max Weight:  1866415","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,189,92,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":14706115,"x":[16],"y":[4895550],"text":"Source:  Lake Tana  N.V. Enterprises <br>Target:  Coral Cove BV Delivery <br>Max Weight:  4895550","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,189,92,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":5978855,"x":[17],"y":[5303900],"text":"Source:  Manipur  Market Charter Boat  <br>Target:  Costa de la Felicidad Shipping <br>Max Weight:  5303900","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,190,107,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":16848575,"x":[17],"y":[4353700],"text":"Source:  Manipur  Market Charter Boat  <br>Target:  Costa de la Felicidad Shipping <br>Max Weight:  4353700","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,190,107,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":264921760,"x":[13],"y":[2095575],"text":"Source:  Jammu & Kashmir  AB Consultants <br>Target:  Kambala and A/S Shipping <br>Max Weight:  2095575","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,190,205,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":1638640,"x":[12],"y":[3433820],"text":"Source:  Icelandic Cod Pier ОАО Transport <br>Target:  Costa del Sol A/S <br>Max Weight:  3433820","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,120,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":1758405,"x":[11],"y":[2364470],"text":"Source:  Ianira Starfish Sagl Import <br>Target:  Haryana s Sagl Transport <br>Max Weight:  2364470","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":2003785,"x":[11],"y":[2370440],"text":"Source:  Ianira Starfish Sagl Import <br>Target:  Haryana s Sagl Transport <br>Max Weight:  2370440","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":8862320,"x":[7],"y":[4679545],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  Danish Shrimp Kga Solutions <br>Max Weight:  4679545","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,133,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":10418455,"x":[7],"y":[2633430],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  Danish Shrimp Kga Solutions <br>Max Weight:  2633430","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,133,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[6],"y":[1357440],"text":"Source:  Coral del Sur AG Seabass <br>Target:  Fisherman's Best Marine conservation <br>Max Weight:  1357440","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,145,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":6001595,"x":[4],"y":[1619700],"text":"Source:  Chuan gou  Ltd Marine ecology <br>Target:  hǎi mǎ Sagl Express <br>Max Weight:  1619700","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,177,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":2427560,"x":[23],"y":[1901660],"text":"Source:  Scottish Herring BV United <br>Target:  Haikou Ferry Co Marine <br>Max Weight:  1901660","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,187,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[23],"y":[1425480],"text":"Source:  Scottish Herring BV United <br>Target:  Haikou Ferry Co Marine <br>Max Weight:  1425480","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,187,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[10],"y":[1882525],"text":"Source:  Himachal Pradesh   Limited Liability Company <br>Target:  Greek Sea Bass LLC <br>Max Weight:  1882525","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,156,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[14],"y":[33030575],"text":"Source:  Lake Edward  Co United <br>Target:  Greek Sea Bass LLC <br>Max Weight:  33030575","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,156,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":1471745,"x":[16],"y":[15758810],"text":"Source:  Lake Tana  N.V. Enterprises <br>Target:  hǎi dǎn Corporation Wharf <br>Max Weight:  15758810","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,167,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.899999999999999],"base":[0,10506020],"x":[30,16],"y":[4865535,4200095],"text":["Source:  zhāng yú Corp Transport <br>Target:  hǎi dǎn Corporation Wharf <br>Max Weight:  4865535","Source:  Lake Tana  N.V. Enterprises <br>Target:  hǎi dǎn Corporation Wharf <br>Max Weight:  4200095"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,167,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":5072460,"x":[12],"y":[1876225],"text":"Source:  Icelandic Cod Pier ОАО Transport <br>Target:  Bujagali Falls  Pic Family <br>Max Weight:  1876225","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(50,182,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[12],"y":[1484435],"text":"Source:  Icelandic Cod Pier ОАО Transport <br>Target:  Océano de Coral Corporation Express <br>Max Weight:  1484435","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(59,161,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.899999999999999],"base":[0,0],"x":[15,12],"y":[1783945,1638640],"text":["Source:  Lake Kainji  S.p.A. Export <br>Target:  Océano de Coral Corporation Express <br>Max Weight:  1783945","Source:  Icelandic Cod Pier ОАО Transport <br>Target:  Océano de Coral Corporation Express <br>Max Weight:  1638640"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(59,161,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":267017335,"x":[13],"y":[5599660],"text":"Source:  Jammu & Kashmir  AB Consultants <br>Target:  Belgian Shrimps Ocean Corp Holdings <br>Max Weight:  5599660","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(79,180,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[29],"y":[7120730],"text":"Source:  Turkish Mussels S.A. de C.V. Transport <br>Target:  Ola Azul S.A. de C.V. <br>Max Weight:  7120730","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":13541865,"x":[7],"y":[2351315],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  Belgian Shrimps - Company Brothers <br>Max Weight:  2351315","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(100,178,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":13051885,"x":[7],"y":[2131830],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  Belgian Shrimps - Company Brothers <br>Max Weight:  2131830","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(100,178,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[1339625],"text":"Source:  Gambia River   Ltd Shipping <br>Target:  Barents Sea  Brackish Kga Solutions <br>Max Weight:  1339625","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(116,175,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[18],"y":[1421120],"text":"Source:  Mar de Cristalino Beach <br>Target:  Olas del Mar Worldwide <br>Max Weight:  1421120","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(124,150,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[10],"y":[50096890],"text":"Source:  Himachal Pradesh   Limited Liability Company <br>Target:  Olas del Mar Worldwide <br>Max Weight:  50096890","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(124,150,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":1882525,"x":[10],"y":[1327315],"text":"Source:  Himachal Pradesh   Limited Liability Company <br>Target:  Arunachal Pradesh s Brine <br>Max Weight:  1327315","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(130,173,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[27],"y":[2526365],"text":"Source:  The Salty Dog Oyj <br>Target:  Arunachal Pradesh s Brine <br>Max Weight:  2526365","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(130,173,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":20550700,"x":[3],"y":[2646440],"text":"Source:  Caracola de Coral Limited Liability Company Carriers <br>Target:  Arena del Sol BV <br>Max Weight:  2646440","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(143,170,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.899999999999999],"base":[15659445,21202275],"x":[3,17],"y":[3791165,2684350],"text":["Source:  Caracola de Coral Limited Liability Company Carriers <br>Target:  Arena del Sol BV <br>Max Weight:  3791165","Source:  Manipur  Market Charter Boat  <br>Target:  Arena del Sol BV <br>Max Weight:  2684350"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(143,170,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[25],"y":[2315200],"text":"Source:  Seaside Summit Pic Worldwide <br>Target:  Panope Limited Liability Company <br>Max Weight:  2315200","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(145,145,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[25],"y":[2469585],"text":"Source:  Seaside Summit Pic Worldwide <br>Target:  Panope Limited Liability Company <br>Max Weight:  2469585","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(145,145,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":8288505,"x":[15],"y":[1816585],"text":"Source:  Lake Kainji  S.p.A. Export <br>Target:  Aqua Mermaid Corporation Export <br>Max Weight:  1816585","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(154,168,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[22],"y":[2327335],"text":"Source:  Paradera Oyj Marine life <br>Target:  Pao gan SE Seal <br>Max Weight:  2327335","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(163,139,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":42068450,"x":[24],"y":[19926630],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Ancla del Este Merchants <br>Max Weight:  19926630","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(165,165,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":2315200,"x":[25],"y":[2229570],"text":"Source:  Seaside Summit Pic Worldwide <br>Target:  Ancla Azul Transportation Seafaring <br>Max Weight:  2229570","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(174,162,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":50147380,"x":[24],"y":[26787590],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Playa de Arena Submarine S.A. de C.V. Marine <br>Max Weight:  26787590","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(179,133,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[24],"y":[42068450],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Playa de Arena Submarine S.A. de C.V. Marine <br>Max Weight:  42068450","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(179,133,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":10105090,"x":[15],"y":[2177325],"text":"Source:  Lake Kainji  S.p.A. Export <br>Target:  Amerigo S.A. de C.V. <br>Max Weight:  2177325","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(183,159,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":49435405,"x":[6],"y":[19015425],"text":"Source:  Coral del Sur AG Seabass <br>Target:  3 Trawler Corp Distribution <br>Max Weight:  19015425","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(191,156,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":3177625,"x":[17],"y":[2801230],"text":"Source:  Manipur  Market Charter Boat  <br>Target:  Playa de la Luna Incorporated <br>Max Weight:  2801230","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(193,127,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.9],"base":[11245530,0],"x":[17,6],"y":[5603045,2025595],"text":["Source:  Manipur  Market Charter Boat  <br>Target:  Playa de la Luna Incorporated <br>Max Weight:  5603045","Source:  Coral del Sur AG Seabass <br>Target:  Playa de la Luna Incorporated <br>Max Weight:  2025595"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(193,127,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":15893180,"x":[7],"y":[1380835],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  -8003 <br>Max Weight:  1380835","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(199,152,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[19],"y":[9823765],"text":"Source:  Neptune's Harvest GmbH & Co. KG Transit <br>Target:  ReefRider Foods Ltd. Corporation Family <br>Max Weight:  9823765","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(205,121,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[24476700],"text":"Source:  Adriatic Squid Limited Liability Company <br>Target:  ReefRider Foods Ltd. Corporation Family <br>Max Weight:  24476700","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(205,121,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":18858980,"x":[21],"y":[3158475],"text":"Source:  Olas del Mar Ltd <br>Target:  -6969 <br>Max Weight:  3158475","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(206,149,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":50650785,"x":[6],"y":[10232965],"text":"Source:  Coral del Sur AG Seabass <br>Target:  -6944 <br>Max Weight:  10232965","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(213,145,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":68450830,"x":[6],"y":[8207980],"text":"Source:  Coral del Sur AG Seabass <br>Target:  -6944 <br>Max Weight:  8207980","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(213,145,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[22],"y":[3833415],"text":"Source:  Paradera Oyj Marine life <br>Target:  Rufiji Delta  Ltd. Liability Co <br>Max Weight:  3833415","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(216,116,253,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[29],"y":[1422590],"text":"Source:  Turkish Mussels S.A. de C.V. Transport <br>Target:  -6937 <br>Max Weight:  1422590","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,142,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.899999999999999,0.899999999999999],"base":[4266270,4975555,0],"x":[7,15,16],"y":[4596050,3312950,1471745],"text":["Source:  Danish Shrimp Kga Solutions <br>Target:  Sailors and Surfers Incorporated Enterprises <br>Max Weight:  4596050","Source:  Lake Kainji  S.p.A. Export <br>Target:  Sailors and Surfers Incorporated Enterprises <br>Max Weight:  3312950","Source:  Lake Tana  N.V. Enterprises <br>Target:  Sailors and Surfers Incorporated Enterprises <br>Max Weight:  1471745"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(225,111,248,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":5771915,"x":[7],"y":[4646540],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  Sailors and Surfers Incorporated Enterprises <br>Max Weight:  4646540","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(225,111,248,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":76658810,"x":[6],"y":[2243670],"text":"Source:  Coral del Sur AG Seabass <br>Target:  -6934 <br>Max Weight:  2243670","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(225,138,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":3209840,"x":[10],"y":[1660925],"text":"Source:  Himachal Pradesh   Limited Liability Company <br>Target:  -6608 <br>Max Weight:  1660925","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(231,134,25,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[23],"y":[2427560],"text":"Source:  Scottish Herring BV United <br>Target:  Saltwater Sizzle Co Carriers <br>Max Weight:  2427560","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(233,106,242,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":4776435,"x":[8],"y":[6160450],"text":"Source:  Gambia River   Ltd Shipping <br>Target:  -6600 <br>Max Weight:  6160450","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(236,130,57,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":1675845,"x":[7],"y":[2590425],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  Saltwater Supreme Pelican Ltd Enterprises <br>Max Weight:  2590425","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(239,103,235,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":2110945,"x":[7],"y":[3660970],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  Saltwater Supreme Pelican Ltd Enterprises <br>Max Weight:  3660970","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(239,103,235,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":3350850,"x":[12],"y":[2996800],"text":"Source:  Icelandic Cod Pier ОАО Transport <br>Target:  -54 <br>Max Weight:  2996800","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(240,126,77,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":6948685,"x":[12],"y":[2887130],"text":"Source:  Icelandic Cod Pier ОАО Transport <br>Target:  -54 <br>Max Weight:  2887130","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(240,126,77,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[26],"y":[2117170],"text":"Source:  Selous Game Reserve  A/S <br>Target:  -37 <br>Max Weight:  2117170","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(244,122,94,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[26],"y":[2302445],"text":"Source:  Selous Game Reserve  A/S <br>Target:  -37 <br>Max Weight:  2302445","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(244,122,94,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[7],"y":[1675845],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  Saltwater Supreme ОАО Forwading <br>Max Weight:  1675845","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(245,100,227,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[7],"y":[2110945],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  Saltwater Supreme ОАО Forwading <br>Max Weight:  2110945","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(245,100,227,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":15183715,"x":[7],"y":[1381450],"text":"Source:  Danish Shrimp Kga Solutions <br>Target:  -2951 <br>Max Weight:  1381450","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":259086370,"x":[13],"y":[5835390],"text":"Source:  Jammu & Kashmir  AB Consultants <br>Target:  Sea Breeze Corporation Marine sanctuary <br>Max Weight:  5835390","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(249,98,219,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[17],"y":[3177625],"text":"Source:  Manipur  Market Charter Boat  <br>Target:  West Bengal  Cargo Seafarer <br>Max Weight:  3177625","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(251,114,123,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[17],"y":[3178730],"text":"Source:  Manipur  Market Charter Boat  <br>Target:  West Bengal  Cargo Seafarer <br>Max Weight:  3178730","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(251,114,123,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[3],"y":[15416575],"text":"Source:  Caracola de Coral Limited Liability Company Carriers <br>Target:  Sea Spray Ltd. Liability Co Marine <br>Max Weight:  15416575","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(253,97,211,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.899999999999999],"base":[0,3178730],"x":[3,17],"y":[15659445,8066800],"text":["Source:  Caracola de Coral Limited Liability Company Carriers <br>Target:  Sea Spray Ltd. Liability Co Marine <br>Max Weight:  15659445","Source:  Manipur  Market Charter Boat  <br>Target:  Sea Spray Ltd. Liability Co Marine <br>Max Weight:  8066800"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(253,97,211,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[21],"y":[1926400],"text":"Source:  Olas del Mar Ltd <br>Target:  Vespuci Sagl Marine sanctuary <br>Max Weight:  1926400","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(253,111,136,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[15],"y":[4975555],"text":"Source:  Lake Kainji  S.p.A. Export <br>Target:  SeaBass Company Tilapia OJSC United <br>Max Weight:  4975555","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,97,202,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[28],"y":[1810340],"text":"Source:  Tshimbua Ltd. Corporation Marine <br>Target:  Seaside Summit S.A. de C.V. <br>Max Weight:  1810340","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,98,192,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[16],"y":[10506020],"text":"Source:  Lake Tana  N.V. Enterprises <br>Target:  Spanish Anchovy CJSC Marine <br>Max Weight:  10506020","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,99,182,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[13],"y":[271068345],"text":"Source:  Jammu & Kashmir  AB Consultants <br>Target:  Tamil Nadu   Corporation Compass <br>Max Weight:  271068345","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,101,171,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[13],"y":[259086370],"text":"Source:  Jammu & Kashmir  AB Consultants <br>Target:  Tamil Nadu   Corporation Compass <br>Max Weight:  259086370","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,101,171,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[4776435],"text":"Source:  Gambia River   Ltd Shipping <br>Target:  The Sea Turtle GmbH & Co. KG <br>Max Weight:  4776435","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,104,160,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[24],"y":[50147380],"text":"Source:  Sea Striders Mudflat GmbH Forwading <br>Target:  Uttarakhand  Market Limited Liability Company Nautical <br>Max Weight:  50147380","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,107,148,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":54.9649923896499,"r":7.30593607305936,"b":331.93302891933,"l":54.7945205479452},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Weightkg Values for Top 100 Source-Target Pairs (Jul-Aug 2033)","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,0.493150684931507],"automargin":true,"type":"linear","autorange":false,"range":[0.4,30.6],"tickmode":"array","ticktext":["Adriatic Squid Limited Liability Company","AquaFresh Foods BV Solutions","Caracola de Coral Limited Liability Company Carriers","Chuan gou  Ltd Marine ecology","Coastal Castaway SRL International","Coral del Sur AG Seabass","Danish Shrimp Kga Solutions","Gambia River   Ltd Shipping","Greek ermen _ GmbH & Co. KG Brothers","Himachal Pradesh   Limited Liability Company","Ianira Starfish Sagl Import","Icelandic Cod Pier ОАО Transport","Jammu & Kashmir  AB Consultants","Lake Edward  Co United","Lake Kainji  S.p.A. Export","Lake Tana  N.V. Enterprises","Manipur  Market Charter Boat ","Mar de Cristalino Beach","Neptune's Harvest GmbH & Co. KG Transit","Oceanic Explorers Sashimi Inc Solutions","Olas del Mar Ltd","Paradera Oyj Marine life","Scottish Herring BV United","Sea Striders Mudflat GmbH Forwading","Seaside Summit Pic Worldwide","Selous Game Reserve  A/S","The Salty Dog Oyj","Tshimbua Ltd. Corporation Marine","Turkish Mussels S.A. de C.V. Transport","zhāng yú Corp Transport"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],"categoryorder":"array","categoryarray":["Adriatic Squid Limited Liability Company","AquaFresh Foods BV Solutions","Caracola de Coral Limited Liability Company Carriers","Chuan gou  Ltd Marine ecology","Coastal Castaway SRL International","Coral del Sur AG Seabass","Danish Shrimp Kga Solutions","Gambia River   Ltd Shipping","Greek ermen _ GmbH & Co. KG Brothers","Himachal Pradesh   Limited Liability Company","Ianira Starfish Sagl Import","Icelandic Cod Pier ОАО Transport","Jammu & Kashmir  AB Consultants","Lake Edward  Co United","Lake Kainji  S.p.A. Export","Lake Tana  N.V. Enterprises","Manipur  Market Charter Boat ","Mar de Cristalino Beach","Neptune's Harvest GmbH & Co. KG Transit","Oceanic Explorers Sashimi Inc Solutions","Olas del Mar Ltd","Paradera Oyj Marine life","Scottish Herring BV United","Sea Striders Mudflat GmbH Forwading","Seaside Summit Pic Worldwide","Selous Game Reserve  A/S","The Salty Dog Oyj","Tshimbua Ltd. Corporation Marine","Turkish Mussels S.A. de C.V. Transport","zhāng yú Corp Transport"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":"Source","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-314.155251141553},{"text":"Max Weightkg","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-39.4520547945206},{"text":"Jul","x":0.246575342465753,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Aug","x":0.753424657534247,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-13630849.75,286247844.75],"tickmode":"array","ticktext":["0e+00","1e+08","2e+08"],"tickvals":[0,100000000,200000000],"categoryorder":"array","categoryarray":["0e+00","1e+08","2e+08"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.493150684931507,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.493150684931507,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.506849315068493,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.506849315068493,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[0.4,30.6],"tickmode":"array","ticktext":["Adriatic Squid Limited Liability Company","AquaFresh Foods BV Solutions","Caracola de Coral Limited Liability Company Carriers","Chuan gou  Ltd Marine ecology","Coastal Castaway SRL International","Coral del Sur AG Seabass","Danish Shrimp Kga Solutions","Gambia River   Ltd Shipping","Greek ermen _ GmbH & Co. KG Brothers","Himachal Pradesh   Limited Liability Company","Ianira Starfish Sagl Import","Icelandic Cod Pier ОАО Transport","Jammu & Kashmir  AB Consultants","Lake Edward  Co United","Lake Kainji  S.p.A. Export","Lake Tana  N.V. Enterprises","Manipur  Market Charter Boat ","Mar de Cristalino Beach","Neptune's Harvest GmbH & Co. KG Transit","Oceanic Explorers Sashimi Inc Solutions","Olas del Mar Ltd","Paradera Oyj Marine life","Scottish Herring BV United","Sea Striders Mudflat GmbH Forwading","Seaside Summit Pic Worldwide","Selous Game Reserve  A/S","The Salty Dog Oyj","Tshimbua Ltd. Corporation Marine","Turkish Mussels S.A. de C.V. Transport","zhāng yú Corp Transport"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],"categoryorder":"array","categoryarray":["Adriatic Squid Limited Liability Company","AquaFresh Foods BV Solutions","Caracola de Coral Limited Liability Company Carriers","Chuan gou  Ltd Marine ecology","Coastal Castaway SRL International","Coral del Sur AG Seabass","Danish Shrimp Kga Solutions","Gambia River   Ltd Shipping","Greek ermen _ GmbH & Co. KG Brothers","Himachal Pradesh   Limited Liability Company","Ianira Starfish Sagl Import","Icelandic Cod Pier ОАО Transport","Jammu & Kashmir  AB Consultants","Lake Edward  Co United","Lake Kainji  S.p.A. Export","Lake Tana  N.V. Enterprises","Manipur  Market Charter Boat ","Mar de Cristalino Beach","Neptune's Harvest GmbH & Co. KG Transit","Oceanic Explorers Sashimi Inc Solutions","Olas del Mar Ltd","Paradera Oyj Marine life","Scottish Herring BV United","Sea Striders Mudflat GmbH Forwading","Seaside Summit Pic Worldwide","Selous Game Reserve  A/S","The Salty Dog Oyj","Tshimbua Ltd. Corporation Marine","Turkish Mussels S.A. de C.V. Transport","zhāng yú Corp Transport"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.506849315068493,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","width":800,"height":600,"barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2ec0391e3e7d":{"x":{},"y":{},"fill":{},"text":{},"type":"bar"}},"cur_data":"2ec0391e3e7d","visdat":{"2ec0391e3e7d":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>From these two charts, there is one main source node pair suspect we should closely examine: ‘Jammu &amp; Kashmir AB consultants’ and ‘Tamil Nadu Coporation Compass’ . This pair of company has an extremely high weightkg in all months when there is a irregularity, in fact, it always has the top weightkg in the irregular months while low in those with a without, matching pattern of illegal fishing.</p>
</section>
<section id="jammu-kashmir-ab-consultants-and-tamil-nadu-coporation-compass-associated-companies" class="level2">
<h2 class="anchored" data-anchor-id="jammu-kashmir-ab-consultants-and-tamil-nadu-coporation-compass-associated-companies">‘Jammu &amp; Kashmir AB consultants’ and ‘Tamil Nadu Coporation Compass’ associated companies</h2>
<p>Let’s create a table to see other nodes which have ‘Jammu &amp; Kashmir AB consultants’ and ‘Tamil Nadu Coporation Compass’ as source or a target node.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify the company names to search for</span></span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a>company_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Jammu &amp; Kashmir  AB Consultants'</span>, <span class="st">'Tamil Nadu   Corporation Compass'</span>)</span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-4"><a href="#cb182-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-5"><a href="#cb182-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for rows where the source or target matches the company names</span></span>
<span id="cb182-6"><a href="#cb182-6" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(MC2_edges, source <span class="sc">%in%</span> company_names <span class="sc">|</span> target <span class="sc">%in%</span> company_names)</span>
<span id="cb182-7"><a href="#cb182-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-8"><a href="#cb182-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distinct sources and targets from the filtered data</span></span>
<span id="cb182-9"><a href="#cb182-9" aria-hidden="true" tabindex="-1"></a>distinct_sources <span class="ot">&lt;-</span> <span class="fu">distinct</span>(filtered_data, source) <span class="sc">%&gt;%</span></span>
<span id="cb182-10"><a href="#cb182-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">node =</span> source)</span>
<span id="cb182-11"><a href="#cb182-11" aria-hidden="true" tabindex="-1"></a>distinct_targets <span class="ot">&lt;-</span> <span class="fu">distinct</span>(filtered_data, target) <span class="sc">%&gt;%</span></span>
<span id="cb182-12"><a href="#cb182-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">node =</span> target)</span>
<span id="cb182-13"><a href="#cb182-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-14"><a href="#cb182-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the distinct sources and targets</span></span>
<span id="cb182-15"><a href="#cb182-15" aria-hidden="true" tabindex="-1"></a>distinct_nodes <span class="ot">&lt;-</span> distinct_sources <span class="sc">%&gt;%</span> <span class="fu">bind_rows</span>(distinct_targets)</span>
<span id="cb182-16"><a href="#cb182-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-17"><a href="#cb182-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the distinct sources and targets</span></span>
<span id="cb182-18"><a href="#cb182-18" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(distinct_nodes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-37df3f8eca5d8ab205d5" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-37df3f8eca5d8ab205d5">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584"],["Selous Game Reserve  S.A. de C.V.","Coral del Sur AG Seabass","Punjab s Marine conservation","Playa de Arena Submarine S.A. de C.V. Marine","Baltic Sprat Corp Roe","Tamil Nadu   Corporation Compass","Náutica del Sol SE","Lake Tana  N.V. Enterprises","Makumba Ltd. Liability Co","Orange River   GmbH &amp; Co. KG Shipping","Bahía de Coral Pic Cargo","Caracola del Este AG","Zambezi Gorge  N.V. Transport","Assam   Limited Liability Company","Beach Breakers Ltd. Corporation Marine conservation","Mar de Plata SRL","Amerigo S.A. de C.V.","Saltwater Symphony S.A. de C.V.","Jammu &amp; Kashmir  AB Consultants","Mar de Coral CJSC","Tshikwea Ltd. Liability Co","Mar y Luna Sagl","Manipur  Market Ltd. Corporation Solutions","The Salty Dog Logistics Leska","Lake Nakuru  Kga Logistics","bǐ mù yú Sagl Distribution","Niger River Delta  Oyster ","Caracola Marina Merchants Deep-sea","Coral Cove BV Brothers","Elara Ltd. Liability Co","suō yú Incorporated Brothers","nián yú Ltd. Corporation","Fresh Limited Liability Company","Marine Masterminds Dry dock","Pez Dorado Plc Seaport","Coastal Cruisers Pic Shipping","Saltwater Solitude Company Worldwide","Rift Valley fishery Oyj","OceanFront Foods SRL Line","Congo Rapids   Pier CJSC Services","Aqua Aura SE Marine life","Ethiopian Highlands  Kga Services","Limpopo River  Ltd. Corporation","Vleikurper S.A. de C.V.","Italian Anchovy LC Delivery","Uttar Pradesh s AG","Tshimbua Seagrass ОАО Holdings","Uttar Pradesh s CJSC","Estrella de Mar Consultants -","Barents Sea Cod Corp Marine","Norwegian Salmon ОАО Express","River Gambia  Brine Pic Express","Jammu &amp; Kashmir Sea  LLC Shipping","Selous Game Reserve  A/S","Coral Cove Limited Liability Company Solutions","Mar de la Vida Krill","Costa del Sol AS Shipping","Caracola del Sol Ltd and Son's","Lake Motoso  Sagl Brothers","Nagaland Sea Catch Ltd. Liability Co Logistics","Ola de la Costa N.V.","Barents Sea Cod CJSC Export","Océano del Este AG Worldwide","Fin Addiction Ltd Line","Olas del Sur AG","Sparrman's bream Co Marine","Chituku Ltd. Liability Co Transport","9 Limited Liability Company","Red Sea  N.V. Transport","2 Limited Liability Company","Malabar Sea Catch S.A. de C.V. Transport","Lake Edward  BV Marine conservation","Yu er he  Bonito","Madagascar Coast  Kga Marine sanctuary","Tamil Nadu  Market Incorporated","Costa de la Felicidad United","Ola del Mar S.A. de C.V.","Jammu Ltd. Liability Co","Mar de Estrellas Incorporated","Olas del Sur OJSC Solutions","Coral Reef Ray Company Worldwide","Jharkhand  Ltd. Liability Co Worldwide","Chuan gou  Ltd Marine ecology","Maharashtra ers Incorporated Express","South Sashimi GmbH Cargo","Jammu &amp; Kashmir  Inc Shipping","Karnataka s Company Logistics","BlueTide N.V. Marine conservation","Fisherman's Bounty Pic Transport","The Salty Pearl LC","Caracola del Mar LC","Mar del Norte SE Investment","Northeast Sea S.p.A. Marine","Sea Breeze Sagl Oceanfront","Madagascar   Ltd. Corporation Express","Costa de la Felicidad AG","Black Sea Carp Sagl","Thoho Limited Liability Company","Caspian Sea   Corporation Transportation","Oceanic Oasis Co Transit","Dutch Mussels Tidepool ОАО Express","Selous Game Reserve  Sp Distribution","Himachal Pradesh   Co Transport","Portuguese Tuna A/S Cargo","Océano del Este Tanker","jīng GmbH &amp; Co. KG","Saltwater Sanctuary Company Cargo","Uttarakhand   Charter Boat  Ges.m.b.H. Freight ","Seashell s  Kga Merchants","Saltwater Solutions S.p.A. Express","Arawak Ltd. Liability Co","North Atlantic  BV Transit","CoralCove Company Marine ecology","Scottish Herring Lighthouse LLC Solutions","Oceanica SRL Marine biology","Nazhivka Limited Liability Company","Arena del Sol Incorporated","jīng Coral LLC Carriers","Mediterranean s S.A. de C.V. Industrial","OOO GmbH &amp; Co. KG Carriers","Mar de la Luna Ltd. Corporation","Wave Watchers Ltd. Liability Co","French  Seabed S.p.A. Forwading","Caracola del Este Corporation Express","Bahía de Plata BV","Seafaring Souls Pic Services","Greek Sea Bass Co","Benguela Current   GmbH Carriers","Jiangxi Green  Oyj Carriers","Isla del Tesoro SE Transport","Mar de Cristalino Beach","Rift Valley fishery Sagl","Icelandic Shrimp GmbH Logistics","Blue Water Ventures Investment","Cameroon Estuary  Cargo ship","Mar de Plata Ltd. Liability Co","Mar del Oeste SRL","Atlantic Ocean Coast  CJSC","Green Valley Sailor BV Line","Arunachal Pradesh s Inc River","Maharashtra   Compass Ltd. Liability Co Transportation","Mar de la Luz Plc","SeaSplash Foods Ferry NV Transport","Saharan Coast  Trawler SE Marine sanctuary","bái suō wěn lú Sandbar","Oceanic Oracle GmbH &amp; Co. KG","Mar de Plata Plc","Water World LLC Express","Italian Sardines NV Lock","Niger Bend   Nautilus Company United","Richard S.A. de C.V. Solutions","Mar de la Costa ОАО","Perla del Mar Kga","Kilimanjaro fishery Salmon GmbH Logistics","Henan Swordfish Ltd Delivery","Bahía del Sol ОАО","Costa del Viento NV","Bu yu wang AG","Seashell Seekers Ltd. Corporation Transit","Wave Watchers Underwater Ltd. Corporation Solutions","Mar del Oeste Transport","Water Wonders Tidepool Ltd Holdings","Spanish Shrimp S.A. de C.V.","Bahía del Sol CJSC","Estrella del Sol Corporation Consulting","Costa del Mar Limited Liability Company","Shou gan  Oyj Overseas","Coastal Castaway SRL International","Turkish Salmon Ltd. Liability Co Transit","Adriatic Tuna AS Solutions","Sea Shanty S.A. de C.V. Worldwide","Neptune's Harvest A/S Hijiki","SeaSplash Starfish AB Delivery","shí rén yú Limited Liability Company","Ob River SE Transport","Greek Sea Bass Inc Transport","The Salted Pearl ОАО","Angrapa Compass AB Solutions","Brisa del Este Brine","Portuguese Sardines International -","Himachal Pradesh   AG Shipping","Casablanca Coast  Flounder Oyj Line","xiǎo xiā Oyj Marine ecology"," Direct Shark Oyj Marine sanctuary","Seaside Sojourns Creek N.V. Transit","Lake Motoso  Ltd Marine","Orange River   AB &amp; Son's","Makumba Limited Liability Company","Olas del Mar Cargo ship","Nile Crocodile  LLC Delivery","Deep Sea Divers S.p.A. Marine","Mar del Placer Wave","Ocean Odyssey Sp &amp; Son's","Madagascar Coast  Anchor Inc Carriers","Mar Azul Salt spray Corporation United","Saltwater Serenity Inc Caviar","Pregolya Ltd. Liability Co","Ola del Este BV","Arena del Sol SRL","xún yú Oyj Navigation","Playa del Mar Limited Liability Company","North Atlantic  Co United","BlueWaterBites Ltd. Liability Co Services","Costa del Mar S.A. de C.V.","Marine Magic Corp Import","Selous Game Reserve  NV Tidal flat","OceanFront Delights OJSC Tidepool","Deep Blue S.p.A. Marine life","Halie Ltd. Liability Co Delivery","Tangier Coast  Plc Transportation","Ocean Outfitters Ray N.V. Export","La gan  ОАО Freight ","Neptune's Harvest AS Coral","Oceanic Oracle GmbH America","Greek Octopus Ltd. Corporation","Simien Mountains   Ltd. Liability Co","Aqua Mermaid Hijiki Ltd Overseas","Mar y Luna GmbH","Dutch Oyster Pic Delivery","FinAddict GmbH &amp; Co. KG","Danish Mackerel Ltd. Corporation","Ancla de Oro Ferry","Sea Breeze Kga Forwading","Scottish Trout Ltd Holdings","TunaTreat Ltd. Corporation Shipping","Atlantic Ocean Coast  Inc &amp; Son's","Monarch Ltd. Liability Co","Estrella de la Costa Inc -","Surfside  Limited Liability Company Freight ","Gulf of Tadjoura  Oyj Marine","Zambezi Rapids  Brine Oyj Carriers","Diao yu  BV Logistics","Scottish Herring Marine conservation BV Logistics","7 GmbH &amp; Co. KG","Danish Plaice Ltd. Liability Co Logistics","Coral del Sur Wharf SRL Logistics","Mar de la Aventura Kga","Brisa del Mar Co Express","Lake Victoria Catch  BV","Portuguese Tuna Incorporated Carriers","Playa de Coral OJSC","Ola de la Costa Co Transportation","Limpopo River  AB Consultants","Náutica del Este Enterprises","Tangier Coast  Incorporated Delivery","Atlantic Ocean Coast  S.A. de C.V. United","Ianira Ltd. Liability Co","Fisherman's Best SE Marine biology","Pradesh   Hull S.A. de C.V. Transit","Caracola del Sol Ltd. Liability Co","Sea Striders Plc Barge","Zambezi Rapids  Plc Holdings","Tripura  Market AG Marine","Congo Basin  Bonito Ltd. Liability Co Brothers","Icelandic Shrimp Breakwater Inc Brothers","Lake Nasser  NV Delivery","Turkish Calamari Limited Liability Company Brothers","Arunachal Pradesh s AS Marine sanctuary","The Salted Pearl Plc","Mar de Cristal Ltd. Liability Co","Surf's Up  Corporation United","Kerala  Market OJSC United","Faroe Islands Halibut Forwading","Tamil Nadu  Market OJSC Whale","Olas del Mar Solutions","Portuguese Cuttle GmbH Freight ","Faroe Islands Shrimp AS","Ancla del Este Plc Industrial","Ancla Marina Coast Incorporated Solutions","Mar de la Felicidad Rybachit","The Sea Lion N.V. Cargo","Elara Hull Inc Family","Mar de la Luna Company","West Bengal   Ltd Pelican","Playa de Coral Distribution Marine sanctuary","Costa del Sol AB Industrial","Saltwater Supreme S.A. de C.V.","Mar de la Costa Sagl","Mar del Paraíso Corporation","Coral Azul GmbH Logistics","Norwegian Haddock Limited Liability Company","Himachal Pradesh  BV Shipping","Playa de Arena NV Logistics","Bahía de Plata LC","Coastal Currents Underwater Inc International","Seafaring Souls - AS Consulting","Costa de la Felicidad Seaport ОАО Consultants","jīn qiāng yú Kga Pelican","Mar del Caribe Sp","Baltic Flounder GmbH &amp; Co. KG","SeaSelect Nautilus Limited Liability Company Marine ecology","Senegal Coast  Whale Ges.m.b.H. Marine","West S.A. de C.V.","jīn qiāng yú Corp America","Playa Azul Ltd. Liability Co Forwading","Neptune's Realm S.A. de C.V.","Mar de la Vida S.A. de C.V.","Wave Watchers Chart GmbH Holdings","Casablanca Coast  Corp Line","Coastal Castaway SRL Line","Playa Blanca LC Solutions","biān yú Incorporated Delivery","hǎi tún AS Industrial","Kilwa Coast  Coast NV Delivery","Lake Tana  Marine life","Belgian Lobster Inc -","Italian Anchovy Sp Line","Oranjestad Limited Liability Company","Lake Kivu   NV Solutions","Orange River   Ltd Logistics","Lake Malawi  S.A. de C.V. Transport","SaltSea Corp and Son's","Punjab Sea  S.A. de C.V.","Donald Sp &amp; Son's","Shipping S.A. de C.V.","Black Sea Tuna S.A. de C.V. Logistics","Senegal Coast  Incorporated Transport","Mar de Cielo NV","Marine Mates Pic Delivery","Mar de Cristalino Trout Ltd. Corporation Marine ecology","Mar del Oeste Corp Transportation","Salt WaterCo Cargo  Kga Transit","Gulf of Guinea   LC","Diao er  NV Transit","Greek Mackerel GmbH &amp; Co. KG","Bihar  OJSC Coral Reef","Lake Victoria Nile    Sailboat Company Express","Aqua Adventures S.A. de C.V. Cargo","3 S.A. de C.V.","Dutch Herring N.V. Worldwide","S.A. de C.V. AG","Uttarakhand  Market Incorporated Merchants","Tamil Nadu s Mudflat","Starfish GmbH &amp; Co. KG","Punjab  Market S.A. de C.V. Investment","Ola de la Costa Ges.m.b.H.","Caracola Marina Corp Family","Danish Lobster Kga Motorboat","Mar del Este N.V.","Adair Corporation Marine biology","Tristen Jetty Company Solutions","Malawi Rift   S.A. de C.V. Express","Greek Octopus Tuna Corp Logistics","Neptune's Bounty Line Seaport","Fisherman's Bounty AG Solutions","Greek Sea Bass SRL","Mar y Luna Kga","Shou gan  CJSC Surf","Tripura  Marina Sp Cargo","Madhya Pradesh  Market Cargo &amp;","Playa del Cielo ОАО","Fan er  Ltd. Liability Co","Mar de Cielo S.A. de C.V. Manatee","Estrella del Mar Marine ecology","Green Valley &amp; SRL &amp; Son's","ReefRider Foods Aquamarine Sp Shipping","Rajasthan  Limited Liability Company","Victoria Falls   Pier Corp Solutions","9 Marine mist Pic Express","Náutica del Norte ОАО","Karnataka Sea  Ltd Marine biology","Fisherman's Pride - AS International","Saltwater Sizzle Ges.m.b.H. Worldwide","Mar y Luna N.V.","Barco de Plata GmbH &amp; Co. KG","West NV and Son's","Playa de Arena Corp Logistics","Russian River Ltd. Corporation Investment","Dutch Mussels N.V. Transportation","Zambezi Delta  Inc Brothers","Coral Azul Ltd. Corporation","Playa de la Luna Cargo ","Mar del Oeste S.p.A. United","Coral Azul BV Marine ecology","Ocean Explorers Corporation Marine","Seashell Sanctum Company Logistics","Portuguese Tuna Plc Family","Yu er he  Company","Brisa del Este -","The Sea Turtle OJSC","Zambezi Escarpment  Limited Liability Company Marine ecology","Ocean Oasis Ltd Brothers","Sea Striders Ltd Seabreeze","Niger River Delta  AB Freight ","Mar del Paraíso Limited Liability Company","Ola del Este Inc","Kilimajaro Slopes   Incorporated and Son's","Icelandic Oysters S.A. de C.V. Lighthouse","Caspian Sea   Sea spray","Ancla del Mar Pic Worldwide","Arawak Pelican Ltd. Liability Co and Son's","Mar de la Luz Incorporated","Odisha  Marine conservation ОАО Transit","Norwegian King Crab S.A. de C.V.","Kambala Wave NV Industrial","Coral del Sur Export","Brisa Marina Ltd. Liability Co and Son's","The Salty Dog Company","Coral Azul GmbH &amp; Co. KG Services","Wave Watchers S.p.A. Import","Manipur  Market Ltd. Liability Co Transport","Saltwater Surf Club Ltd. Liability Co Transport","jīng GmbH &amp; Co. KG Brothers","Olas del Mar S.p.A.","Gulf of Tadjoura  Plc","Tamil Nadu   Corporation Compass","SouthSeafood Express Corp","Surf and Sand Sagl","Transport Limited Liability Company","Sailors and Surfers Incorporated Enterprises","Isla Azul GmbH &amp; Co. KG","Jammu &amp; Kashmir  AB Consultants","Belgian Shrimps - Company Brothers","Kambala and A/S Shipping","Océano de Coral Corporation Express","Ola Marina Company Line","Caracola del Sol Services","Marine Mates NV Worldwide","Coral Cove BV Delivery","Caracola Azul Oyj &amp;","Saltwater Supreme ОАО Forwading","Nazhivka &amp; A/S Transport","-6586","lú yú A/S Shipping","Arunachal Pradesh s A/S Transport","Fisherman's Best Marine conservation","-15188","Estrella del Mar N.V. United","hǎi dǎn Corporation Wharf","Lake Tana  N.V. Enterprises","Pao gan SE Seal","-6596","jīn qiāng yú AG Oceanography","French  Estuary Kga Marine biology","-54","Cape Verde Islands  Catchers GmbH &amp; Co. KG Shipping","Costa de la Felicidad Shipping","-8257","Coastal Castaway Coast Corporation Worldwide","Estrella del Sol Buoy","-6585","Black Sea Tuna Snapper","Seaside Summit S.A. de C.V.","Selous Game Reserve  A/S","Arena de Coral SE","Sea Striders Mudflat GmbH Forwading","Mandalore S.A. de C.V. Logistics","-15190","Saltwater Supreme Pelican Ltd Enterprises","Gujarat ers LLC Transport","Coral Coast GmbH Shipyard","Fisherman's Bounty Corp Marine","Playa de Arena OJSC","Cape of Good Hope   S.p.A.","Rift Valley fishery Inc","Caracola Azul Ltd. Corporation","AtlanticAppetite Oyster  Ltd. Corporation Investment","Arunachal Pradesh s Brine","Mar del Este CJSC","Mar del Placer Manatee","Angrapa Ltd. Liability Co Export","Portuguese Tuna Incorporated Marine","Océano del Este Sagl Shipping","Sea Breeze Sagl Oceanfront","Zambezi Rapids  OJSC Forwading","Beach Breakers Ltd. Corporation Marine conservation","The Salted Pearl Sagl Transit","Costa de la Felicidad BV","Lake Victoria Nile    Sea spray","Lake Victoria Catch  Limited Liability Company Freight ","French Hake Cargo ship Sagl Services","Niger River Delta  Oyster ","Mar de Plata BV Marine","3 Oceanography ОАО Marine life","Turkish Sword S.A. de C.V. Trout","Playa de Arena Submarine S.A. de C.V. Marine","Panope Limited Liability Company","Náutica del Sol Corporation","Belgian Scallop S.A. de C.V.","Benguela Current   GmbH Carriers","-9606","Ancla del Mar Sandbar","Portuguese Tuna Bonito Kga Consultants","Kong zhong diao yu  Ges.m.b.H.","-6590","Caracola del Este Plc","Madagascar Coast  AG Freight ","-19799","Russian River Coral Reef Ltd. Corporation Express","Surf  Tidal Ltd. Liability Co International","OceanicOrigin Ltd. Corporation Investment","Brisa del Mar GmbH","jīn qiāng yú SRL","SeaTrek Sashimi ОАО Marine","Oceanic Opportunities CJSC Marine","SeaSplash Foods Company Brine","The Sea Turtle GmbH &amp; Co. KG","West Bengal  Marine ecology","Punjab  Market Ltd. Corporation","Dry Creek Company Services","Beach Bums Estuary SE Merchants","John Aquatic Kga Transit","lú yú GmbH &amp; Co. KG","-17858","-1457","SeaTree Ltd. Liability Co Holdings","Kariba Dam   Saltwater Corp Express","Tamil  Nautilus CJSC Consulting","Brisa del Mar Plc","Punjab s A/S Marine","Gujarat  S.A. de C.V.","Costa del Viento Ltd","Irish Scallop Corporation Transport","Mar de la Luna Ltd. Corporation Worldwide","Ocean Outfitters Ges.m.b.H. Dredge","-6925","Mar de la Vida LC","Brisa del Mar CJSC International","Tide Turners S.A. de C.V. Marine","jīn qiāng yú OJSC","Togo  S.A. de C.V.","Ancla de Oro Kga Import","-6851","Ocean Outfitters Brine AB Express","Black Sea Tuna Kga Line","-16714","Vespuci Ltd. Liability Co","SeaSpray Marine biology Ltd Distribution","-6933","Irish Sea  Salt spray","Finests  S.A. de C.V.","Dutch  Ltd. Liability Co Consultants","Water Wonders AG Transport","Brisa del Mar LC","-12287","-6924","-21347","Aquatic Adventures Sagl Delivery","Coastal Currents GmbH Line","Wave Riders Port S.A. de C.V. Transport","Kilimanjaro fishery Ltd. Corporation Carriers","bǐ mù yú A/S Shipping","Sea Breeze Corporation Marine sanctuary","Diao yu bi sai  Co","-6951","Karnataka s OJSC Consultants","Meghalaya  Marine GmbH &amp; Co. KG Import","Drakensberg  S.A. de C.V. Marine ecology","-6943","Mar de Cielo Delivery","páng xiè S.A. de C.V. Line","-20462","Karnataka s LC Line","-8779","Leska GmbH &amp; Co. KG","SeaLion Marine AG Express","French Crab AG Express","Mar de Plata SRL","TunaTreat Company Marine sanctuary","Mar de la Vida SRL","Belgian Shrimps Ocean Corp Holdings","-12295","Jammu &amp; Kashmir  Corporation United","-4721","-12296","-12293","hǎi mǎ Sagl Express","Chituku Roe Corp Import","Spanish Anchovy CJSC Marine","Surf's Up s Seaport","Adriatic Tuna Pic Express","Icelandic Oysters _ BV United","Greek ermen Plc Marine sanctuary","Green Valley S.A. de C.V. Carriers","Gujarat   S.A. de C.V.","Ancla Azul Transportation Seafaring","Uttar Pradesh s CJSC","Tide Turners Transport Sextant","-18516","-18513","Estrella de la Costa Ltd Trawler","Greek Sea Bass LLC","Playa Blanca Sagl Shipping","AquaDelicious S.A. de C.V. Overseas"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>node<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="network-chart-of-the-pair" class="level2">
<h2 class="anchored" data-anchor-id="network-chart-of-the-pair">Network chart of the pair</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify the company names to search for</span></span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a>company_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Jammu &amp; Kashmir  AB Consultants'</span>, <span class="st">'Tamil Nadu   Corporation Compass'</span>)</span>
<span id="cb183-3"><a href="#cb183-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-4"><a href="#cb183-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for rows where the source or target matches the company names</span></span>
<span id="cb183-5"><a href="#cb183-5" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb183-6"><a href="#cb183-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">%in%</span> company_names <span class="sc">|</span> target <span class="sc">%in%</span> company_names) <span class="sc">%&gt;%</span></span>
<span id="cb183-7"><a href="#cb183-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source, target) <span class="sc">%&gt;%</span></span>
<span id="cb183-8"><a href="#cb183-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">width =</span> <span class="fu">sum</span>(weightkg)) <span class="sc">%&gt;%</span></span>
<span id="cb183-9"><a href="#cb183-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb183-10"><a href="#cb183-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb183-11"><a href="#cb183-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-12"><a href="#cb183-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distinct sources and targets from the filtered data</span></span>
<span id="cb183-13"><a href="#cb183-13" aria-hidden="true" tabindex="-1"></a>distinct_sources <span class="ot">&lt;-</span> filtered_data <span class="sc">%&gt;%</span></span>
<span id="cb183-14"><a href="#cb183-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source) <span class="sc">%&gt;%</span></span>
<span id="cb183-15"><a href="#cb183-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> source)</span>
<span id="cb183-16"><a href="#cb183-16" aria-hidden="true" tabindex="-1"></a>distinct_targets <span class="ot">&lt;-</span> filtered_data <span class="sc">%&gt;%</span></span>
<span id="cb183-17"><a href="#cb183-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(target) <span class="sc">%&gt;%</span></span>
<span id="cb183-18"><a href="#cb183-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> target)</span>
<span id="cb183-19"><a href="#cb183-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-20"><a href="#cb183-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the distinct sources and targets</span></span>
<span id="cb183-21"><a href="#cb183-21" aria-hidden="true" tabindex="-1"></a>distinct_nodes <span class="ot">&lt;-</span> <span class="fu">rbind</span>(distinct_sources, distinct_targets) <span class="sc">%&gt;%</span></span>
<span id="cb183-22"><a href="#cb183-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span>
<span id="cb183-23"><a href="#cb183-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-24"><a href="#cb183-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an igraph graph object</span></span>
<span id="cb183-25"><a href="#cb183-25" aria-hidden="true" tabindex="-1"></a>graph <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> filtered_data, <span class="at">vertices =</span> distinct_nodes, <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb183-26"><a href="#cb183-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-27"><a href="#cb183-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Set anomaly companies color</span></span>
<span id="cb183-28"><a href="#cb183-28" aria-hidden="true" tabindex="-1"></a>anomaly_color <span class="ot">&lt;-</span> <span class="st">"red"</span></span>
<span id="cb183-29"><a href="#cb183-29" aria-hidden="true" tabindex="-1"></a>default_color <span class="ot">&lt;-</span> <span class="st">"gray"</span></span>
<span id="cb183-30"><a href="#cb183-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-31"><a href="#cb183-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a color vector for node filling</span></span>
<span id="cb183-32"><a href="#cb183-32" aria-hidden="true" tabindex="-1"></a>node_colors <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(</span>
<span id="cb183-33"><a href="#cb183-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">V</span>(graph)<span class="sc">$</span>name <span class="sc">%in%</span> company_names,</span>
<span id="cb183-34"><a href="#cb183-34" aria-hidden="true" tabindex="-1"></a>  anomaly_color,</span>
<span id="cb183-35"><a href="#cb183-35" aria-hidden="true" tabindex="-1"></a>  default_color</span>
<span id="cb183-36"><a href="#cb183-36" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb183-37"><a href="#cb183-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-38"><a href="#cb183-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-39"><a href="#cb183-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-40"><a href="#cb183-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-41"><a href="#cb183-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the network graph</span></span>
<span id="cb183-42"><a href="#cb183-42" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(graph, <span class="at">layout =</span> <span class="st">"fr"</span>) <span class="sc">+</span></span>
<span id="cb183-43"><a href="#cb183-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb183-44"><a href="#cb183-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> node_colors), <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb183-45"><a href="#cb183-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(default_color, anomaly_color), <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">shape =</span> <span class="dv">21</span>))) <span class="sc">+</span></span>
<span id="cb183-46"><a href="#cb183-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb183-47"><a href="#cb183-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb183-48"><a href="#cb183-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>() <span class="sc">+</span></span>
<span id="cb183-49"><a href="#cb183-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add labels for specific nodes</span></span>
<span id="cb183-50"><a href="#cb183-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(</span>
<span id="cb183-51"><a href="#cb183-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(graph)<span class="sc">$</span>name <span class="sc">%in%</span> company_names, <span class="fu">V</span>(graph)<span class="sc">$</span>name, <span class="st">""</span>)),</span>
<span id="cb183-52"><a href="#cb183-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"black"</span></span>
<span id="cb183-53"><a href="#cb183-53" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-138-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The chart above is a plot of all the companies that have either of the identified companies as a source or node. However, since we are only interested in the anomaly month, we can further filter this down and draw a ego network instead. Another interesting point is that there exist a handful of companies that have associated with both of the anomaly company. This is an area that may perhaps be worth exploring</p>
<section id="common-companies" class="level3">
<h3 class="anchored" data-anchor-id="common-companies">Common companies</h3>
<p>This is a set of common companies that we may potentially explore.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the company names</span></span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a>company_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Jammu &amp; Kashmir  AB Consultants'</span>, <span class="st">'Tamil Nadu   Corporation Compass'</span>)</span>
<span id="cb184-3"><a href="#cb184-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-4"><a href="#cb184-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for rows where the source or target matches the company names</span></span>
<span id="cb184-5"><a href="#cb184-5" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(MC2_edges, source <span class="sc">%in%</span> company_names <span class="sc">|</span> target <span class="sc">%in%</span> company_names)</span>
<span id="cb184-6"><a href="#cb184-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-7"><a href="#cb184-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Exclude cases where the source and target are the same</span></span>
<span id="cb184-8"><a href="#cb184-8" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(filtered_data, source <span class="sc">!=</span> target)</span>
<span id="cb184-9"><a href="#cb184-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-10"><a href="#cb184-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distinct sources and targets from the filtered data</span></span>
<span id="cb184-11"><a href="#cb184-11" aria-hidden="true" tabindex="-1"></a>distinct_sources <span class="ot">&lt;-</span> <span class="fu">distinct</span>(filtered_data, source) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">node =</span> source)</span>
<span id="cb184-12"><a href="#cb184-12" aria-hidden="true" tabindex="-1"></a>distinct_targets <span class="ot">&lt;-</span> <span class="fu">distinct</span>(filtered_data, target) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">node =</span> target)</span>
<span id="cb184-13"><a href="#cb184-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-14"><a href="#cb184-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the distinct sources and targets</span></span>
<span id="cb184-15"><a href="#cb184-15" aria-hidden="true" tabindex="-1"></a>distinct_nodes <span class="ot">&lt;-</span> distinct_sources <span class="sc">%&gt;%</span> <span class="fu">bind_rows</span>(distinct_targets)</span>
<span id="cb184-16"><a href="#cb184-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-17"><a href="#cb184-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify companies that have interacted with both specified companies</span></span>
<span id="cb184-18"><a href="#cb184-18" aria-hidden="true" tabindex="-1"></a>common_companies <span class="ot">&lt;-</span> distinct_nodes <span class="sc">%&gt;%</span></span>
<span id="cb184-19"><a href="#cb184-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(node) <span class="sc">%&gt;%</span></span>
<span id="cb184-20"><a href="#cb184-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb184-21"><a href="#cb184-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb184-22"><a href="#cb184-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-23"><a href="#cb184-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-24"><a href="#cb184-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the common companies</span></span>
<span id="cb184-25"><a href="#cb184-25" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(common_companies)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-bcd734e830eeea1a5243" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-bcd734e830eeea1a5243">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22"],["Playa de Arena Submarine S.A. de C.V. Marine","Tamil Nadu   Corporation Compass","Lake Tana  N.V. Enterprises","Beach Breakers Ltd. Corporation Marine conservation","Mar de Plata SRL","Jammu &amp; Kashmir  AB Consultants","Niger River Delta  Oyster ","Uttar Pradesh s CJSC","Selous Game Reserve  A/S","Sea Breeze Sagl Oceanfront","Benguela Current   GmbH Carriers","Tamil Nadu   Corporation Compass","Jammu &amp; Kashmir  AB Consultants","Lake Tana  N.V. Enterprises","Selous Game Reserve  A/S","Sea Breeze Sagl Oceanfront","Beach Breakers Ltd. Corporation Marine conservation","Niger River Delta  Oyster ","Playa de Arena Submarine S.A. de C.V. Marine","Benguela Current   GmbH Carriers","Mar de Plata SRL","Uttar Pradesh s CJSC"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>node<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="ego-network---jammu-kashmir-ab-consultants" class="level2">
<h2 class="anchored" data-anchor-id="ego-network---jammu-kashmir-ab-consultants">Ego network - Jammu &amp; Kashmir AB Consultants</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Aug 2032</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Oct 2032</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Dec 2032</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">Jul 2033</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-5" role="tab" aria-controls="tabset-3-5" aria-selected="false">Aug 2033</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>ego_company <span class="ot">&lt;-</span> <span class="st">"Jammu &amp; Kashmir  AB Consultants"</span></span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-3"><a href="#cb185-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the logarithm of the weightkg values to scale them</span></span>
<span id="cb185-4"><a href="#cb185-4" aria-hidden="true" tabindex="-1"></a>MC2_edges<span class="sc">$</span>log_weightkg <span class="ot">&lt;-</span> <span class="fu">log</span>(MC2_edges<span class="sc">$</span>weightkg)</span>
<span id="cb185-5"><a href="#cb185-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-6"><a href="#cb185-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for rows where the source or target is the ego company and it is in August 2032</span></span>
<span id="cb185-7"><a href="#cb185-7" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(MC2_edges, (source <span class="sc">==</span> ego_company <span class="sc">|</span> target <span class="sc">==</span> ego_company) <span class="sc">&amp;</span> <span class="fu">month</span>(arrivaldate) <span class="sc">==</span> <span class="dv">8</span> <span class="sc">&amp;</span> <span class="fu">year</span>(arrivaldate) <span class="sc">==</span> <span class="dv">2032</span>)</span>
<span id="cb185-8"><a href="#cb185-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-9"><a href="#cb185-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distinct sources and targets connected to the ego company</span></span>
<span id="cb185-10"><a href="#cb185-10" aria-hidden="true" tabindex="-1"></a>neighbors <span class="ot">&lt;-</span> <span class="fu">union</span>(<span class="fu">unique</span>(filtered_data<span class="sc">$</span>source), <span class="fu">unique</span>(filtered_data<span class="sc">$</span>target))</span>
<span id="cb185-11"><a href="#cb185-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-12"><a href="#cb185-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the unique source and target values to get distinct company names</span></span>
<span id="cb185-13"><a href="#cb185-13" aria-hidden="true" tabindex="-1"></a>companies <span class="ot">&lt;-</span> <span class="fu">union</span>(ego_company, neighbors)</span>
<span id="cb185-14"><a href="#cb185-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-15"><a href="#cb185-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of nodes with unique IDs based on company names</span></span>
<span id="cb185-16"><a href="#cb185-16" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(companies), <span class="at">label =</span> companies)</span>
<span id="cb185-17"><a href="#cb185-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-18"><a href="#cb185-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-19"><a href="#cb185-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of edges to define the connections between the ego company and its neighbors</span></span>
<span id="cb185-20"><a href="#cb185-20" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> filtered_data <span class="sc">%&gt;%</span></span>
<span id="cb185-21"><a href="#cb185-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source, target, log_weightkg) <span class="sc">%&gt;%</span></span>
<span id="cb185-22"><a href="#cb185-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">match</span>(source, companies), <span class="at">to =</span> <span class="fu">match</span>(target, companies))<span class="sc">%&gt;%</span></span>
<span id="cb185-23"><a href="#cb185-23" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(source,target,from, to) <span class="sc">%&gt;%</span></span>
<span id="cb185-24"><a href="#cb185-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">value =</span> <span class="fu">sum</span>(log_weightkg))</span>
<span id="cb185-25"><a href="#cb185-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-26"><a href="#cb185-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-27"><a href="#cb185-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a visNetwork object</span></span>
<span id="cb185-28"><a href="#cb185-28" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> <span class="fu">visNetwork</span>(nodes, edges)</span>
<span id="cb185-29"><a href="#cb185-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-30"><a href="#cb185-30" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> ego_network <span class="sc">%&gt;%</span></span>
<span id="cb185-31"><a href="#cb185-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb185-32"><a href="#cb185-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_as_star"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb185-33"><a href="#cb185-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>, </span>
<span id="cb185-34"><a href="#cb185-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">smooth =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span> </span>
<span id="cb185-35"><a href="#cb185-35" aria-hidden="true" tabindex="-1"></a>                    ) </span>
<span id="cb185-36"><a href="#cb185-36" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">%&gt;%</span></span>
<span id="cb185-37"><a href="#cb185-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb185-38"><a href="#cb185-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>, <span class="at">improvedLayout =</span> <span class="cn">TRUE</span>)</span>
<span id="cb185-39"><a href="#cb185-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-40"><a href="#cb185-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ego network</span></span>
<span id="cb185-41"><a href="#cb185-41" aria-hidden="true" tabindex="-1"></a>ego_network</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-71b5865662c5e11ac15e" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-71b5865662c5e11ac15e">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"label":["Jammu & Kashmir  AB Consultants","Kambala and A/S Shipping","Océano de Coral Corporation Express","Caracola del Sol Services","Marine Mates NV Worldwide","Sailors and Surfers Incorporated Enterprises","-6586","hǎi dǎn Corporation Wharf","-6596","Cape Verde Islands  Catchers GmbH & Co. KG Shipping","Black Sea Tuna Snapper","Arunachal Pradesh s Brine","Mar de Plata BV Marine","The Sea Turtle GmbH & Co. KG","West Bengal  Marine ecology","Beach Bums Estuary SE Merchants","Tide Turners S.A. de C.V. Marine","Ancla de Oro Kga Import","Kilimanjaro fishery Ltd. Corporation Carriers","bǐ mù yú A/S Shipping","Drakensberg  S.A. de C.V. Marine ecology","páng xiè S.A. de C.V. Line","-20462"],"x":[0,1,0.959492973614497,0.841253532831181,0.654860733945285,0.415415013001887,0.142314838273285,-0.142314838273285,-0.415415013001887,-0.654860733945285,-0.841253532831181,-0.959492973614497,-1,-0.959492973614498,-0.841253532831182,-0.654860733945286,-0.415415013001887,-0.142314838273286,0.142314838273284,0.415415013001885,0.654860733945284,0.84125353283118,0.959492973614497],"y":[2.22044604925031e-16,2.22044604925031e-16,0.28462967654657,0.546200349457203,0.763521118433368,0.918985947228995,1,1,0.918985947228995,0.763521118433368,0.546200349457203,0.284629676546571,6.66133814775094e-16,-0.284629676546569,-0.546200349457202,-0.763521118433367,-0.918985947228994,-1,-1,-0.918985947228995,-0.763521118433368,-0.546200349457204,-0.284629676546572]},"edges":{"source":["Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants"],"target":["-20462","-6586","-6596","Ancla de Oro Kga Import","Arunachal Pradesh s Brine","Beach Bums Estuary SE Merchants","Black Sea Tuna Snapper","Cape Verde Islands  Catchers GmbH & Co. KG Shipping","Caracola del Sol Services","Drakensberg  S.A. de C.V. Marine ecology","Jammu & Kashmir  AB Consultants","Kambala and A/S Shipping","Kilimanjaro fishery Ltd. Corporation Carriers","Mar de Plata BV Marine","Marine Mates NV Worldwide","Océano de Coral Corporation Express","Sailors and Surfers Incorporated Enterprises","The Sea Turtle GmbH & Co. KG","Tide Turners S.A. de C.V. Marine","West Bengal  Marine ecology","bǐ mù yú A/S Shipping","hǎi dǎn Corporation Wharf","páng xiè S.A. de C.V. Line"],"from":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"to":[23,7,9,18,12,16,11,10,4,21,1,2,19,13,5,3,6,14,17,15,20,8,22],"value":[10.5563334363225,796.350195970002,118.634777567543,8.65434302956347,23.5980023884392,139.025687478708,29.0462379603772,33.0192224413081,23.1047515703187,12.5715660919271,359.039499586591,6479.12418633878,20.388039503865,306.748843054561,33.2155933073363,802.943821710649,424.743989788123,147.448505580612,27.508132272793,502.657801855244,147.12900248185,17.2367196953805,12.5711843992891]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"physics":{"stabilization":false},"edges":{"arrows":"to","smooth":{"enabled":true}},"layout":{"randomSeed":123,"improvedLayout":true}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>ego_company <span class="ot">&lt;-</span> <span class="st">"Jammu &amp; Kashmir  AB Consultants"</span></span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-3"><a href="#cb186-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the logarithm of the weightkg values to scale them</span></span>
<span id="cb186-4"><a href="#cb186-4" aria-hidden="true" tabindex="-1"></a>MC2_edges<span class="sc">$</span>log_weightkg <span class="ot">&lt;-</span> <span class="fu">log</span>(MC2_edges<span class="sc">$</span>weightkg)</span>
<span id="cb186-5"><a href="#cb186-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-6"><a href="#cb186-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for rows where the source or target is the ego company and it is in October 2032</span></span>
<span id="cb186-7"><a href="#cb186-7" aria-hidden="true" tabindex="-1"></a>filtered_data_1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MC2_edges, (source <span class="sc">==</span> ego_company <span class="sc">|</span> target <span class="sc">==</span> ego_company) <span class="sc">&amp;</span> <span class="fu">month</span>(arrivaldate) <span class="sc">==</span> <span class="dv">10</span> <span class="sc">&amp;</span> <span class="fu">year</span>(arrivaldate) <span class="sc">==</span> <span class="dv">2032</span>)</span>
<span id="cb186-8"><a href="#cb186-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-9"><a href="#cb186-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distinct sources and targets connected to the ego company</span></span>
<span id="cb186-10"><a href="#cb186-10" aria-hidden="true" tabindex="-1"></a>neighbors <span class="ot">&lt;-</span> <span class="fu">union</span>(<span class="fu">unique</span>(filtered_data_1<span class="sc">$</span>source), <span class="fu">unique</span>(filtered_data_1<span class="sc">$</span>target))</span>
<span id="cb186-11"><a href="#cb186-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-12"><a href="#cb186-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the unique source and target values to get distinct company names</span></span>
<span id="cb186-13"><a href="#cb186-13" aria-hidden="true" tabindex="-1"></a>companies <span class="ot">&lt;-</span> <span class="fu">union</span>(ego_company, neighbors)</span>
<span id="cb186-14"><a href="#cb186-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-15"><a href="#cb186-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of nodes with unique IDs based on company names</span></span>
<span id="cb186-16"><a href="#cb186-16" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(companies), <span class="at">label =</span> companies)</span>
<span id="cb186-17"><a href="#cb186-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-18"><a href="#cb186-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-19"><a href="#cb186-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of edges to define the connections between the ego company and its neighbors</span></span>
<span id="cb186-20"><a href="#cb186-20" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> filtered_data_1 <span class="sc">%&gt;%</span></span>
<span id="cb186-21"><a href="#cb186-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source, target, log_weightkg) <span class="sc">%&gt;%</span></span>
<span id="cb186-22"><a href="#cb186-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">match</span>(source, companies), <span class="at">to =</span> <span class="fu">match</span>(target, companies))<span class="sc">%&gt;%</span></span>
<span id="cb186-23"><a href="#cb186-23" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(source,target,from, to) <span class="sc">%&gt;%</span></span>
<span id="cb186-24"><a href="#cb186-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">value =</span> <span class="fu">sum</span>(log_weightkg))</span>
<span id="cb186-25"><a href="#cb186-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-26"><a href="#cb186-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-27"><a href="#cb186-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a visNetwork object</span></span>
<span id="cb186-28"><a href="#cb186-28" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> <span class="fu">visNetwork</span>(nodes, edges)</span>
<span id="cb186-29"><a href="#cb186-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-30"><a href="#cb186-30" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> ego_network <span class="sc">%&gt;%</span></span>
<span id="cb186-31"><a href="#cb186-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb186-32"><a href="#cb186-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_as_star"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb186-33"><a href="#cb186-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>, </span>
<span id="cb186-34"><a href="#cb186-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">smooth =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span> </span>
<span id="cb186-35"><a href="#cb186-35" aria-hidden="true" tabindex="-1"></a>                    ) </span>
<span id="cb186-36"><a href="#cb186-36" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">%&gt;%</span></span>
<span id="cb186-37"><a href="#cb186-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb186-38"><a href="#cb186-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>, <span class="at">improvedLayout =</span> <span class="cn">TRUE</span>)</span>
<span id="cb186-39"><a href="#cb186-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-40"><a href="#cb186-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ego network</span></span>
<span id="cb186-41"><a href="#cb186-41" aria-hidden="true" tabindex="-1"></a>ego_network</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8b5a9c7ad38cb16bbf5f" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-8b5a9c7ad38cb16bbf5f">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],"label":["Jammu & Kashmir  AB Consultants","Kambala and A/S Shipping","Océano de Coral Corporation Express","Caracola del Sol Services","Marine Mates NV Worldwide","Sailors and Surfers Incorporated Enterprises","-6586","hǎi dǎn Corporation Wharf","-6596","Black Sea Tuna Snapper","Seaside Summit S.A. de C.V.","Saltwater Supreme Pelican Ltd Enterprises","Arunachal Pradesh s Brine","Mar de Plata BV Marine","The Sea Turtle GmbH & Co. KG","West Bengal  Marine ecology","Tide Turners S.A. de C.V. Marine","bǐ mù yú A/S Shipping","Sea Breeze Corporation Marine sanctuary","Drakensberg  S.A. de C.V. Marine ecology","Karnataka s LC Line","-8779"],"x":[-0.00561594964619028,1,0.955323304900514,0.825262940022093,0.621375339544695,0.361776811516734,0.0695338243828703,-0.229386549962827,-0.508423924469286,-0.742784603876258,-0.911644613343534,-1,-1,-0.911644613343535,-0.742784603876259,-0.508423924469286,-0.229386549962827,0.0695338243828705,0.361776811516734,0.621375339544695,0.825262940022094,0.955323304900515],"y":[0,0,0.29558168073978,0.56489963200699,0.784023771949176,0.933483959122025,1,0.977661652450257,0.868453776682814,0.682079971710477,0.43510036799301,0.149460187172849,-0.149460187172848,-0.435100367993009,-0.682079971710476,-0.868453776682814,-0.977661652450257,-1,-0.933483959122024,-0.784023771949175,-0.56489963200699,-0.295581680739779]},"edges":{"source":["Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants"],"target":["-6586","-6596","-8779","Arunachal Pradesh s Brine","Black Sea Tuna Snapper","Caracola del Sol Services","Drakensberg  S.A. de C.V. Marine ecology","Jammu & Kashmir  AB Consultants","Kambala and A/S Shipping","Karnataka s LC Line","Mar de Plata BV Marine","Marine Mates NV Worldwide","Océano de Coral Corporation Express","Sailors and Surfers Incorporated Enterprises","Saltwater Supreme Pelican Ltd Enterprises","Sea Breeze Corporation Marine sanctuary","Seaside Summit S.A. de C.V.","The Sea Turtle GmbH & Co. KG","Tide Turners S.A. de C.V. Marine","West Bengal  Marine ecology","bǐ mù yú A/S Shipping","hǎi dǎn Corporation Wharf"],"from":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"to":[7,9,22,13,10,4,20,1,2,21,14,5,3,6,12,19,11,15,17,16,18,8],"value":[1088.99043574186,193.537100453146,106.848906654354,33.0666049450391,31.973749419717,21.0045020166973,12.5847316592178,37.5994531998482,5700.76667836049,11.1155029285052,228.965845921811,21.7710368167854,410.189824021796,491.800905960247,64.0847495472988,15.3419091941611,8.88322423027899,442.49269169822,44.5597537432486,262.54781876562,21.883111761944,79.2726018880485]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"physics":{"stabilization":false},"edges":{"arrows":"to","smooth":{"enabled":true}},"layout":{"randomSeed":123,"improvedLayout":true}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>ego_company <span class="ot">&lt;-</span> <span class="st">"Jammu &amp; Kashmir  AB Consultants"</span></span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-3"><a href="#cb187-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the logarithm of the weightkg values to scale them</span></span>
<span id="cb187-4"><a href="#cb187-4" aria-hidden="true" tabindex="-1"></a>MC2_edges<span class="sc">$</span>log_weightkg <span class="ot">&lt;-</span> <span class="fu">log</span>(MC2_edges<span class="sc">$</span>weightkg)</span>
<span id="cb187-5"><a href="#cb187-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-6"><a href="#cb187-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for rows where the source or target is the ego company and it is in December 2032</span></span>
<span id="cb187-7"><a href="#cb187-7" aria-hidden="true" tabindex="-1"></a>filtered_data_2 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MC2_edges, (source <span class="sc">==</span> ego_company <span class="sc">|</span> target <span class="sc">==</span> ego_company) <span class="sc">&amp;</span> <span class="fu">month</span>(arrivaldate) <span class="sc">==</span> <span class="dv">12</span> <span class="sc">&amp;</span> <span class="fu">year</span>(arrivaldate) <span class="sc">==</span> <span class="dv">2032</span>)</span>
<span id="cb187-8"><a href="#cb187-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-9"><a href="#cb187-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distinct sources and targets connected to the ego company</span></span>
<span id="cb187-10"><a href="#cb187-10" aria-hidden="true" tabindex="-1"></a>neighbors <span class="ot">&lt;-</span> <span class="fu">union</span>(<span class="fu">unique</span>(filtered_data_2<span class="sc">$</span>source), <span class="fu">unique</span>(filtered_data_2<span class="sc">$</span>target))</span>
<span id="cb187-11"><a href="#cb187-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-12"><a href="#cb187-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the unique source and target values to get distinct company names</span></span>
<span id="cb187-13"><a href="#cb187-13" aria-hidden="true" tabindex="-1"></a>companies <span class="ot">&lt;-</span> <span class="fu">union</span>(ego_company, neighbors)</span>
<span id="cb187-14"><a href="#cb187-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-15"><a href="#cb187-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of nodes with unique IDs based on company names</span></span>
<span id="cb187-16"><a href="#cb187-16" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(companies), <span class="at">label =</span> companies)</span>
<span id="cb187-17"><a href="#cb187-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-18"><a href="#cb187-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-19"><a href="#cb187-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of edges to define the connections between the ego company and its neighbors</span></span>
<span id="cb187-20"><a href="#cb187-20" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> filtered_data_2 <span class="sc">%&gt;%</span></span>
<span id="cb187-21"><a href="#cb187-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source, target, log_weightkg) <span class="sc">%&gt;%</span></span>
<span id="cb187-22"><a href="#cb187-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">match</span>(source, companies), <span class="at">to =</span> <span class="fu">match</span>(target, companies))<span class="sc">%&gt;%</span></span>
<span id="cb187-23"><a href="#cb187-23" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(source,target,from, to) <span class="sc">%&gt;%</span></span>
<span id="cb187-24"><a href="#cb187-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">value =</span> <span class="fu">sum</span>(log_weightkg))</span>
<span id="cb187-25"><a href="#cb187-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-26"><a href="#cb187-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-27"><a href="#cb187-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a visNetwork object</span></span>
<span id="cb187-28"><a href="#cb187-28" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> <span class="fu">visNetwork</span>(nodes, edges)</span>
<span id="cb187-29"><a href="#cb187-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-30"><a href="#cb187-30" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> ego_network <span class="sc">%&gt;%</span></span>
<span id="cb187-31"><a href="#cb187-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb187-32"><a href="#cb187-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_as_star"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb187-33"><a href="#cb187-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>, </span>
<span id="cb187-34"><a href="#cb187-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">smooth =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span> </span>
<span id="cb187-35"><a href="#cb187-35" aria-hidden="true" tabindex="-1"></a>                    ) </span>
<span id="cb187-36"><a href="#cb187-36" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">%&gt;%</span></span>
<span id="cb187-37"><a href="#cb187-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb187-38"><a href="#cb187-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>, <span class="at">improvedLayout =</span> <span class="cn">TRUE</span>)</span>
<span id="cb187-39"><a href="#cb187-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-40"><a href="#cb187-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ego network</span></span>
<span id="cb187-41"><a href="#cb187-41" aria-hidden="true" tabindex="-1"></a>ego_network</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-b358c7c1510a12f51482" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-b358c7c1510a12f51482">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"label":["Jammu & Kashmir  AB Consultants","Tamil Nadu   Corporation Compass","Kambala and A/S Shipping","Océano de Coral Corporation Express","Caracola del Sol Services","Marine Mates NV Worldwide","Sailors and Surfers Incorporated Enterprises","-6586","hǎi dǎn Corporation Wharf","Cape Verde Islands  Catchers GmbH & Co. KG Shipping","-8257","-6585","Black Sea Tuna Snapper","Saltwater Supreme Pelican Ltd Enterprises","The Sea Turtle GmbH & Co. KG","Tide Turners S.A. de C.V. Marine","Ancla de Oro Kga Import","-6951","Leska GmbH & Co. KG"],"x":[0,1,0.939692620785908,0.766044443118978,0.5,0.173648177666931,-0.17364817766693,-0.5,-0.766044443118978,-0.939692620785908,-1,-0.939692620785908,-0.766044443118978,-0.5,-0.173648177666931,0.173648177666929,0.499999999999999,0.766044443118977,0.939692620785908],"y":[2.22044604925031e-16,2.22044604925031e-16,0.347296355333861,0.652703644666139,0.879385241571817,1,1,0.879385241571817,0.65270364466614,0.347296355333861,2.22044604925031e-16,-0.34729635533386,-0.652703644666139,-0.879385241571816,-1,-1,-0.879385241571817,-0.652703644666141,-0.347296355333863]},"edges":{"source":["Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants"],"target":["-6585","-6586","-6951","-8257","Ancla de Oro Kga Import","Black Sea Tuna Snapper","Cape Verde Islands  Catchers GmbH & Co. KG Shipping","Caracola del Sol Services","Jammu & Kashmir  AB Consultants","Kambala and A/S Shipping","Leska GmbH & Co. KG","Marine Mates NV Worldwide","Océano de Coral Corporation Express","Sailors and Surfers Incorporated Enterprises","Saltwater Supreme Pelican Ltd Enterprises","Tamil Nadu   Corporation Compass","The Sea Turtle GmbH & Co. KG","Tide Turners S.A. de C.V. Marine","hǎi dǎn Corporation Wharf"],"from":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"to":[12,8,18,11,17,13,10,5,1,3,19,6,4,7,14,2,15,16,9],"value":[564.89359665781,315.003167865819,155.459558212207,78.2629598373422,9.19268543673746,27.7578257344535,51.9772963983179,34.2755750404012,179.751112495939,3179.48572887684,31.745563194788,45.3165339816878,440.072014446341,216.958188498138,22.034177989418,4621.64708340009,289.67626109627,31.0467273011846,451.499196920081]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"physics":{"stabilization":false},"edges":{"arrows":"to","smooth":{"enabled":true}},"layout":{"randomSeed":123,"improvedLayout":true}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a>ego_company <span class="ot">&lt;-</span> <span class="st">"Jammu &amp; Kashmir  AB Consultants"</span></span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-3"><a href="#cb188-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the logarithm of the weightkg values to scale them</span></span>
<span id="cb188-4"><a href="#cb188-4" aria-hidden="true" tabindex="-1"></a>MC2_edges<span class="sc">$</span>log_weightkg <span class="ot">&lt;-</span> <span class="fu">log</span>(MC2_edges<span class="sc">$</span>weightkg)</span>
<span id="cb188-5"><a href="#cb188-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-6"><a href="#cb188-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for rows where the source or target is the ego company and it is in July 2032</span></span>
<span id="cb188-7"><a href="#cb188-7" aria-hidden="true" tabindex="-1"></a>filtered_data_3 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MC2_edges, (source <span class="sc">==</span> ego_company <span class="sc">|</span> target <span class="sc">==</span> ego_company) <span class="sc">&amp;</span> <span class="fu">month</span>(arrivaldate) <span class="sc">==</span> <span class="dv">7</span> <span class="sc">&amp;</span> <span class="fu">year</span>(arrivaldate) <span class="sc">==</span> <span class="dv">2033</span>)</span>
<span id="cb188-8"><a href="#cb188-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-9"><a href="#cb188-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distinct sources and targets connected to the ego company</span></span>
<span id="cb188-10"><a href="#cb188-10" aria-hidden="true" tabindex="-1"></a>neighbors <span class="ot">&lt;-</span> <span class="fu">union</span>(<span class="fu">unique</span>(filtered_data_3<span class="sc">$</span>source), <span class="fu">unique</span>(filtered_data_3<span class="sc">$</span>target))</span>
<span id="cb188-11"><a href="#cb188-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-12"><a href="#cb188-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the unique source and target values to get distinct company names</span></span>
<span id="cb188-13"><a href="#cb188-13" aria-hidden="true" tabindex="-1"></a>companies <span class="ot">&lt;-</span> <span class="fu">union</span>(ego_company, neighbors)</span>
<span id="cb188-14"><a href="#cb188-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-15"><a href="#cb188-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of nodes with unique IDs based on company names</span></span>
<span id="cb188-16"><a href="#cb188-16" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(companies), <span class="at">label =</span> companies)</span>
<span id="cb188-17"><a href="#cb188-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-18"><a href="#cb188-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-19"><a href="#cb188-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of edges to define the connections between the ego company and its neighbors</span></span>
<span id="cb188-20"><a href="#cb188-20" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> filtered_data_3 <span class="sc">%&gt;%</span></span>
<span id="cb188-21"><a href="#cb188-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source, target, log_weightkg) <span class="sc">%&gt;%</span></span>
<span id="cb188-22"><a href="#cb188-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">match</span>(source, companies), <span class="at">to =</span> <span class="fu">match</span>(target, companies))<span class="sc">%&gt;%</span></span>
<span id="cb188-23"><a href="#cb188-23" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(source,target,from, to) <span class="sc">%&gt;%</span></span>
<span id="cb188-24"><a href="#cb188-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">value =</span> <span class="fu">sum</span>(log_weightkg))</span>
<span id="cb188-25"><a href="#cb188-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-26"><a href="#cb188-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-27"><a href="#cb188-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a visNetwork object</span></span>
<span id="cb188-28"><a href="#cb188-28" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> <span class="fu">visNetwork</span>(nodes, edges)</span>
<span id="cb188-29"><a href="#cb188-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-30"><a href="#cb188-30" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> ego_network <span class="sc">%&gt;%</span></span>
<span id="cb188-31"><a href="#cb188-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb188-32"><a href="#cb188-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_as_star"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb188-33"><a href="#cb188-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>, </span>
<span id="cb188-34"><a href="#cb188-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">smooth =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span> </span>
<span id="cb188-35"><a href="#cb188-35" aria-hidden="true" tabindex="-1"></a>                    ) </span>
<span id="cb188-36"><a href="#cb188-36" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">%&gt;%</span></span>
<span id="cb188-37"><a href="#cb188-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb188-38"><a href="#cb188-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>, <span class="at">improvedLayout =</span> <span class="cn">TRUE</span>)</span>
<span id="cb188-39"><a href="#cb188-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-40"><a href="#cb188-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ego network</span></span>
<span id="cb188-41"><a href="#cb188-41" aria-hidden="true" tabindex="-1"></a>ego_network</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-4898fc2ddbb8285c5df3" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-4898fc2ddbb8285c5df3">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],"label":["Jammu & Kashmir  AB Consultants","Vleikurper S.A. de C.V.","Tamil Nadu   Corporation Compass","Kambala and A/S Shipping","Océano de Coral Corporation Express","Marine Mates NV Worldwide","Coral Cove BV Delivery","Caracola Azul Oyj &","Saltwater Supreme ОАО Forwading","-6586","hǎi dǎn Corporation Wharf","Pao gan SE Seal","-6585","Black Sea Tuna Snapper","Mar del Este CJSC","West Bengal  Marine ecology","Irish Scallop Corporation Transport","Mar de la Luna Ltd. Corporation Worldwide","Tide Turners S.A. de C.V. Marine","Ancla de Oro Kga Import","-8779","Leska GmbH & Co. KG"],"x":[-0.00561594964619028,1,0.955323304900514,0.825262940022093,0.621375339544695,0.361776811516734,0.0695338243828703,-0.229386549962827,-0.508423924469286,-0.742784603876258,-0.911644613343534,-1,-1,-0.911644613343535,-0.742784603876259,-0.508423924469286,-0.229386549962827,0.0695338243828705,0.361776811516734,0.621375339544695,0.825262940022094,0.955323304900515],"y":[0,0,0.29558168073978,0.56489963200699,0.784023771949176,0.933483959122025,1,0.977661652450257,0.868453776682814,0.682079971710477,0.43510036799301,0.149460187172849,-0.149460187172848,-0.435100367993009,-0.682079971710476,-0.868453776682814,-0.977661652450257,-1,-0.933483959122024,-0.784023771949175,-0.56489963200699,-0.295581680739779]},"edges":{"source":["Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Vleikurper S.A. de C.V."],"target":["-6585","-6586","-8779","Ancla de Oro Kga Import","Black Sea Tuna Snapper","Caracola Azul Oyj &","Coral Cove BV Delivery","Irish Scallop Corporation Transport","Jammu & Kashmir  AB Consultants","Kambala and A/S Shipping","Leska GmbH & Co. KG","Mar de la Luna Ltd. Corporation Worldwide","Mar del Este CJSC","Marine Mates NV Worldwide","Océano de Coral Corporation Express","Pao gan SE Seal","Saltwater Supreme ОАО Forwading","Tamil Nadu   Corporation Compass","Tide Turners S.A. de C.V. Marine","West Bengal  Marine ecology","hǎi dǎn Corporation Wharf","Jammu & Kashmir  AB Consultants"],"from":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],"to":[13,10,21,20,14,8,7,17,1,4,22,18,15,6,5,12,9,3,19,16,11,1],"value":[247.375429512365,1105.22587064897,101.628206117109,17.7308709879902,48.7937945646161,18.7241426572517,9.47231994707559,11.1726158751178,155.836054781305,1212.38888051363,8.61068353450358,11.9292975419171,21.2421745791119,479.195580777741,170.569385233857,21.5715923573671,28.3321156013367,5923.86434881645,10.5390056202594,548.812050047823,294.95013572947,130.30165283688]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"physics":{"stabilization":false},"edges":{"arrows":"to","smooth":{"enabled":true}},"layout":{"randomSeed":123,"improvedLayout":true}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-3-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-5-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>ego_company <span class="ot">&lt;-</span> <span class="st">"Jammu &amp; Kashmir  AB Consultants"</span></span>
<span id="cb189-2"><a href="#cb189-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-3"><a href="#cb189-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the logarithm of the weightkg values to scale them</span></span>
<span id="cb189-4"><a href="#cb189-4" aria-hidden="true" tabindex="-1"></a>MC2_edges<span class="sc">$</span>log_weightkg <span class="ot">&lt;-</span> <span class="fu">log</span>(MC2_edges<span class="sc">$</span>weightkg)</span>
<span id="cb189-5"><a href="#cb189-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-6"><a href="#cb189-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for rows where the source or target is the ego company and it is in August 2033</span></span>
<span id="cb189-7"><a href="#cb189-7" aria-hidden="true" tabindex="-1"></a>filtered_data_4 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MC2_edges, (source <span class="sc">==</span> ego_company <span class="sc">|</span> target <span class="sc">==</span> ego_company) <span class="sc">&amp;</span> <span class="fu">month</span>(arrivaldate) <span class="sc">==</span> <span class="dv">8</span> <span class="sc">&amp;</span> <span class="fu">year</span>(arrivaldate) <span class="sc">==</span> <span class="dv">2033</span>)</span>
<span id="cb189-8"><a href="#cb189-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-9"><a href="#cb189-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distinct sources and targets connected to the ego company</span></span>
<span id="cb189-10"><a href="#cb189-10" aria-hidden="true" tabindex="-1"></a>neighbors <span class="ot">&lt;-</span> <span class="fu">union</span>(<span class="fu">unique</span>(filtered_data_4<span class="sc">$</span>source), <span class="fu">unique</span>(filtered_data_4<span class="sc">$</span>target))</span>
<span id="cb189-11"><a href="#cb189-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-12"><a href="#cb189-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the unique source and target values to get distinct company names</span></span>
<span id="cb189-13"><a href="#cb189-13" aria-hidden="true" tabindex="-1"></a>companies <span class="ot">&lt;-</span> <span class="fu">union</span>(ego_company, neighbors)</span>
<span id="cb189-14"><a href="#cb189-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-15"><a href="#cb189-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of nodes with unique IDs based on company names</span></span>
<span id="cb189-16"><a href="#cb189-16" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(companies), <span class="at">label =</span> companies)</span>
<span id="cb189-17"><a href="#cb189-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-18"><a href="#cb189-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-19"><a href="#cb189-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of edges to define the connections between the ego company and its neighbors</span></span>
<span id="cb189-20"><a href="#cb189-20" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> filtered_data_4 <span class="sc">%&gt;%</span></span>
<span id="cb189-21"><a href="#cb189-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source, target, log_weightkg) <span class="sc">%&gt;%</span></span>
<span id="cb189-22"><a href="#cb189-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">match</span>(source, companies), <span class="at">to =</span> <span class="fu">match</span>(target, companies))<span class="sc">%&gt;%</span></span>
<span id="cb189-23"><a href="#cb189-23" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(source,target,from, to) <span class="sc">%&gt;%</span></span>
<span id="cb189-24"><a href="#cb189-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">value =</span> <span class="fu">sum</span>(log_weightkg))</span>
<span id="cb189-25"><a href="#cb189-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-26"><a href="#cb189-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-27"><a href="#cb189-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a visNetwork object</span></span>
<span id="cb189-28"><a href="#cb189-28" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> <span class="fu">visNetwork</span>(nodes, edges)</span>
<span id="cb189-29"><a href="#cb189-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-30"><a href="#cb189-30" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> ego_network <span class="sc">%&gt;%</span></span>
<span id="cb189-31"><a href="#cb189-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb189-32"><a href="#cb189-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_as_star"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb189-33"><a href="#cb189-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>, </span>
<span id="cb189-34"><a href="#cb189-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">smooth =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span> </span>
<span id="cb189-35"><a href="#cb189-35" aria-hidden="true" tabindex="-1"></a>                    ) </span>
<span id="cb189-36"><a href="#cb189-36" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">%&gt;%</span></span>
<span id="cb189-37"><a href="#cb189-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb189-38"><a href="#cb189-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>, <span class="at">improvedLayout =</span> <span class="cn">TRUE</span>)</span>
<span id="cb189-39"><a href="#cb189-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-40"><a href="#cb189-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ego network</span></span>
<span id="cb189-41"><a href="#cb189-41" aria-hidden="true" tabindex="-1"></a>ego_network</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-94819330a9598a5efb40" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-94819330a9598a5efb40">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],"label":["Jammu & Kashmir  AB Consultants","Tamil Nadu   Corporation Compass","Kambala and A/S Shipping","Océano de Coral Corporation Express","Marine Mates NV Worldwide","Coral Cove BV Delivery","Caracola Azul Oyj &","-6586","hǎi dǎn Corporation Wharf","-6596","Coastal Castaway Coast Corporation Worldwide","Saltwater Supreme Pelican Ltd Enterprises","Costa de la Felicidad BV","Mar de Plata BV Marine","Tide Turners S.A. de C.V. Marine","Ancla de Oro Kga Import","Sea Breeze Corporation Marine sanctuary","-8779","Mar de la Vida SRL","Belgian Shrimps Ocean Corp Holdings","-12295","Jammu & Kashmir  Corporation United"],"x":[-0.00561594964619028,1,0.955323304900514,0.825262940022093,0.621375339544695,0.361776811516734,0.0695338243828703,-0.229386549962827,-0.508423924469286,-0.742784603876258,-0.911644613343534,-1,-1,-0.911644613343535,-0.742784603876259,-0.508423924469286,-0.229386549962827,0.0695338243828705,0.361776811516734,0.621375339544695,0.825262940022094,0.955323304900515],"y":[0,0,0.29558168073978,0.56489963200699,0.784023771949176,0.933483959122025,1,0.977661652450257,0.868453776682814,0.682079971710477,0.43510036799301,0.149460187172849,-0.149460187172848,-0.435100367993009,-0.682079971710476,-0.868453776682814,-0.977661652450257,-1,-0.933483959122024,-0.784023771949175,-0.56489963200699,-0.295581680739779]},"edges":{"source":["Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants","Jammu & Kashmir  AB Consultants"],"target":["-12295","-6586","-6596","-8779","Ancla de Oro Kga Import","Belgian Shrimps Ocean Corp Holdings","Caracola Azul Oyj &","Coastal Castaway Coast Corporation Worldwide","Coral Cove BV Delivery","Costa de la Felicidad BV","Jammu & Kashmir  Corporation United","Kambala and A/S Shipping","Mar de Plata BV Marine","Mar de la Vida SRL","Marine Mates NV Worldwide","Océano de Coral Corporation Express","Saltwater Supreme Pelican Ltd Enterprises","Sea Breeze Corporation Marine sanctuary","Tamil Nadu   Corporation Compass","Tide Turners S.A. de C.V. Marine","hǎi dǎn Corporation Wharf"],"from":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"to":[21,8,10,18,16,20,7,11,6,13,22,3,14,19,5,4,12,17,2,15,9],"value":[13.973266160813,2369.78236497951,745.081900164829,85.266228498236,17.757795031328,15.5382164395765,10.1801718707784,20.7468729825818,68.4944481023614,252.972504226892,131.878364519323,2286.69848577348,809.036438603754,8.87276752991094,500.159697702467,48.379195910677,65.9237480753388,15.5794516595155,3710.17059939356,39.2079330319794,653.793829644575]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"physics":{"stabilization":false},"edges":{"arrows":"to","smooth":{"enabled":true}},"layout":{"randomSeed":123,"improvedLayout":true}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="ego-network---tamil-nadu-coporation-compass" class="level2">
<h2 class="anchored" data-anchor-id="ego-network---tamil-nadu-coporation-compass">Ego network - Tamil nadu Coporation Compass</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Aug 2032</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Oct 2032</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">Dec 2032</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-4" role="tab" aria-controls="tabset-4-4" aria-selected="false">Jul 2033</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-5" role="tab" aria-controls="tabset-4-5" aria-selected="false">Aug 2033</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a>ego_company <span class="ot">&lt;-</span> <span class="st">"Tamil Nadu   Corporation Compass"</span></span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-3"><a href="#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the logarithm of the weightkg values to scale them</span></span>
<span id="cb190-4"><a href="#cb190-4" aria-hidden="true" tabindex="-1"></a>MC2_edges<span class="sc">$</span>log_weightkg <span class="ot">&lt;-</span> <span class="fu">log</span>(MC2_edges<span class="sc">$</span>weightkg)</span>
<span id="cb190-5"><a href="#cb190-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-6"><a href="#cb190-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for rows where the source or target is the ego company and it is in August 2032</span></span>
<span id="cb190-7"><a href="#cb190-7" aria-hidden="true" tabindex="-1"></a>filtered_data_5 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MC2_edges, (source <span class="sc">==</span> ego_company <span class="sc">|</span> target <span class="sc">==</span> ego_company) <span class="sc">&amp;</span> <span class="fu">month</span>(arrivaldate) <span class="sc">==</span> <span class="dv">8</span> <span class="sc">&amp;</span> <span class="fu">year</span>(arrivaldate) <span class="sc">==</span> <span class="dv">2032</span>)</span>
<span id="cb190-8"><a href="#cb190-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-9"><a href="#cb190-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distinct sources and targets connected to the ego company</span></span>
<span id="cb190-10"><a href="#cb190-10" aria-hidden="true" tabindex="-1"></a>neighbors <span class="ot">&lt;-</span> <span class="fu">union</span>(<span class="fu">unique</span>(filtered_data_5<span class="sc">$</span>source), <span class="fu">unique</span>(filtered_data_5<span class="sc">$</span>target))</span>
<span id="cb190-11"><a href="#cb190-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-12"><a href="#cb190-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the unique source and target values to get distinct company names</span></span>
<span id="cb190-13"><a href="#cb190-13" aria-hidden="true" tabindex="-1"></a>companies <span class="ot">&lt;-</span> <span class="fu">union</span>(ego_company, neighbors)</span>
<span id="cb190-14"><a href="#cb190-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-15"><a href="#cb190-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of nodes with unique IDs based on company names</span></span>
<span id="cb190-16"><a href="#cb190-16" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(companies), <span class="at">label =</span> companies)</span>
<span id="cb190-17"><a href="#cb190-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-18"><a href="#cb190-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-19"><a href="#cb190-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of edges to define the connections between the ego company and its neighbors</span></span>
<span id="cb190-20"><a href="#cb190-20" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> filtered_data_5 <span class="sc">%&gt;%</span></span>
<span id="cb190-21"><a href="#cb190-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source, target, log_weightkg) <span class="sc">%&gt;%</span></span>
<span id="cb190-22"><a href="#cb190-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">match</span>(source, companies), <span class="at">to =</span> <span class="fu">match</span>(target, companies))<span class="sc">%&gt;%</span></span>
<span id="cb190-23"><a href="#cb190-23" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(source,target,from, to) <span class="sc">%&gt;%</span></span>
<span id="cb190-24"><a href="#cb190-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">value =</span> <span class="fu">sum</span>(log_weightkg))</span>
<span id="cb190-25"><a href="#cb190-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-26"><a href="#cb190-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-27"><a href="#cb190-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a visNetwork object</span></span>
<span id="cb190-28"><a href="#cb190-28" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> <span class="fu">visNetwork</span>(nodes, edges)</span>
<span id="cb190-29"><a href="#cb190-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-30"><a href="#cb190-30" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> ego_network <span class="sc">%&gt;%</span></span>
<span id="cb190-31"><a href="#cb190-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb190-32"><a href="#cb190-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_as_star"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb190-33"><a href="#cb190-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>, </span>
<span id="cb190-34"><a href="#cb190-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">smooth =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span> </span>
<span id="cb190-35"><a href="#cb190-35" aria-hidden="true" tabindex="-1"></a>                    ) </span>
<span id="cb190-36"><a href="#cb190-36" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">%&gt;%</span></span>
<span id="cb190-37"><a href="#cb190-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb190-38"><a href="#cb190-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>, <span class="at">improvedLayout =</span> <span class="cn">TRUE</span>)</span>
<span id="cb190-39"><a href="#cb190-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-40"><a href="#cb190-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ego network</span></span>
<span id="cb190-41"><a href="#cb190-41" aria-hidden="true" tabindex="-1"></a>ego_network</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-0aa68dff9357abd3e02b" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-0aa68dff9357abd3e02b">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54],"label":["Tamil Nadu   Corporation Compass","Zambezi Gorge  N.V. Transport","Amerigo S.A. de C.V.","Saltwater Symphony S.A. de C.V.","Mar de Coral CJSC","Mar y Luna Sagl","suō yú Incorporated Brothers","nián yú Ltd. Corporation","Fresh Limited Liability Company","Pez Dorado Plc Seaport","Coastal Cruisers Pic Shipping","Italian Anchovy LC Delivery","Ola de la Costa N.V.","Barents Sea Cod CJSC Export","9 Limited Liability Company","Lake Edward  BV Marine conservation","Costa de la Felicidad United","Olas del Sur OJSC Solutions","Jharkhand  Ltd. Liability Co Worldwide","Océano del Este Tanker","Atlantic Ocean Coast  CJSC","bái suō wěn lú Sandbar","Italian Sardines NV Lock","Niger Bend   Nautilus Company United","Henan Swordfish Ltd Delivery","Bahía del Sol CJSC","Orange River   AB & Son's","Deep Sea Divers S.p.A. Marine","Ocean Odyssey Sp & Son's","Mar Azul Salt spray Corporation United","Playa del Mar Limited Liability Company","Simien Mountains   Ltd. Liability Co","Dutch Oyster Pic Delivery","Danish Mackerel Ltd. Corporation","Sea Breeze Kga Forwading","Gulf of Tadjoura  Oyj Marine","Scottish Herring Marine conservation BV Logistics","7 GmbH & Co. KG","Kerala  Market OJSC United","Elara Hull Inc Family","Costa del Sol AB Industrial","Mar del Caribe Sp","SeaSelect Nautilus Limited Liability Company Marine ecology","West S.A. de C.V.","Playa Blanca LC Solutions","Dutch Herring N.V. Worldwide","Caracola Marina Corp Family","Fan er  Ltd. Liability Co","ReefRider Foods Aquamarine Sp Shipping","West NV and Son's","Russian River Ltd. Corporation Investment","The Sea Turtle OJSC","jīng GmbH & Co. KG Brothers","Surf and Sand Sagl"],"x":[-0.000878905915109751,1,0.992974927057285,0.971998324854108,0.937364658904122,0.889560109959332,0.82925574909806,0.757298117358008,0.674697342155734,0.582612957311944,0.482337625738384,0.37527899328411,0.262939928473363,0.146897425525819,0.0287804668145579,-0.0897528444756809,-0.207038560482605,-0.321430246846938,-0.431322095041793,-0.535171464404417,-0.631520537429583,-0.719016784331791,-0.796431949598672,-0.862679294006014,-0.916828850054309,-0.958120476673929,-0.985974529939496,-1,-1,-0.985974529939497,-0.95812047667393,-0.916828850054311,-0.862679294006016,-0.796431949598674,-0.719016784331793,-0.631520537429585,-0.535171464404419,-0.431322095041795,-0.32143024684694,-0.207038560482607,-0.089752844475682,0.0287804668145573,0.146897425525819,0.262939928473363,0.375278993284111,0.482337625738385,0.582612957311945,0.674697342155735,0.75729811735801,0.829255749098061,0.889560109959333,0.937364658904123,0.971998324854109,0.992974927057286],"y":[0,0,0.11832513500075,0.234989244477984,0.348354620065524,0.456829860390089,0.558892210858181,0.653108939792658,0.7381574508449,0.812843849348366,0.876119701982673,0.927096754479216,0.965059400764019,0.989474728498391,1,0.996487463528643,0.978986427396803,0.947742567789026,0.903194480006821,0.845967521552038,0.776865033478341,0.696857063243763,0.607066747370765,0.508754545071402,0.403300544162953,0.292185087660152,0.176967993004214,0.0592666556451211,-0.0592666556451177,-0.176967993004211,-0.292185087660149,-0.40330054416295,-0.508754545071399,-0.607066747370762,-0.696857063243761,-0.776865033478339,-0.845967521552036,-0.90319448000682,-0.947742567789025,-0.978986427396802,-0.996487463528643,-1,-0.989474728498391,-0.965059400764019,-0.927096754479216,-0.876119701982673,-0.812843849348365,-0.738157450844899,-0.653108939792657,-0.558892210858179,-0.456829860390086,-0.348354620065521,-0.234989244477981,-0.118325135000746]},"edges":{"source":["7 GmbH & Co. KG","9 Limited Liability Company","Amerigo S.A. de C.V.","Atlantic Ocean Coast  CJSC","Bahía del Sol CJSC","Barents Sea Cod CJSC Export","Caracola Marina Corp Family","Coastal Cruisers Pic Shipping","Costa de la Felicidad United","Costa del Sol AB Industrial","Danish Mackerel Ltd. Corporation","Deep Sea Divers S.p.A. Marine","Dutch Herring N.V. Worldwide","Dutch Oyster Pic Delivery","Elara Hull Inc Family","Fan er  Ltd. Liability Co","Fresh Limited Liability Company","Gulf of Tadjoura  Oyj Marine","Henan Swordfish Ltd Delivery","Italian Anchovy LC Delivery","Italian Sardines NV Lock","Jharkhand  Ltd. Liability Co Worldwide","Kerala  Market OJSC United","Lake Edward  BV Marine conservation","Mar Azul Salt spray Corporation United","Mar de Coral CJSC","Mar del Caribe Sp","Mar y Luna Sagl","Niger Bend   Nautilus Company United","Ocean Odyssey Sp & Son's","Océano del Este Tanker","Ola de la Costa N.V.","Olas del Sur OJSC Solutions","Orange River   AB & Son's","Pez Dorado Plc Seaport","Playa Blanca LC Solutions","Playa del Mar Limited Liability Company","ReefRider Foods Aquamarine Sp Shipping","Russian River Ltd. Corporation Investment","Saltwater Symphony S.A. de C.V.","Scottish Herring Marine conservation BV Logistics","Sea Breeze Kga Forwading","SeaSelect Nautilus Limited Liability Company Marine ecology","Simien Mountains   Ltd. Liability Co","Tamil Nadu   Corporation Compass","The Sea Turtle OJSC","West NV and Son's","West S.A. de C.V.","Zambezi Gorge  N.V. Transport","bái suō wěn lú Sandbar","jīng GmbH & Co. KG Brothers","nián yú Ltd. Corporation","suō yú Incorporated Brothers"],"target":["Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Surf and Sand Sagl","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass"],"from":[38,15,3,21,26,14,47,11,17,41,34,28,46,33,40,48,9,36,25,12,23,19,39,16,30,5,42,6,24,29,20,13,18,27,10,45,31,49,51,4,37,35,43,32,1,52,50,44,2,22,53,8,7],"to":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,54,1,1,1,1,1,1,1,1],"value":[77.3782672290705,124.294336289623,435.555003389026,580.586578138813,8.59969441292798,8.11072758297449,10.5768146056468,18.3149218156054,4035.1359713873,7.86518795418747,132.280221808566,45.753394023699,29.993661525186,134.947464558189,202.083819964859,214.102478038418,205.905005293445,424.510201519295,8.53405030848266,233.940758294957,4.90527477843843,9.97557562893038,1910.17966629826,41.9990383145495,7.76004068088038,28.1988709667318,20.1331251434919,104.031981782702,9.05075830215172,196.535648731428,79.2864585857572,103.153031200561,9.84373754813035,18.4220999863512,100.853237846652,941.125476646028,7.37775890822787,22.6438325513154,9.72136597574484,20.2326884927928,9.50599061407714,9.23892782882809,9.82390307319329,7.90285719128058,16.9147578953769,19.3353205137383,127.35552266549,19.4117778825894,18.3681577464213,17.199388825856,11.5536834574424,1595.49834476941,150.331159048704]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"physics":{"stabilization":false},"edges":{"arrows":"to","smooth":{"enabled":true}},"layout":{"randomSeed":123,"improvedLayout":true}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a>ego_company <span class="ot">&lt;-</span> <span class="st">"Tamil Nadu   Corporation Compass"</span></span>
<span id="cb191-2"><a href="#cb191-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-3"><a href="#cb191-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the logarithm of the weightkg values to scale them</span></span>
<span id="cb191-4"><a href="#cb191-4" aria-hidden="true" tabindex="-1"></a>MC2_edges<span class="sc">$</span>log_weightkg <span class="ot">&lt;-</span> <span class="fu">log</span>(MC2_edges<span class="sc">$</span>weightkg)</span>
<span id="cb191-5"><a href="#cb191-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-6"><a href="#cb191-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for rows where the source or target is the ego company and it is in October 2032</span></span>
<span id="cb191-7"><a href="#cb191-7" aria-hidden="true" tabindex="-1"></a>filtered_data_1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MC2_edges, (source <span class="sc">==</span> ego_company <span class="sc">|</span> target <span class="sc">==</span> ego_company) <span class="sc">&amp;</span> <span class="fu">month</span>(arrivaldate) <span class="sc">==</span> <span class="dv">10</span> <span class="sc">&amp;</span> <span class="fu">year</span>(arrivaldate) <span class="sc">==</span> <span class="dv">2032</span>)</span>
<span id="cb191-8"><a href="#cb191-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-9"><a href="#cb191-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distinct sources and targets connected to the ego company</span></span>
<span id="cb191-10"><a href="#cb191-10" aria-hidden="true" tabindex="-1"></a>neighbors <span class="ot">&lt;-</span> <span class="fu">union</span>(<span class="fu">unique</span>(filtered_data_1<span class="sc">$</span>source), <span class="fu">unique</span>(filtered_data_1<span class="sc">$</span>target))</span>
<span id="cb191-11"><a href="#cb191-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-12"><a href="#cb191-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the unique source and target values to get distinct company names</span></span>
<span id="cb191-13"><a href="#cb191-13" aria-hidden="true" tabindex="-1"></a>companies <span class="ot">&lt;-</span> <span class="fu">union</span>(ego_company, neighbors)</span>
<span id="cb191-14"><a href="#cb191-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-15"><a href="#cb191-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of nodes with unique IDs based on company names</span></span>
<span id="cb191-16"><a href="#cb191-16" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(companies), <span class="at">label =</span> companies)</span>
<span id="cb191-17"><a href="#cb191-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-18"><a href="#cb191-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-19"><a href="#cb191-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of edges to define the connections between the ego company and its neighbors</span></span>
<span id="cb191-20"><a href="#cb191-20" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> filtered_data_1 <span class="sc">%&gt;%</span></span>
<span id="cb191-21"><a href="#cb191-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source, target, log_weightkg) <span class="sc">%&gt;%</span></span>
<span id="cb191-22"><a href="#cb191-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">match</span>(source, companies), <span class="at">to =</span> <span class="fu">match</span>(target, companies))<span class="sc">%&gt;%</span></span>
<span id="cb191-23"><a href="#cb191-23" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(source,target,from, to) <span class="sc">%&gt;%</span></span>
<span id="cb191-24"><a href="#cb191-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">value =</span> <span class="fu">sum</span>(log_weightkg))</span>
<span id="cb191-25"><a href="#cb191-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-26"><a href="#cb191-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-27"><a href="#cb191-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a visNetwork object</span></span>
<span id="cb191-28"><a href="#cb191-28" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> <span class="fu">visNetwork</span>(nodes, edges)</span>
<span id="cb191-29"><a href="#cb191-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-30"><a href="#cb191-30" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> ego_network <span class="sc">%&gt;%</span></span>
<span id="cb191-31"><a href="#cb191-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb191-32"><a href="#cb191-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_as_star"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb191-33"><a href="#cb191-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>, </span>
<span id="cb191-34"><a href="#cb191-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">smooth =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span> </span>
<span id="cb191-35"><a href="#cb191-35" aria-hidden="true" tabindex="-1"></a>                    ) </span>
<span id="cb191-36"><a href="#cb191-36" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">%&gt;%</span></span>
<span id="cb191-37"><a href="#cb191-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb191-38"><a href="#cb191-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>, <span class="at">improvedLayout =</span> <span class="cn">TRUE</span>)</span>
<span id="cb191-39"><a href="#cb191-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-40"><a href="#cb191-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ego network</span></span>
<span id="cb191-41"><a href="#cb191-41" aria-hidden="true" tabindex="-1"></a>ego_network</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-e941a5c6e5f451012d02" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-e941a5c6e5f451012d02">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],"label":["Tamil Nadu   Corporation Compass","Punjab s Marine conservation","Saltwater Symphony S.A. de C.V.","Mar y Luna Sagl","suō yú Incorporated Brothers","nián yú Ltd. Corporation","Coastal Cruisers Pic Shipping","OceanFront Foods SRL Line","Italian Anchovy LC Delivery","Uttar Pradesh s AG","Ola de la Costa N.V.","Lake Edward  BV Marine conservation","Costa de la Felicidad United","Olas del Sur OJSC Solutions","Maharashtra ers Incorporated Express","Saltwater Solutions S.p.A. Express","North Atlantic  BV Transit","Atlantic Ocean Coast  CJSC","SeaSplash Foods Ferry NV Transport","bái suō wěn lú Sandbar","Niger Bend   Nautilus Company United","Mar del Oeste Transport","Coastal Castaway SRL International","Ocean Odyssey Sp & Son's","Mar Azul Salt spray Corporation United","Mar y Luna GmbH","Dutch Oyster Pic Delivery","FinAddict GmbH & Co. KG","Danish Mackerel Ltd. Corporation","Gulf of Tadjoura  Oyj Marine","Scottish Herring Marine conservation BV Logistics","Kerala  Market OJSC United","Elara Hull Inc Family","Costa del Sol AB Industrial","SeaSelect Nautilus Limited Liability Company Marine ecology","West S.A. de C.V.","Playa Blanca LC Solutions","Caracola Marina Corp Family","Fan er  Ltd. Liability Co","ReefRider Foods Aquamarine Sp Shipping","The Sea Turtle OJSC","Saltwater Surf Club Ltd. Liability Co Transport"],"x":[-0.00146925495119898,1,0.988263204734962,0.953327919473214,0.896012997691516,0.817661852578556,0.720110968568432,0.605646855702044,0.476952455769699,0.337044256429494,0.189201587293274,0.036889755219955,-0.116321179540186,-0.266840082531939,-0.411138918243083,-0.54583544426657,-0.667772488195892,-0.774091949070391,-0.862301788839366,-0.930334443621824,-0.97659528565147,-1,-1,-0.976595285651471,-0.930334443621825,-0.862301788839367,-0.774091949070393,-0.667772488195894,-0.545835444266572,-0.411138918243084,-0.26684008253194,-0.116321179540187,0.0368897552199547,0.189201587293274,0.337044256429495,0.4769524557697,0.605646855702045,0.720110968568433,0.817661852578557,0.896012997691517,0.953327919473214,0.988263204734962],"y":[0,0,0.15276138341673,0.301942169480717,0.444045687006391,0.575741149984308,0.693941728382162,0.795876900824474,0.879157393265441,0.941831181547519,0.982429245193216,1,0.994131602367481,0.964961602562342,0.91317372065667,0.839981820708962,0.747101458819412,0.636709671948969,0.511393950018135,0.37409158733629,0.228020834912608,0.076605467380072,-0.0766054673800695,-0.228020834912605,-0.374091587336287,-0.511393950018133,-0.636709671948967,-0.747101458819411,-0.839981820708961,-0.91317372065667,-0.964961602562342,-0.994131602367481,-1,-0.982429245193216,-0.941831181547519,-0.879157393265441,-0.795876900824473,-0.693941728382161,-0.575741149984306,-0.444045687006389,-0.301942169480714,-0.152761383416727]},"edges":{"source":["Atlantic Ocean Coast  CJSC","Caracola Marina Corp Family","Coastal Castaway SRL International","Coastal Cruisers Pic Shipping","Costa de la Felicidad United","Costa del Sol AB Industrial","Danish Mackerel Ltd. Corporation","Dutch Oyster Pic Delivery","Elara Hull Inc Family","Fan er  Ltd. Liability Co","FinAddict GmbH & Co. KG","Gulf of Tadjoura  Oyj Marine","Italian Anchovy LC Delivery","Kerala  Market OJSC United","Lake Edward  BV Marine conservation","Maharashtra ers Incorporated Express","Mar Azul Salt spray Corporation United","Mar del Oeste Transport","Mar y Luna GmbH","Mar y Luna Sagl","Niger Bend   Nautilus Company United","North Atlantic  BV Transit","Ocean Odyssey Sp & Son's","OceanFront Foods SRL Line","Ola de la Costa N.V.","Olas del Sur OJSC Solutions","Playa Blanca LC Solutions","Punjab s Marine conservation","ReefRider Foods Aquamarine Sp Shipping","Saltwater Solutions S.p.A. Express","Saltwater Surf Club Ltd. Liability Co Transport","Saltwater Symphony S.A. de C.V.","Scottish Herring Marine conservation BV Logistics","SeaSelect Nautilus Limited Liability Company Marine ecology","SeaSplash Foods Ferry NV Transport","The Sea Turtle OJSC","Uttar Pradesh s AG","West S.A. de C.V.","bái suō wěn lú Sandbar","nián yú Ltd. Corporation","suō yú Incorporated Brothers"],"target":["Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass"],"from":[18,38,23,7,13,34,29,27,33,39,28,30,9,32,12,15,25,22,26,4,21,17,24,8,11,14,37,2,40,16,42,3,31,35,19,41,10,36,20,6,5],"to":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"value":[1264.16036206652,33.6561260576246,92.9040941037524,28.3432862037556,3737.35776247452,7.93200315236138,24.5256880996467,240.727875698881,116.099287470522,194.77252397537,217.785788294298,409.596586675248,346.082614208699,488.370244998276,38.4944139171795,9.56064506890707,8.07402621612406,65.7677434139123,7.36201055125973,38.201740598077,8.15622332319462,93.5340369374041,309.549969689984,33.7231433926133,126.654846393602,19.7778469700803,407.764535785182,8.86714558959414,11.5735500867867,9.28730141311231,19.9941812751948,9.79423056659918,8.28778002708843,9.82444434519567,11.1630842606101,19.5244596625718,96.3959888541424,9.62278109382077,9.13615547378681,894.987642989086,399.824267754566]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"physics":{"stabilization":false},"edges":{"arrows":"to","smooth":{"enabled":true}},"layout":{"randomSeed":123,"improvedLayout":true}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a>ego_company <span class="ot">&lt;-</span> <span class="st">"Tamil Nadu   Corporation Compass"</span></span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-3"><a href="#cb192-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the logarithm of the weightkg values to scale them</span></span>
<span id="cb192-4"><a href="#cb192-4" aria-hidden="true" tabindex="-1"></a>MC2_edges<span class="sc">$</span>log_weightkg <span class="ot">&lt;-</span> <span class="fu">log</span>(MC2_edges<span class="sc">$</span>weightkg)</span>
<span id="cb192-5"><a href="#cb192-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-6"><a href="#cb192-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for rows where the source or target is the ego company and it is in December 2032</span></span>
<span id="cb192-7"><a href="#cb192-7" aria-hidden="true" tabindex="-1"></a>filtered_data_2 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MC2_edges, (source <span class="sc">==</span> ego_company <span class="sc">|</span> target <span class="sc">==</span> ego_company) <span class="sc">&amp;</span> <span class="fu">month</span>(arrivaldate) <span class="sc">==</span> <span class="dv">12</span> <span class="sc">&amp;</span> <span class="fu">year</span>(arrivaldate) <span class="sc">==</span> <span class="dv">2032</span>)</span>
<span id="cb192-8"><a href="#cb192-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-9"><a href="#cb192-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distinct sources and targets connected to the ego company</span></span>
<span id="cb192-10"><a href="#cb192-10" aria-hidden="true" tabindex="-1"></a>neighbors <span class="ot">&lt;-</span> <span class="fu">union</span>(<span class="fu">unique</span>(filtered_data_2<span class="sc">$</span>source), <span class="fu">unique</span>(filtered_data_2<span class="sc">$</span>target))</span>
<span id="cb192-11"><a href="#cb192-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-12"><a href="#cb192-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the unique source and target values to get distinct company names</span></span>
<span id="cb192-13"><a href="#cb192-13" aria-hidden="true" tabindex="-1"></a>companies <span class="ot">&lt;-</span> <span class="fu">union</span>(ego_company, neighbors)</span>
<span id="cb192-14"><a href="#cb192-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-15"><a href="#cb192-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of nodes with unique IDs based on company names</span></span>
<span id="cb192-16"><a href="#cb192-16" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(companies), <span class="at">label =</span> companies)</span>
<span id="cb192-17"><a href="#cb192-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-18"><a href="#cb192-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-19"><a href="#cb192-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of edges to define the connections between the ego company and its neighbors</span></span>
<span id="cb192-20"><a href="#cb192-20" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> filtered_data_2 <span class="sc">%&gt;%</span></span>
<span id="cb192-21"><a href="#cb192-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source, target, log_weightkg) <span class="sc">%&gt;%</span></span>
<span id="cb192-22"><a href="#cb192-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">match</span>(source, companies), <span class="at">to =</span> <span class="fu">match</span>(target, companies))<span class="sc">%&gt;%</span></span>
<span id="cb192-23"><a href="#cb192-23" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(source,target,from, to) <span class="sc">%&gt;%</span></span>
<span id="cb192-24"><a href="#cb192-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">value =</span> <span class="fu">sum</span>(log_weightkg))</span>
<span id="cb192-25"><a href="#cb192-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-26"><a href="#cb192-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-27"><a href="#cb192-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a visNetwork object</span></span>
<span id="cb192-28"><a href="#cb192-28" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> <span class="fu">visNetwork</span>(nodes, edges)</span>
<span id="cb192-29"><a href="#cb192-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-30"><a href="#cb192-30" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> ego_network <span class="sc">%&gt;%</span></span>
<span id="cb192-31"><a href="#cb192-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb192-32"><a href="#cb192-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_as_star"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb192-33"><a href="#cb192-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>, </span>
<span id="cb192-34"><a href="#cb192-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">smooth =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span> </span>
<span id="cb192-35"><a href="#cb192-35" aria-hidden="true" tabindex="-1"></a>                    ) </span>
<span id="cb192-36"><a href="#cb192-36" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">%&gt;%</span></span>
<span id="cb192-37"><a href="#cb192-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb192-38"><a href="#cb192-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>, <span class="at">improvedLayout =</span> <span class="cn">TRUE</span>)</span>
<span id="cb192-39"><a href="#cb192-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-40"><a href="#cb192-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ego network</span></span>
<span id="cb192-41"><a href="#cb192-41" aria-hidden="true" tabindex="-1"></a>ego_network</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-a9f1aa43a88358b906c6" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-a9f1aa43a88358b906c6">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],"label":["Tamil Nadu   Corporation Compass","Zambezi Gorge  N.V. Transport","Amerigo S.A. de C.V.","Jammu & Kashmir  AB Consultants","Mar y Luna Sagl","suō yú Incorporated Brothers","nián yú Ltd. Corporation","Italian Anchovy LC Delivery","Ola de la Costa N.V.","Lake Edward  BV Marine conservation","Costa de la Felicidad United","Jharkhand  Ltd. Liability Co Worldwide","Portuguese Tuna A/S Cargo","Arawak Ltd. Liability Co","Atlantic Ocean Coast  CJSC","bái suō wěn lú Sandbar","Niger Bend   Nautilus Company United","Mar de la Costa ОАО","Coastal Castaway SRL International","Turkish Salmon Ltd. Liability Co Transit","La gan  ОАО Freight ","Dutch Oyster Pic Delivery","FinAddict GmbH & Co. KG","Danish Mackerel Ltd. Corporation","Scottish Herring Marine conservation BV Logistics","Elara Hull Inc Family","Playa Blanca LC Solutions","Caracola Marina Corp Family","Fan er  Ltd. Liability Co","Náutica del Norte ОАО","Karnataka Sea  Ltd Marine biology","Mar del Paraíso Limited Liability Company","Caspian Sea   Sea spray","The Salty Dog Company","Saltwater Surf Club Ltd. Liability Co Transport","jīng GmbH & Co. KG Brothers"],"x":[-0.00201691275126747,1,0.983897175980956,0.936106261937244,0.858163297168725,0.752573432694742,0.62273041363912,0.472807501469499,0.307623341939993,0.13248708985186,-0.0469722315501998,-0.224986652016702,-0.395834641603101,-0.554025005349895,-0.694473374806798,-0.812665623818162,-0.904802956251854,-0.967924002432606,-1,-1,-0.967924002432606,-0.904802956251854,-0.812665623818162,-0.694473374806798,-0.554025005349896,-0.395834641603101,-0.224986652016702,-0.0469722315502,0.13248708985186,0.307623341939993,0.472807501469499,0.62273041363912,0.752573432694742,0.858163297168724,0.936106261937244,0.983897175980956],"y":[-1.11022302462516e-16,-1.11022302462516e-16,0.178736870934281,0.351728991771547,0.513416253409697,0.658601894222959,0.782619528256452,0.881483126710289,0.952015132184925,0.991948587990478,1,0.975910589206781,0.920454609094549,0.835414460493443,0.72352340375077,0.588377709494508,0.4343210715363,0.266304996978348,0.0897296607010298,-0.0897296607010298,-0.266304996978348,-0.4343210715363,-0.588377709494508,-0.72352340375077,-0.835414460493443,-0.920454609094549,-0.975910589206781,-1,-0.991948587990478,-0.952015132184926,-0.881483126710289,-0.782619528256452,-0.65860189422296,-0.513416253409698,-0.351728991771547,-0.178736870934281]},"edges":{"source":["Amerigo S.A. de C.V.","Arawak Ltd. Liability Co","Atlantic Ocean Coast  CJSC","Caracola Marina Corp Family","Caspian Sea   Sea spray","Coastal Castaway SRL International","Costa de la Felicidad United","Danish Mackerel Ltd. Corporation","Dutch Oyster Pic Delivery","Elara Hull Inc Family","Fan er  Ltd. Liability Co","FinAddict GmbH & Co. KG","Italian Anchovy LC Delivery","Jammu & Kashmir  AB Consultants","Jharkhand  Ltd. Liability Co Worldwide","Karnataka Sea  Ltd Marine biology","La gan  ОАО Freight ","Lake Edward  BV Marine conservation","Mar de la Costa ОАО","Mar del Paraíso Limited Liability Company","Mar y Luna Sagl","Niger Bend   Nautilus Company United","Náutica del Norte ОАО","Ola de la Costa N.V.","Playa Blanca LC Solutions","Portuguese Tuna A/S Cargo","Saltwater Surf Club Ltd. Liability Co Transport","Scottish Herring Marine conservation BV Logistics","The Salty Dog Company","Turkish Salmon Ltd. Liability Co Transit","Zambezi Gorge  N.V. Transport","bái suō wěn lú Sandbar","jīng GmbH & Co. KG Brothers","nián yú Ltd. Corporation","suō yú Incorporated Brothers"],"target":["Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass"],"from":[3,14,15,28,33,19,11,24,22,26,29,23,8,4,12,31,21,10,18,32,5,17,30,9,27,13,35,25,34,20,2,16,36,7,6],"to":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"value":[217.774738569612,207.604478337117,1028.35190843346,23.2944920307128,11.8054458140623,51.6537359997291,5685.50899982675,64.9336161600327,231.576295291002,9.50636256870296,29.2296640929394,1088.41892084126,383.083084572561,4621.64708340009,8.69030580912488,8.19007704971905,8.72258002114119,161.333984787467,9.55322060489273,19.120148408107,42.7634378524025,14.6331073917108,13.0009299371208,450.322655214995,216.235771102465,19.7686094662387,10.19148207617,19.0729905652907,9.86786037489298,19.3893324000944,83.1034437314474,8.59969441292798,21.4208194822648,1514.7291342932,192.660459928869]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"physics":{"stabilization":false},"edges":{"arrows":"to","smooth":{"enabled":true}},"layout":{"randomSeed":123,"improvedLayout":true}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-4-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-4-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a>ego_company <span class="ot">&lt;-</span> <span class="st">"Tamil Nadu   Corporation Compass"</span></span>
<span id="cb193-2"><a href="#cb193-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-3"><a href="#cb193-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the logarithm of the weightkg values to scale them</span></span>
<span id="cb193-4"><a href="#cb193-4" aria-hidden="true" tabindex="-1"></a>MC2_edges<span class="sc">$</span>log_weightkg <span class="ot">&lt;-</span> <span class="fu">log</span>(MC2_edges<span class="sc">$</span>weightkg)</span>
<span id="cb193-5"><a href="#cb193-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-6"><a href="#cb193-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for rows where the source or target is the ego company and it is in July 2033</span></span>
<span id="cb193-7"><a href="#cb193-7" aria-hidden="true" tabindex="-1"></a>filtered_data_3 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MC2_edges, (source <span class="sc">==</span> ego_company <span class="sc">|</span> target <span class="sc">==</span> ego_company) <span class="sc">&amp;</span> <span class="fu">month</span>(arrivaldate) <span class="sc">==</span> <span class="dv">7</span> <span class="sc">&amp;</span> <span class="fu">year</span>(arrivaldate) <span class="sc">==</span> <span class="dv">2033</span>)</span>
<span id="cb193-8"><a href="#cb193-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-9"><a href="#cb193-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distinct sources and targets connected to the ego company</span></span>
<span id="cb193-10"><a href="#cb193-10" aria-hidden="true" tabindex="-1"></a>neighbors <span class="ot">&lt;-</span> <span class="fu">union</span>(<span class="fu">unique</span>(filtered_data_3<span class="sc">$</span>source), <span class="fu">unique</span>(filtered_data_3<span class="sc">$</span>target))</span>
<span id="cb193-11"><a href="#cb193-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-12"><a href="#cb193-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the unique source and target values to get distinct company names</span></span>
<span id="cb193-13"><a href="#cb193-13" aria-hidden="true" tabindex="-1"></a>companies <span class="ot">&lt;-</span> <span class="fu">union</span>(ego_company, neighbors)</span>
<span id="cb193-14"><a href="#cb193-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-15"><a href="#cb193-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of nodes with unique IDs based on company names</span></span>
<span id="cb193-16"><a href="#cb193-16" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(companies), <span class="at">label =</span> companies)</span>
<span id="cb193-17"><a href="#cb193-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-18"><a href="#cb193-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-19"><a href="#cb193-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of edges to define the connections between the ego company and its neighbors</span></span>
<span id="cb193-20"><a href="#cb193-20" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> filtered_data_3 <span class="sc">%&gt;%</span></span>
<span id="cb193-21"><a href="#cb193-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source, target, log_weightkg) <span class="sc">%&gt;%</span></span>
<span id="cb193-22"><a href="#cb193-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">match</span>(source, companies), <span class="at">to =</span> <span class="fu">match</span>(target, companies))<span class="sc">%&gt;%</span></span>
<span id="cb193-23"><a href="#cb193-23" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(source,target,from, to) <span class="sc">%&gt;%</span></span>
<span id="cb193-24"><a href="#cb193-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">value =</span> <span class="fu">sum</span>(log_weightkg))</span>
<span id="cb193-25"><a href="#cb193-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-26"><a href="#cb193-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-27"><a href="#cb193-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a visNetwork object</span></span>
<span id="cb193-28"><a href="#cb193-28" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> <span class="fu">visNetwork</span>(nodes, edges)</span>
<span id="cb193-29"><a href="#cb193-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-30"><a href="#cb193-30" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> ego_network <span class="sc">%&gt;%</span></span>
<span id="cb193-31"><a href="#cb193-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb193-32"><a href="#cb193-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_as_star"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb193-33"><a href="#cb193-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>, </span>
<span id="cb193-34"><a href="#cb193-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">smooth =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span> </span>
<span id="cb193-35"><a href="#cb193-35" aria-hidden="true" tabindex="-1"></a>                    ) </span>
<span id="cb193-36"><a href="#cb193-36" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">%&gt;%</span></span>
<span id="cb193-37"><a href="#cb193-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb193-38"><a href="#cb193-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>, <span class="at">improvedLayout =</span> <span class="cn">TRUE</span>)</span>
<span id="cb193-39"><a href="#cb193-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-40"><a href="#cb193-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ego network</span></span>
<span id="cb193-41"><a href="#cb193-41" aria-hidden="true" tabindex="-1"></a>ego_network</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-26eea2ca84b8b5c5b14d" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-26eea2ca84b8b5c5b14d">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],"label":["Tamil Nadu   Corporation Compass","Playa de Arena Submarine S.A. de C.V. Marine","Zambezi Gorge  N.V. Transport","Amerigo S.A. de C.V.","Saltwater Symphony S.A. de C.V.","Jammu & Kashmir  AB Consultants","Mar y Luna Sagl","suō yú Incorporated Brothers","nián yú Ltd. Corporation","Fresh Limited Liability Company","Italian Anchovy LC Delivery","Ola de la Costa N.V.","Sparrman's bream Co Marine","2 Limited Liability Company","Lake Edward  BV Marine conservation","Costa de la Felicidad United","Jharkhand  Ltd. Liability Co Worldwide","BlueTide N.V. Marine conservation","Costa de la Felicidad AG","Portuguese Tuna A/S Cargo","Océano del Este Tanker","Saltwater Solutions S.p.A. Express","Atlantic Ocean Coast  CJSC","Italian Sardines NV Lock","Costa del Mar S.A. de C.V.","Dutch Oyster Pic Delivery","FinAddict GmbH & Co. KG","Gulf of Tadjoura  Oyj Marine","Scottish Herring Marine conservation BV Logistics","Coral del Sur Wharf SRL Logistics","Mar de Cristal Ltd. Liability Co","Kerala  Market OJSC United","Faroe Islands Halibut Forwading","Elara Hull Inc Family","Fan er  Ltd. Liability Co","Portuguese Tuna Plc Family","Mar del Paraíso Limited Liability Company","Kilimajaro Slopes   Incorporated and Son's","Norwegian King Crab S.A. de C.V.","Surf and Sand Sagl"],"x":[-0.00162397896458433,1,0.98702923253684,0.948452866211425,0.885270008648351,0.799117062670073,0.69222534432337,0.567363292965785,0.427764770140462,0.277045304260849,0.119108450323935,-0.0419553101137259,-0.201974510259697,-0.356804736884415,-0.502435968446876,-0.635096432546177,-0.75135029284548,-0.848186635428377,-0.92309744988776,-0.974142585477972,-1,-1,-0.974142585477971,-0.92309744988776,-0.848186635428377,-0.75135029284548,-0.635096432546176,-0.502435968446875,-0.356804736884414,-0.201974510259696,-0.0419553101137247,0.119108450323936,0.277045304260851,0.427764770140464,0.567363292965787,0.692225344323372,0.799117062670075,0.885270008648352,0.948452866211426,0.98702923253684],"y":[0,0,0.160541480291816,0.316925020572632,0.465100369293669,0.601229862755981,0.721787818584425,0.823651849049225,0.904183729268055,0.961297725844698,0.99351461626842,1,0.980585909007406,0.935775158049593,0.866728322038364,0.775233677757777,0.663660888434774,0.534899630706331,0.392284753512439,0.239509907260273,0.08053188021883,-0.0805318802188307,-0.239509907260274,-0.39228475351244,-0.534899630706331,-0.663660888434774,-0.775233677757778,-0.866728322038365,-0.935775158049593,-0.980585909007406,-1,-0.99351461626842,-0.961297725844698,-0.904183729268055,-0.823651849049224,-0.721787818584424,-0.601229862755979,-0.465100369293667,-0.316925020572629,-0.160541480291813]},"edges":{"source":["2 Limited Liability Company","Amerigo S.A. de C.V.","Atlantic Ocean Coast  CJSC","BlueTide N.V. Marine conservation","Coral del Sur Wharf SRL Logistics","Costa de la Felicidad AG","Costa de la Felicidad United","Costa del Mar S.A. de C.V.","Dutch Oyster Pic Delivery","Elara Hull Inc Family","Fan er  Ltd. Liability Co","Faroe Islands Halibut Forwading","FinAddict GmbH & Co. KG","Fresh Limited Liability Company","Gulf of Tadjoura  Oyj Marine","Italian Anchovy LC Delivery","Italian Sardines NV Lock","Jammu & Kashmir  AB Consultants","Jharkhand  Ltd. Liability Co Worldwide","Kerala  Market OJSC United","Kilimajaro Slopes   Incorporated and Son's","Lake Edward  BV Marine conservation","Mar de Cristal Ltd. Liability Co","Mar del Paraíso Limited Liability Company","Mar y Luna Sagl","Norwegian King Crab S.A. de C.V.","Océano del Este Tanker","Ola de la Costa N.V.","Playa de Arena Submarine S.A. de C.V. Marine","Portuguese Tuna A/S Cargo","Portuguese Tuna Plc Family","Saltwater Solutions S.p.A. Express","Saltwater Symphony S.A. de C.V.","Scottish Herring Marine conservation BV Logistics","Sparrman's bream Co Marine","Tamil Nadu   Corporation Compass","Zambezi Gorge  N.V. Transport","nián yú Ltd. Corporation","suō yú Incorporated Brothers"],"target":["Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Surf and Sand Sagl","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass"],"from":[14,4,23,18,30,19,16,25,26,34,35,33,27,10,28,11,24,6,17,32,38,15,31,37,7,39,21,12,2,20,36,22,5,29,13,1,3,9,8],"to":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,40,1,1,1],"value":[9.99879773234045,584.696687578762,259.314183082097,91.4793027394053,113.682611210798,10.1181956250292,5972.66320787414,7.70751219460034,355.881523332039,64.8329546968759,233.742071270403,867.863309501851,1306.34093050802,20.4856730843957,9.65598726971718,185.97705365405,96.6173585540998,5923.86434881645,8.93853164868069,683.710404875692,101.024217114262,43.3201956502933,28.7967628317492,77.2004539192806,200.087588870093,8.0245348716057,79.2864585857572,27.1965115197666,9.70167731915831,297.857775362028,95.8854972519929,8.35819745992578,45.057495941493,18.2637037822839,103.474021045797,11.5676503646595,9.40508444876869,242.270783988191,63.0890062977678]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"physics":{"stabilization":false},"edges":{"arrows":"to","smooth":{"enabled":true}},"layout":{"randomSeed":123,"improvedLayout":true}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-4-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-5-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a>ego_company <span class="ot">&lt;-</span> <span class="st">"Tamil Nadu   Corporation Compass"</span></span>
<span id="cb194-2"><a href="#cb194-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-3"><a href="#cb194-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the logarithm of the weightkg values to scale them</span></span>
<span id="cb194-4"><a href="#cb194-4" aria-hidden="true" tabindex="-1"></a>MC2_edges<span class="sc">$</span>log_weightkg <span class="ot">&lt;-</span> <span class="fu">log</span>(MC2_edges<span class="sc">$</span>weightkg)</span>
<span id="cb194-5"><a href="#cb194-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-6"><a href="#cb194-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for rows where the source or target is the ego company and it is in August 2033</span></span>
<span id="cb194-7"><a href="#cb194-7" aria-hidden="true" tabindex="-1"></a>filtered_data_4 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MC2_edges, (source <span class="sc">==</span> ego_company <span class="sc">|</span> target <span class="sc">==</span> ego_company) <span class="sc">&amp;</span> <span class="fu">month</span>(arrivaldate) <span class="sc">==</span> <span class="dv">8</span> <span class="sc">&amp;</span> <span class="fu">year</span>(arrivaldate) <span class="sc">==</span> <span class="dv">2033</span>)</span>
<span id="cb194-8"><a href="#cb194-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-9"><a href="#cb194-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distinct sources and targets connected to the ego company</span></span>
<span id="cb194-10"><a href="#cb194-10" aria-hidden="true" tabindex="-1"></a>neighbors <span class="ot">&lt;-</span> <span class="fu">union</span>(<span class="fu">unique</span>(filtered_data_4<span class="sc">$</span>source), <span class="fu">unique</span>(filtered_data_4<span class="sc">$</span>target))</span>
<span id="cb194-11"><a href="#cb194-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-12"><a href="#cb194-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the unique source and target values to get distinct company names</span></span>
<span id="cb194-13"><a href="#cb194-13" aria-hidden="true" tabindex="-1"></a>companies <span class="ot">&lt;-</span> <span class="fu">union</span>(ego_company, neighbors)</span>
<span id="cb194-14"><a href="#cb194-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-15"><a href="#cb194-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of nodes with unique IDs based on company names</span></span>
<span id="cb194-16"><a href="#cb194-16" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(companies), <span class="at">label =</span> companies)</span>
<span id="cb194-17"><a href="#cb194-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-18"><a href="#cb194-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-19"><a href="#cb194-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame of edges to define the connections between the ego company and its neighbors</span></span>
<span id="cb194-20"><a href="#cb194-20" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> filtered_data_4 <span class="sc">%&gt;%</span></span>
<span id="cb194-21"><a href="#cb194-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source, target, log_weightkg) <span class="sc">%&gt;%</span></span>
<span id="cb194-22"><a href="#cb194-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">match</span>(source, companies), <span class="at">to =</span> <span class="fu">match</span>(target, companies))<span class="sc">%&gt;%</span></span>
<span id="cb194-23"><a href="#cb194-23" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(source,target,from, to) <span class="sc">%&gt;%</span></span>
<span id="cb194-24"><a href="#cb194-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">value =</span> <span class="fu">sum</span>(log_weightkg))</span>
<span id="cb194-25"><a href="#cb194-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-26"><a href="#cb194-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-27"><a href="#cb194-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a visNetwork object</span></span>
<span id="cb194-28"><a href="#cb194-28" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> <span class="fu">visNetwork</span>(nodes, edges)</span>
<span id="cb194-29"><a href="#cb194-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-30"><a href="#cb194-30" aria-hidden="true" tabindex="-1"></a>ego_network <span class="ot">&lt;-</span> ego_network <span class="sc">%&gt;%</span></span>
<span id="cb194-31"><a href="#cb194-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb194-32"><a href="#cb194-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_as_star"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb194-33"><a href="#cb194-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>, </span>
<span id="cb194-34"><a href="#cb194-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">smooth =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span> </span>
<span id="cb194-35"><a href="#cb194-35" aria-hidden="true" tabindex="-1"></a>                    ) </span>
<span id="cb194-36"><a href="#cb194-36" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">%&gt;%</span></span>
<span id="cb194-37"><a href="#cb194-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb194-38"><a href="#cb194-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>, <span class="at">improvedLayout =</span> <span class="cn">TRUE</span>)</span>
<span id="cb194-39"><a href="#cb194-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-40"><a href="#cb194-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ego network</span></span>
<span id="cb194-41"><a href="#cb194-41" aria-hidden="true" tabindex="-1"></a>ego_network</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-e1f2c54551b3f4dbe889" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-e1f2c54551b3f4dbe889">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],"label":["Tamil Nadu   Corporation Compass","Playa de Arena Submarine S.A. de C.V. Marine","Amerigo S.A. de C.V.","Saltwater Symphony S.A. de C.V.","Jammu & Kashmir  AB Consultants","Mar y Luna Sagl","suō yú Incorporated Brothers","nián yú Ltd. Corporation","Fresh Limited Liability Company","Coastal Cruisers Pic Shipping","Italian Anchovy LC Delivery","Ola de la Costa N.V.","Barents Sea Cod CJSC Export","Lake Edward  BV Marine conservation","Costa de la Felicidad United","Caracola del Mar LC","Portuguese Tuna A/S Cargo","Wave Watchers Ltd. Liability Co","Atlantic Ocean Coast  CJSC","Mar del Oeste Transport","Bahía del Sol CJSC","Himachal Pradesh   AG Shipping","Mar y Luna GmbH","Dutch Oyster Pic Delivery","Gulf of Tadjoura  Oyj Marine","Scottish Herring Marine conservation BV Logistics","Mar de Cristal Ltd. Liability Co","Kerala  Market OJSC United","Faroe Islands Halibut Forwading","Ancla Marina Coast Incorporated Solutions","Elara Hull Inc Family","SeaSelect Nautilus Limited Liability Company Marine ecology","Fan er  Ltd. Liability Co","Portuguese Tuna Plc Family","Mar del Paraíso Limited Liability Company","Kilimajaro Slopes   Incorporated and Son's","Surf and Sand Sagl"],"x":[0,1,0.984807753012208,0.939692620785908,0.866025403784439,0.766044443118978,0.642787609686539,0.5,0.342020143325669,0.173648177666931,0,-0.17364817766693,-0.342020143325669,-0.5,-0.642787609686539,-0.766044443118978,-0.866025403784438,-0.939692620785908,-0.984807753012208,-1,-0.984807753012208,-0.939692620785909,-0.86602540378444,-0.766044443118979,-0.642787609686541,-0.500000000000002,-0.342020143325671,-0.173648177666933,-2.88657986402541e-15,0.173648177666927,0.342020143325666,0.499999999999997,0.642787609686537,0.766044443118976,0.866025403784437,0.939692620785907,0.984807753012207],"y":[0,0,0.17364817766693,0.342020143325669,0.5,0.642787609686539,0.766044443118978,0.866025403784439,0.939692620785908,0.984807753012208,1,0.984807753012208,0.939692620785908,0.866025403784439,0.766044443118978,0.64278760968654,0.500000000000001,0.34202014332567,0.173648177666932,1.55431223447522e-15,-0.173648177666929,-0.342020143325667,-0.499999999999998,-0.642787609686538,-0.766044443118977,-0.866025403784437,-0.939692620785908,-0.984807753012208,-1,-0.984807753012209,-0.93969262078591,-0.86602540378444,-0.76604444311898,-0.642787609686542,-0.500000000000004,-0.342020143325673,-0.173648177666935]},"edges":{"source":["Amerigo S.A. de C.V.","Ancla Marina Coast Incorporated Solutions","Atlantic Ocean Coast  CJSC","Bahía del Sol CJSC","Barents Sea Cod CJSC Export","Caracola del Mar LC","Coastal Cruisers Pic Shipping","Costa de la Felicidad United","Dutch Oyster Pic Delivery","Elara Hull Inc Family","Fan er  Ltd. Liability Co","Faroe Islands Halibut Forwading","Fresh Limited Liability Company","Gulf of Tadjoura  Oyj Marine","Himachal Pradesh   AG Shipping","Italian Anchovy LC Delivery","Jammu & Kashmir  AB Consultants","Kerala  Market OJSC United","Kilimajaro Slopes   Incorporated and Son's","Lake Edward  BV Marine conservation","Mar de Cristal Ltd. Liability Co","Mar del Oeste Transport","Mar del Paraíso Limited Liability Company","Mar y Luna GmbH","Mar y Luna Sagl","Ola de la Costa N.V.","Playa de Arena Submarine S.A. de C.V. Marine","Portuguese Tuna A/S Cargo","Portuguese Tuna Plc Family","Saltwater Symphony S.A. de C.V.","Scottish Herring Marine conservation BV Logistics","SeaSelect Nautilus Limited Liability Company Marine ecology","Tamil Nadu   Corporation Compass","Wave Watchers Ltd. Liability Co","nián yú Ltd. Corporation","suō yú Incorporated Brothers"],"target":["Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Surf and Sand Sagl","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass","Tamil Nadu   Corporation Compass"],"from":[3,30,19,21,13,16,10,15,24,31,33,29,9,25,22,11,5,28,36,14,27,20,35,23,6,12,2,17,34,4,26,32,1,18,8,7],"to":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,37,1,1,1],"value":[10.6525423650344,116.202583055709,613.716878907941,6.57228254269401,95.8990663894952,9.87816974455184,105.097130857797,5135.04264764435,325.500722280883,96.4103756134903,165.533847225264,1520.91897022907,139.766761143417,221.555933572584,443.638884497223,394.370823921901,3710.17059939356,2352.56769075103,140.120353116884,33.7292681193664,47.2754232192656,69.4091010604917,115.270416814237,8.47010158388239,274.66481368444,19.4071779039889,70.082605044443,60.238653581136,103.353469724574,92.522580448577,9.66871413573975,49.1113511756074,12.2607975452194,9.75527752537094,300.034614244356,16.5266725789954]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"physics":{"stabilization":false},"edges":{"arrows":"to","smooth":{"enabled":true}},"layout":{"randomSeed":123,"improvedLayout":true}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Base on these ego network graphs we identified potential companies which might have engaged in illegal fishing activities. They are:</p>
<ul>
<li><p>Jammu &amp; Kashmir AB Consutants</p></li>
<li><p>Tamil Nadu Coporation Compass</p></li>
<li><p>Costa de la Felicidad United</p></li>
<li><p>Kambala and A/S shipping</p></li>
<li><p>-6586</p></li>
</ul>
<p>Kerala market OJSC United</p>
<p>The companies were chosen due to their high weightkg transaction with either of the two companies during the anomaly months. Therefore, these selected companies should be further examined and the companies should also provide more details to justify their actions if they claim otherwise.</p>
<p>However, this analysis has its own limitations as well.</p>
<p>Limitations:</p>
<ul>
<li><p>Large increase in weightkg is consider abnormal</p></li>
<li><p>Companies which engage in illegal fishing would knows who are the sources / targets which they can trade with</p></li>
<li><p>Second- layer companies are not aware of illegal fishing activities - Quota for all companies are the same, therefore high weight is abnormal</p></li>
<li><p>Assumption that as the count of trade is similar across the years, it is therefore abnormal for certain months to have sudden spike in the weight without increase in count</p></li>
<li><p>Many columns in the MC2 data files which are essential to analysis seems to contain empty values which hiders better results</p></li>
<li><p>Did not infuse external HScode data for analysis of fishing category due to increased complexity</p></li>
</ul>
<p>* Credits to Dr Kam Tin Seong for providing the <a href="https://isss608-ay2022-23apr.netlify.app/take-home_ex/th_ex02/mc2-kick-starter1">kickstarter</a>.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>